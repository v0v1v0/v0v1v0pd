<div class="container">

<table style="width: 100%;"><tr>
<td>read_dam_file</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reads data from a single DAM2 single beam or a DAM5 multibeam file</h2>

<h3>Description</h3>

<p>This function retrieves activity data in a DAMS text file.
It allows selection of a date range and channels (i.e. regions).
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_dam_file(
  path,
  region_id = 1:32,
  start_datetime = -Inf,
  stop_datetime = +Inf,
  tz = "UTC",
  date_format = "%d %b %y"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>location of the file to read (character)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region_id</code></td>
<td>
<p>vector of unique regions to read</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_datetime, stop_datetime</code></td>
<td>
<p>the start and the end of an the experiment (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>the timezone (see OlsonNames for a list)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_format</code></td>
<td>
<p>the format of the dates in the DAM file (see details)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>start_datetime</code> and <code>stop_datetime</code> are formatted as "YYYY-MM-DD HH:MM:SS".
<code>start_datetime</code> is used as the reference time (ZT0).
Therefore, if you are interested in circadian analysis and <code>D -&gt; L</code> transitions are at 10:00:00,
you probably want to set <code>start_datetime = "YYYY-MM-DD 10:00:00"</code>.
</p>
<p>According to the acquisition system, the date format can be inconsistently formatted between DAM Systems.
Specify the format using strptime syntax. For instance:
</p>

<ul>
<li> <p><code>"%d %b %y"</code>  – the default, to parse <code>"15 Nov 2019"</code>
</p>
</li>
<li> <p><code>"%d-%m-%y"</code>  – to parse <code>"15-11-2019"</code>
</p>
</li>
<li> <p><code>"%Y-%m-%d"</code>  – the default to parse <code>"2019-11-15"</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>A behavr table.
The metadata contains an autogenerated id per animal.
The data has the columns:
</p>

<ul>
<li> <p><code>id</code> – autogenerated unique identifier, one per animal
</p>
</li>
<li> <p><code>t</code> – time
</p>
</li>
<li> <p><code>activity</code> – number of beam crosses
</p>
</li>
</ul>
<h3>See Also</h3>


<ul><li> <p>load_dam –  to load data from many files and biological conditions using metadata (the recommended alternative)
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">path &lt;- damr_example("M064.txt")
dt &lt;- read_dam_file(path, region_id = c(1:3), start_datetime = "2017-06-30 15:00:00")
print(dt)
</code></pre>


</div>