<div class="container">

<table style="width: 100%;"><tr>
<td>sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>sim</h2>

<h3>Description</h3>

<p>An internal function that builds simulated data, computes
ATT(g,t)'s and some aggregations.  It is useful for testing the inference
procedures in the <code>did</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim(
  sp_list,
  ret = NULL,
  bstrap = TRUE,
  cband = TRUE,
  control_group = "nevertreated",
  xformla = ~X,
  est_method = "dr",
  clustervars = NULL,
  panel = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sp_list</code></td>
<td>
<p>A list of simulation parameters.  See <code>reset.sim</code> to generate
some default values for parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ret</code></td>
<td>
<p>which type of results to return.  The options are <code>Wpval</code> (returns
1 if the p-value from a Wald test that all pre-treatment ATT(g,t)'s are equal
is less than .05),
<code>cband</code>  (returns 1 if a uniform confidence band covers 0 for groups and times),
<code>simple</code> (returns 1 if, using the simple treatment effect aggregation results
in rejecting that this aggregated treatment effect parameter is equal to 0),
<code>dynamic</code> (returns 1 if the uniform confidence band from the dynamic treatment
effect aggregation covers 0 in all pre- and post-treatment periods).  The default
value is NULL, and in this case the function will just return the results from
the call to <code>att_gt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bstrap</code></td>
<td>
<p>whether or not to use the bootstrap to conduct inference (default is TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cband</code></td>
<td>
<p>whether or not to compute uniform confidence bands in the call to <code>att_gt</code>
(the default is TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control_group</code></td>
<td>
<p>Whether to use the "nevertreated" comparison group (the default)
or the "notyettreated" as the comparison group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xformla</code></td>
<td>
<p>Formula for covariates in <code>att_gt</code> (default is <code>~X</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est_method</code></td>
<td>
<p>Which estimation method to use in <code>att_gt</code> (default is "dr")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clustervars</code></td>
<td>
<p>Any additional variables which should be clustered on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panel</code></td>
<td>
<p>whether to simulate panel data (the default) or otherwise repeated
cross sections data</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>When <code>ret=NULL</code>, returns the results of the call to <code>att_gt</code>, otherwise returns
1 if the specified test rejects or 0 if not.
</p>


</div>