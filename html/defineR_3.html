<div class="container">

<table style="width: 100%;"><tr>
<td>write_metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates define XML metadata</h2>

<h3>Description</h3>

<p>The function generates define.xml metadata and
writes it to the file system. The function can generate a blank metadata
spreadsheet, a demonstration spreadsheet, or metadata read
from existing data files. The <code>type</code> parameter can be used
to request an SDTM or ADAM spreadsheet.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write_metadata(
  dir,
  type = "sdtm",
  ver = NULL,
  src_dir = NULL,
  check = TRUE,
  demo = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>The directory in which to produce the metadata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of metadata file to produce.  Valid values are
"SDTM" and "ADAM". Default is "SDTM".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ver</code></td>
<td>
<p>The version of the metadata file.  Default is
the preferred version of the define standard.  The function
currently supports only version "2.0.0".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>src_dir</code></td>
<td>
<p>If the metadata will be generated from existing datasets,
supply the directory path for those datasets.  If the metadata will
not be created from datasets, this parameter should be NULL.  Datasets
should be in XPT file format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Whether or not to run the checks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>demo</code></td>
<td>
<p>If this parameter is TRUE, the function will generate
a metadata file populated with sample data. If the parameter is FALSE,
a blank metadata spreadsheet will be produced. Default is FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Frequently, organizations already have study metadata stored
in Excel spreadsheets, and in the correct structure.  This structure
is used commonly in the industry by other software.
</p>
<p>The purpose of the <code>write_metadata</code> function is to create an
initial metadata template for studies in which you have no metadata.
This task will ensure that you have the proper metadata structure
to later create the define.xml.
</p>
<p>By default, the function creates an unpopulated metadata spreadsheet.
If the <code>demo</code> parameter is set to TRUE, the function will create
the same spreadsheet populated with sample data.  This sample data
can help you to understand how to populate the metadata for your study.
Note that this demo spreadsheet is populated correctly, and has no
conformance errors.  Use this demo spreadsheet as a guide to fill
out your metadata.
</p>
<p>The demo spreadsheet was created by CDISC, and is
included in the <strong>defineR</strong> package for convenience.
</p>


<h3>Value</h3>

<p>The full path of the generated metadata file.
</p>


<h3>See Also</h3>

<p><code>write_define</code> to create a define.xml document and
associated files.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Get temporary directory
tmp &lt;- tempdir()

# Create demo spreadsheet
out1 &lt;- write_metadata(tmp, demo = TRUE)

# View file
# file.show(out1)

# Create unpopulated spreadsheet
out2 &lt;- write_metadata(tmp, demo = FALSE)

# View file
# file.show(out2)
</code></pre>


</div>