<div class="container">

<table style="width: 100%;"><tr>
<td>shap_aggregated</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>SHAP aggregated values</h2>

<h3>Description</h3>

<p>This function works in a similar way to shap function from <code>iBreakDown</code> but it calculates explanations for a set of observation and then aggregates them.
</p>


<h3>Usage</h3>

<pre><code class="language-R">shap_aggregated(explainer, new_observations, order = NULL, B = 25, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>explainer</code></td>
<td>
<p>a model to be explained, preprocessed by the <code>explain</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_observations</code></td>
<td>
<p>a set of new observations with columns that correspond to variables used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>if not <code>NULL</code>, then it will be a fixed order of variables. It can be a numeric vector or vector with names of variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>number of random paths</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters like <code>label</code>, <code>predict_function</code>, <code>data</code>, <code>x</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of the <code>shap_aggregated</code> class.
</p>


<h3>References</h3>

<p>Explanatory Model Analysis. Explore, Explain and Examine Predictive Models. <a href="https://ema.drwhy.ai">https://ema.drwhy.ai</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library("DALEX")
set.seed(1313)
model_titanic_glm &lt;- glm(survived ~ gender + age + fare,
                       data = titanic_imputed, family = "binomial")
explain_titanic_glm &lt;- explain(model_titanic_glm,
                           data = titanic_imputed,
                           y = titanic_imputed$survived,
                           label = "glm")


bd_glm &lt;- shap_aggregated(explain_titanic_glm, titanic_imputed[1:10, ])
bd_glm
plot(bd_glm, max_features = 3)

</code></pre>


</div>