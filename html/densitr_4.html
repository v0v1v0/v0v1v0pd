<div class="container">

<table style="width: 100%;"><tr>
<td>dpdetect_e</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detect measurement ending point automatically using changepoint
segmentation</h2>

<h3>Description</h3>

<p>The opposite of the dpdetect_s, it will check the mean values
of the last four segments and compare them to the cutoff limit.
Will give a warning if end not detected, which is expected on
measurements where the needle did not exit the tree on the opposite
side of the tree. See <code>return.plot = TRUE</code> to display the
actual process. The function is called on a dp object and returns
either a row number of the measurement ending or a plot displaying
the segmentation and detection. The sensitivity can be adjusted
using the cutoff.sd parameter, which is an indicator on how many
standard deviations the segment mean value can be before cutting it
off.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dpdetect_e(
  dp,
  cutoff.sd = 1,
  return.plot = FALSE,
  minseglen = 250,
  span = 0.1,
  nroll = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dp</code></td>
<td>
<p>A dp object, see dpload.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.sd</code></td>
<td>
<p>How many standard deviations for the cutoff limit?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.plot</code></td>
<td>
<p>If true, will return a plot displaying segment
detection for the current dp file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minseglen</code></td>
<td>
<p>Minimum segment length for segment detection,
default setting of 250 points is for data resolution of 1/100 mm,
test a few options with return.plot = TRUE to find the right value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>Span for loess regression, use to adjust sensitivity
of detection detection for the current dp file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nroll</code></td>
<td>
<p>Number of points for rolling mean, use to adjust
sensitivity of detection for the current dp file.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Either a row number where the actual measurement ends or
a plot, displaying changepoint segmentation and set limits.
</p>


<h3>See Also</h3>

<p>dpdetect_s, dptrim, dptriml, dptrim_s, dptriml_s
</p>


<h3>Examples</h3>

<pre><code class="language-R">## load a single file
dp &lt;- dpload(system.file("extdata", "00010001.dpa", package = "densitr"))
## get ending point
start &lt;- dpdetect_e(dp)
## plot the end detection

dpdetect_e(dp, return.plot = TRUE)

</code></pre>


</div>