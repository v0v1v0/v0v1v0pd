<div class="container">

<table style="width: 100%;"><tr>
<td>decompose_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Decompose a table into two linked tables</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Perform table surgery by extracting a 'parent table' from a table, linking the original table and the new table by a key, and returning both tables.
</p>
<p><code>decompose_table()</code> accepts a data frame, a name for the 'ID column' that will be newly created, and the names
of the columns that will be extracted into the new data frame.
</p>
<p>It creates a 'parent table', which consists of the columns specified in the ellipsis, and a new 'ID column'.
Then it removes those
columns from the original table, which is now called the 'child table, and adds the 'ID column'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">decompose_table(.data, new_id_column, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>Data frame from which columns <code>...</code> are to be extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_id_column</code></td>
<td>
<p>Name of the identifier column (primary key column) for the parent table.
A column of this name is also added in 'child table'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>The columns to be extracted from the <code>.data</code>.
</p>
<p>One or more unquoted expressions separated by commas.
You can treat variable names as if they were positions, so you
can use expressions like x:y to select ranges of variables.
</p>
<p>The arguments in ... are automatically quoted and evaluated in a context where column names represent column positions.
They also support
unquoting and splicing.
See vignette("programming") for an introduction to those concepts.
</p>
<p>See select helpers for more details, and the examples about tidyselect helpers, such as starts_with(), everything(), ...</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A named list of length two:
</p>

<ul>
<li>
<p> entry "child_table": the child table with column <code>new_id_column</code> referring to the same column in <code>parent_table</code>,
</p>
</li>
<li>
<p> entry "parent_table": the "lookup table" for <code>child_table</code>.
</p>
</li>
</ul>
<h3>Life cycle</h3>

<p>This function is marked "experimental" because it seems more useful
when applied to a table in a dm object.
Changing the interface later seems harmless because these functions are
most likely used interactively.
</p>


<h3>See Also</h3>

<p>Other table surgery functions: 
<code>reunite_parent_child()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">decomposed_table &lt;- decompose_table(mtcars, new_id, am, gear, carb)
decomposed_table$child_table
decomposed_table$parent_table
</code></pre>


</div>