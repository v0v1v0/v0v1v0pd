<div class="container">

<table style="width: 100%;"><tr>
<td>compmeans</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Means of a numerical vector according to a factor</h2>

<h3>Description</h3>

<p>Calculates the means of a numerical vector according to a factor.</p>


<h3>Usage</h3>

<pre><code class="language-R">compmeans(x, f, w, sort = FALSE, maxlevels = 60,
          user.missing, missing.include = FALSE,
          plot = getOption("descr.plot"),
          relative.widths = TRUE, col = "lightgray",
          warn = getOption("descr.warn"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>A factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>Optional vector with weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>If <code>TRUE</code>, sorts the lines by the means values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxlevels</code></td>
<td>
<p>Maximum number of levels that <code>x</code> converted into factor
should have.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user.missing</code></td>
<td>
<p>Character vector, indicating what levels of <code>f</code>
must be treated as missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing.include</code></td>
<td>
<p>If <code>TRUE</code>, then NA values, if present in
<code>f</code>, are included as level <code>"NA"</code>. You can change the new level
label by setting the value of descr.na.replacement option. Example:
<code>options(descr.na.replacement = "Missing")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Logical: if <code>TRUE</code> (default), a boxplot is produced.
You may put
</p>
<p><code>options(descr.plot = FALSE)</code>
</p>
<p>in your ‘<span class="file">.Rprofile</span>’ to change the default function behavior.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relative.widths</code></td>
<td>
<p>If <code>TRUE</code>, the boxes widths will be proportional
to the number of elements in each level of <code>f</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Vector with the boxes colors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>Warn if conversion from factor into numeric or from numeric into
factor was performed and if missing values were dropped (default: <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed to either
<code>boxplot</code> (if <code>w</code> is missing) or
<code>bxp</code> (for <code>w</code> weighted boxplot).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix with class <code>c("matrix", "meanscomp")</code> with labels attributes
for <code>x</code> and <code>f</code>. The returned object can be plotted, generating
a <code>boxplot</code> of <code>x</code> grouped by <code>f</code>.
</p>


<h3>Author(s)</h3>

<p>Jakson A. Aquino <a href="mailto:jalvesaq@gmail.com">jalvesaq@gmail.com</a>, with code for weighted
boxplots written by Stefan Kraft for simPopulation package.</p>


<h3>See Also</h3>

<p><code>boxplot</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R">sex &lt;- factor(c(rep("F", 900), rep("M", 900)))
income &lt;- 100 * (rnorm(1800) + 5)
weight &lt;- rep(1, 1800)
weight[sex == "F" &amp; income &gt; 500] &lt;- 3
attr(income, "label") &lt;- "Income"
attr(sex, "label") &lt;- "Sex"
compmeans(income, sex, col = "lightgray", ylab = "income", xlab = "sex")
comp &lt;- compmeans(income, sex, weight, plot = FALSE)
plot(comp, col = c("pink", "lightblue"), ylab = "income", xlab = "sex")

library(xtable)
# If the decimal separator in your country is a comma:
# options(OutDec = ",")
print(xtable(comp, caption = "Income according to sex", label = "tab:incsx"))
</code></pre>


</div>