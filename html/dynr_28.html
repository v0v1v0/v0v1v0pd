<div class="container">

<table style="width: 100%;"><tr>
<td>dynr.taste2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Re-fit state-space model using the estimated outliers.</h2>

<h3>Description</h3>

<p>The function <code>dynr.taste2{}</code> update the <code>dynrModel</code>
object applying outliers from the <code>dynrTaste</code> object,
or outliers from users. The function then re-cook the model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dynr.taste2(dynrModel, dynrCook, dynrTaste, delta_inn = c("t", "ind", "jnt",
  "null"), delta_add = c("t", "ind", "jnt", "null"), delta_L = NULL,
  delta_O = NULL, cook = TRUE, verbose = FALSE,
  newOutfile = "new_taste.c")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dynrModel</code></td>
<td>
<p>an object of dynrModel class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dynrCook</code></td>
<td>
<p>an object of dynrCook class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dynrTaste</code></td>
<td>
<p>an object of dynrTaste class. The default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta_inn</code></td>
<td>
<p>a character string for a method detecting ‘inn’ovative outliers,
which must be one of “t” (default), “ind”, “jnt” or “null”.
According to the method,
corresponding delta estimates (magnitude of estimated outliers) 
will be included in the new dynrModel in output.
‘t’ represents the t statistic, ‘ind’ represents the independent chi-square statistic,
‘jnt’ represents the joint chi-square statistic.
If no outliers are assumed, “null” can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta_add</code></td>
<td>
<p>a character string for a method detecting ‘add’itive outliers,
which must be one of “t” (default), “ind”, “jnt” or “null”.
According to the method,
corresponding delta estimates will be included in the new dynrModel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta_L</code></td>
<td>
<p>a data.frame containing user-specified latent outliers.
The delta estimates from <code>dynrTaste</code> will be ignored.
The number of rows should equal to the total time points, and the number of columns should equal to the number of latent variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta_O</code></td>
<td>
<p>a data.frame containing user-specified observed outliers.
The delta estimates from <code>dynrTaste</code>, and 
arguments of <code>delta_inn</code> and <code>delta_add</code> will be ignored.
The number of rows should equal to the total time points, and the number of columns should equal to the number of observed variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cook</code></td>
<td>
<p>a logical specifying whether the newly built model
would be cooked by 'dynr.cook' function.
The default is TRUE. When 'cook=FALSE', only the newly built model will be saved for the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>a logical specifying the verbose argument
of the new cook object. The default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newOutfile</code></td>
<td>
<p>a character string for <code>outfile</code>
argument of <code>dynr.model</code> function
to create new <code>dynrModel</code> object.
The default is "new_taste.c".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument <code>dynrTaste</code> should be the dynrTaste object
that is output of the <code>dynr.taste</code> function the argument <code>dynrModel</code> is applied.
</p>
<p>The argument <code>dynrTaste</code> can be <code>NULL</code>,
if user-specified outliers are offered by the arguments
<code>delta_L</code> and <code>delta_O</code>.
</p>


<h3>Value</h3>

<p>a list with the two arguments;
a new <code>dynrModel</code> object the outliers are applied,
and a <code>dynrCook</code> object the new <code>dynrModel</code> object is cooked.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# See the demo for outlier detection, OutlierDetection.R
dynrCook &lt;- dynr.cook(dynrModel)
dynrTaste &lt;- dynr.taste(dynrModel, dynrCook)

# Detect outliers related to 'eta1' out of, say, three latent
# variables c("eta1", "eta2", "eta3"), and all measured variables.
taste2 &lt;- dynr.taste2(dynrModel, dynrCook, dynrTaste)

## End(Not run)
</code></pre>


</div>