<div class="container">

<table style="width: 100%;"><tr>
<td>evalstep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate step function at a set of new time points</h2>

<h3>Description</h3>

<p>Given one or more right-continuous step functions of time, given by vector
<code>time</code> and vector of matrix <code>stepf</code>, this function evaluates the
step function(s) at a vector of new time points given by <code>newtime</code>.
Typical application is when the step function is given by a non- or
semi-parametric estimated of cumulative hazard or survival function, and the
value of this function is required at a set of time points.
</p>


<h3>Usage</h3>

<pre><code class="language-R">evalstep(time, stepf, newtime, subst = -Inf, to.data.frame = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>A vector of time points at which the step function changes value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stepf</code></td>
<td>
<p>A vector (of the same length as <code>time</code>) or a matrix (with
no of columns equal to the length of <code>time</code>) containing the values of
the step function(s) at the time points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newtime</code></td>
<td>
<p>A vector of time points at which the step function(s) is/are
to be evaluated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subst</code></td>
<td>
<p>A value that is substituted for elements of <code>newtime</code> that
are smaller than the minimum of <code>time</code>. Default value is <code>-Inf</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to.data.frame</code></td>
<td>
<p>Determines whether the output is a data frame with the
new time points and the values of the step function(s) (if <code>TRUE</code>) or a
vector/matrix with the values of the step function(s) (if <code>FALSE</code>
(default))</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument <code>time</code> should be ordered, and not contain duplicated or
+/- Inf, and should be of the same length as <code>stepf</code>. There are no
restrictions on ordering or duplicates of <code>newtime</code>. For elements of
<code>newtime</code> that are smaller than the minimum of <code>time</code>, the value
of <code>subst</code> is substituted.
</p>


<h3>Value</h3>

<p>Either a vector/matrix containing the step function(s) evaluated at
the new time points (if <code>to.data.frame=FALSE</code> (default)), or a data
frame with column vectors <code>newtime</code> containing the new time points and
<code>res</code> containing the step function evaluated at the new time points (if
<code>to.data.frame=TRUE</code>)
</p>


<h3>Author(s)</h3>

<p>Hein Putter <a href="mailto:H.Putter@lumc.nl">H.Putter@lumc.nl</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">tm &lt;- c(0.2,0.5,1,1.2,1.8,4)
ta &lt;- 2*tm
data.frame(time=tm, stepf=ta)
evalstep(time=tm, stepf=ta, newtime=c(0,0.2,0.3,0.6,1,1.5,3,4,5,0.1), subst=0)
evalstep(time=tm, stepf=data.frame(ta=ta,ta2=1/ta),
	newtime=c(0,0.2,0.3,0.6,1,1.5,3,4,5,0.1), subst=0)
</code></pre>


</div>