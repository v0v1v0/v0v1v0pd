<div class="container">

<table style="width: 100%;"><tr>
<td>dose_thresh_attributable_one_sided</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Inference for threshold attributable effects in sensitivity analysis with
continuous exposures and binary outcomes. Gurobi must be installed to use
this function.</h2>

<h3>Description</h3>

<p>Inference for threshold attributable effects in sensitivity analysis with
continuous exposures and binary outcomes. Gurobi must be installed to use
this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dose_thresh_attributable_one_sided(
  Z,
  Q,
  index,
  gamma,
  alpha = 0.05,
  monotone = TRUE,
  Delta,
  sign = "positive",
  direction = "equal",
  threshold = 0,
  M = 10000,
  eps = 0.01,
  mv_threshold = NA,
  baseline = 0,
  relax = FALSE,
  feasible = TRUE,
  MIPgap = 0.01,
  WorkLimit = 1000,
  OutputFlag = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>A length N vector of (nonnegative) observed doses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>A length N vector of observed binary outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>A length N vector of indices indicating matched set membership.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>The nonnegative sensitivity parameter; gamma = 0 means no
unmeasured confounding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Level of the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>monotone</code></td>
<td>
<p>Whether to impose a monotonicity constraint on
the potential outcomes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Delta</code></td>
<td>
<p>A numeric for the attributable effect to be tested for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sign</code></td>
<td>
<p>The sign of monotonicity - "positive" or "negative".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>A string indicating the direction of testing the attributable
effect with respect to Delta; "greater", "equal", or "less"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>The threshold for the TAE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>The numeric penalty parameter to ensure correct sign relationship.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>precision parameter for the objective function if solving feasible
= "Yes"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mv_threshold</code></td>
<td>
<p>The number of allowed monotonicity violations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline</code></td>
<td>
<p>The baseline dose level for defining the threshold attributable
effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relax</code></td>
<td>
<p>Whether to solve the continuous relaxation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feasible</code></td>
<td>
<p>Whether to look for a feasible solution or to find the optima.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MIPgap</code></td>
<td>
<p>Gurobi parameter specifying the precision of the mixed integer
program solution; default is 0.01.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>WorkLimit</code></td>
<td>
<p>Gurobi parameter specifying the maximum work units before
stopping; default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OutputFlag</code></td>
<td>
<p>0 if Gurobi print output is desired, 1 otherwise; default 0.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>sol</code></td>
<td>
<p>A gurobi object containing the solution to the optimization. If
feasible is TRUE, then failing to find a solution indiciates rejection. If
feasible is FALSE, then optimal value greater than zero indiciates rejection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attribut</code></td>
<td>
<p>The attributable effect attained by the least rejectable
allocation of potential outcomes and unmeasured confounders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>search</code></td>
<td>
<p>A list of length the number of matched sets containing the
matrix of compatible baseline potential outcomes in each matched set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null_exp</code></td>
<td>
<p>The null expectation of the pivot attained by the least
rejectable allocation of potential outcomes and unmeasured confounders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obsT</code></td>
<td>
<p>The value of the pivot attained by the least rejectable
allocation of potential outcomes and unmeasured confounders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nps</code></td>
<td>
<p>A vector with length the number of matched sets containing the
size of each matched set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.ind</code></td>
<td>
<p>A vector with length the number of matched sets containing
the starting index of the decision
variables pertaining to each matched set in the optimization program.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exp_upper</code></td>
<td>
<p>The expectation of the pivot attained by the unmeasured
confounders equalling the baseline potential outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_upper</code></td>
<td>
<p>The variance of the pivot attained by the unmeasured
confounders equalling the baseline potential outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dose</code></td>
<td>
<p>A list of length the number of matched sets containing the
vector of doses observed in each matched set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>The initialized gurobi model.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># To run the following example, Gurobi must be installed.
# Load the data
data &lt;- treat_out_match
# Solve the mixed-integer program.
solution = dose_thresh_attributable_one_sided(data$treat,
data$complain, data$match_ind,
gamma=log(1), alpha = 0.1, monotone = TRUE, Delta = 5,
 direction = "less", threshold = log(3.5),M = 10000,
 eps = 0.0001,relax = FALSE, feasible = FALSE)
</code></pre>


</div>