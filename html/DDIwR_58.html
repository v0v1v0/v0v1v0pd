<div class="container">

<table style="width: 100%;"><tr>
<td>DDIwR_internal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>DDIwR internal functions</h2>

<h3>Description</h3>

<p>Functions to be used internally, only by developers and
contributors.
</p>
<p><code>ascii</code>: Convert accented unicode characters to pure ascii
</p>
<p><code>changeXMLang</code>: Remove the <code>xmlang</code> attribute from all elements.
</p>
<p><code>checkArgument</code>: Check function arguments
</p>
<p><code>checkDots</code>: Check the three dots ... argument.
If the argument is not supplied via dots, returns a default
</p>
<p><code>checkElement</code>: Check if an element is a DDI Codebook element
</p>
<p><code>checkExisting</code>: Check if a certain (sub)element exists in a DDI Codebook.
</p>
<p><code>checkType</code>: Determine the variable type: categorical, numerical or mixed
</p>
<p><code>checkXMList</code>: Determine if an XML list is a DDI Codebook
</p>
<p><code>cleanup</code>: Rectify texts read from a metadata object
</p>
<p><code>coerceDDI</code>: Recursive coerce an element to a DDI class
</p>
<p><code>collectMetadata</code>: Collect metadata from a file or a dataframe object
</p>
<p><code>collectRMetadata</code>: Collect metadata from a dataframe object
</p>
<p><code>extractData</code>: Extract data from an DDI Codebook XML document or
list.
</p>
<p><code>formatExample</code>: Format an example from the DDI Codebook
specification
</p>
<p><code>generateID</code>: Generate simple, custom unique ID codes
</p>
<p><code>getDateTime</code>: Current date and time
</p>
<p><code>getDelimiter</code>: Guess the column delimiter from a text file
</p>
<p><code>getDNS</code>: Extracts the Default Name Space from an XML object
</p>
<p><code>getEnter</code>: Get the carriage return code from the current Operating System
</p>
<p><code>getFiles</code>: Get information about the files in a given directory
</p>
<p><code>getFormat</code>: Determine the SPSS / Stata variable format
</p>
<p><code>getHashes</code>: Compute hashes of XML nodes
</p>
<p><code>getValues</code>: Extract values, labels and missing values from a <code>var</code> element
</p>
<p><code>getXML</code>: Read the DDI XML file, testing if it can be loaded.
</p>
<p><code>hasLabels</code>: Check if a dataset has (declared) labels
</p>
<p><code>hasMissingLabels</code>: Check if variables have missing labels
</p>
<p><code>makeLabelled</code>: Coerce variables to labelled objects
</p>
<p><code>missingValuesSPSS</code>: Prepares the missing values for the SPSS export syntax.
</p>
<p><code>prespace</code>: Prepend a text with a certain number of space characters.
</p>
<p><code>removeExtra</code>: Removes extra information from a DDI Codebook element
</p>
<p><code>repeatSpace</code>: Allows indentation of XML or HTML files
</p>
<p><code>replaceChars</code>: Replace certain characters, in preparation for XML export
</p>
<p><code>replaceTicks</code>: Recode all tick characters with a single quote.
</p>
<p><code>splitrows</code>: Split the written rows in the setup file.
</p>
<p><code>treatPath</code>: Determine which specific type of files are
present in a certain directory.
</p>
<p><code>writeMetadata</code>: Utility function to write the metadata
part in the setup file.
</p>
<p><code>XMLtoRmetadata</code>: Extract metadata from a single XML variable
</p>
<p><code>writeRlist</code>: Write an .R file containing a metadata specific list.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ascii(x)

changeXMLang(x, remove = FALSE)

checkArgument(argument, default, length = 1, ...)

checkDots(dotsvalue, default, length = 1)

checkElement(x)

checkExisting(xpath, inside, attribute = NULL)

checkType(x, labels = NULL, na_values = NULL, na_range = NULL)

checkXMList(xmlist)

cleanup(x, cdata = TRUE)

coerceDDI(element, name = NULL)

collectMetadata(dataset, ...)

collectRMetadata(dataset, ...)

extractData(xml)

formatExample(xml_node, level = 0, indent = 2)

generateID(x, nchars = 16)

getDateTime()

getDelimiter(x)

getDNS(xml)

getEnter(OS)

getFiles(path = ".", type = "*", currdir)

getFormat(x, type = c("SPSS", "Stata"), ...)

getHashes(nodes)

getValues(variable)

getXML(path, encoding = "UTF-8")

hasLabels(x)

hasMissingLabels(variables)

makeLabelled(x, variables, declared = TRUE)

missingValuesSPSS(variables, range = FALSE, numvars = TRUE)

prespace(text, indent = NULL)

removeExtra(element)

repeatSpace(times, indent)

replaceChars(x)

replaceTicks(x)

splitrows(x, enter, y = 80, spacerep = "")

treatPath(path, type = "*", single = FALSE, check = TRUE)

writeMetadata(variables, OS = "", indent = 4)

XMLtoRmetadata(xmlvar, dns)

makeNotes(data)

writeRlist(variables, OS = "windows", indent = 4, dirpath = "", filename = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Number of ID values to return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nchars</code></td>
<td>
<p>Number of characters for each ID</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>changeXMLang</code>: A modified <code>codeBook</code> element.
</p>
<p><code>checkElement</code>: Boolean.
</p>
<p><code>checkExisting</code>: Boolean.
</p>
<p><code>checkType</code>: A character scalar
</p>
<p><code>cleanup</code>: A character vector
</p>
<p><code>coerceDDI</code>: A standard element of class DDI
</p>
<p><code>collectMetadata</code>: a standard DDI Codebook element <code>dataDscr</code>,
containing variable level metadata information
</p>
<p><code>collectRMetadata</code>: an R list containing variable level metadata information
</p>
<p><code>extractData</code>: An R data frame, if existing, or NULL
</p>
<p><code>generateID</code>: Character vector
</p>
<p><code>getDateTime</code>: Character vector
</p>
<p><code>getDelimiter</code>: Character scalar
</p>
<p><code>getDNS</code>: Character scalar
</p>
<p><code>getEnter</code>: Character scalar
</p>
<p><code>getFiles</code>: A list with four components: the complete path, the files, the file names and the file extensions
</p>
<p><code>getFormat</code>: Character scalar
</p>
<p><code>getHashes</code>: Character vector
</p>
<p><code>getValues</code>: A list with two components: <code>labels</code> and <code>na_values</code>
</p>
<p><code>getXML</code>: An XML document
</p>
<p><code>hasLabels</code>: Boolean
</p>
<p><code>hasMissingLabels</code>: Boolean vector
</p>
<p><code>makeLabelled</code>: A modified data frame.
</p>
<p><code>missingValuesSPSS</code>: A vector of missing values representation.
</p>
<p><code>prespace</code>: A modified text.
</p>
<p><code>removeExtra</code>: A modified element.
</p>
<p><code>repeatSpace</code>: Character spaces
</p>
<p><code>replaceChars</code>: Character vector
</p>
<p><code>replaceTicks</code>: A recoded string.
</p>
<p><code>splitrows</code>: A character vector.
</p>
<p><code>treatPath</code>: A list with four components: the complete path, the
files, the file names and the file extensions
</p>
<p><code>XMLtoRmetadata</code>: An R list containing metadata
</p>


</div>