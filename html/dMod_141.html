<div class="container">

<table style="width: 100%;"><tr>
<td>plotCombined</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a list of model predictions and a list of data points in a combined plot</h2>

<h3>Description</h3>

<p>Plot a list of model predictions and a list of data points in a combined plot
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotCombined(prediction, ...)

## S3 method for class 'prdlist'
plot(x, data = NULL, ..., scales = "free", facet = "wrap", transform = NULL)

## S3 method for class 'prdlist'
plotCombined(
  prediction,
  data = NULL,
  ...,
  scales = "free",
  facet = "wrap",
  transform = NULL,
  aesthetics = NULL
)

## S3 method for class 'prdframe'
plot(x, data = NULL, ..., scales = "free", facet = "wrap", transform = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>Named list of matrices or data.frames, usually the output of a prediction function
as generated by Xs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments going to <code>dplyr::filter</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>prediction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Named list of data.frames as being used in res, i.e. with columns <code>name</code>, <code>time</code>, 
<code>value</code> and <code>sigma</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>The scales argument of <code>facet_wrap</code> or <code>facet_grid</code>, i.e. <code>"free"</code>, <code>"fixed"</code>, 
<code>"free_x"</code> or <code>"free_y"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet</code></td>
<td>
<p><code>"wrap"</code> or <code>"grid"</code>. Try <code>"wrap_plain"</code> for high amounts of conditions and low amounts of observables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>list of transformation for the states, see coordTransform.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aesthetics</code></td>
<td>
<p>Named list of aesthetic mappings, specified as character, e.g. <code>list(linetype = "name")</code>. 
Can refer to variables in the condition.grid</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data.frame being plotted has columns <code>time</code>, <code>value</code>, <code>sigma</code>,
<code>name</code> and <code>condition</code>.
</p>


<h3>Value</h3>

<p>A plot object of class <code>ggplot</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">    
    ## Observation function
    fn &lt;- eqnvec(
      sine = "1 + sin(6.28*omega*time)",
      cosine = "cos(6.28*omega*time)"
    )
    g &lt;- Y(fn, parameters = "omega")
    
    ## Prediction function for time
    x &lt;- Xt()
    
    ## Parameter transformations to split conditions
    p &lt;- NULL
    for (i in 1:3) {
      p &lt;- p + P(trafo = c(omega = paste0("omega_", i)), condition = paste0("frequency_", i))
    }
    
    ## Evaluate prediction
    times &lt;- seq(0, 1, .01)
    pars &lt;- structure(seq(1, 2, length.out = 3), names = attr(p, "parameters"))
    
    prediction &lt;- (g*x*p)(times, pars)
    
    ## Plotting prediction
    # plot(prediction)
    plotPrediction(prediction)
    plotPrediction(prediction, scales = "fixed")
    plotPrediction(prediction, facet = "grid")
    plotPrediction(prediction, 
                   scales = "fixed",
                   transform = list(sine = "x^2", cosine = "x - 1"))
    
    ## Simulate data
    dataset &lt;- wide2long(prediction)
    dataset &lt;- dataset[seq(1, nrow(dataset), 5),]
    set.seed(1)
    dataset$value &lt;- dataset$value + rnorm(nrow(dataset), 0, .1)
    dataset$sigma &lt;- 0.1
    data &lt;- as.datalist(dataset, split.by = "condition")
    
    ## Plotting data
    # plot(data)
    plot1 &lt;- plotData(data)
     plot1
    ## Plotting data and prediction with subsetting
    # plot(prediction, data)
    plot2 &lt;- plotCombined(prediction, data)
     plot2
    plot3 &lt;- plotCombined(prediction, data, 
                 time &lt;= 0.5 &amp; condition == "frequency_1")
     plot3
    plot4 &lt;- plotCombined(prediction, data, 
                 time &lt;= 0.5 &amp; condition != "frequency_1", 
                 facet = "grid")
     plot4
    plot5 &lt;- plotCombined(prediction, data, aesthetics = list(linetype = "condition"))
     plot5

</code></pre>


</div>