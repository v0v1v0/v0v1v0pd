<div class="container">

<table style="width: 100%;"><tr>
<td>recommend_nchunks</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recommend number of chunks based on input size</h2>

<h3>Description</h3>

<p>Computes the recommended number of chunks to break a data.frame
into. It can accept filesizes in bytes (as integer) or a data.frame
</p>


<h3>Usage</h3>

<pre><code class="language-R">recommend_nchunks(
  df,
  type = "csv",
  minchunks = data.table::getDTthreads(),
  conservatism = 8,
  ram_size = df_ram_size()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a disk.frame or the file size in bytes of a CSV file holding the
data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>only = "csv" is supported. It indicates the file type
corresponding to file size 'df'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minchunks</code></td>
<td>
<p>the minimum number of chunks. Defaults to the number of CPU
cores (without hyper-threading)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conservatism</code></td>
<td>
<p>a multiplier to the recommended number of chunks. The
more chunks the smaller the chunk size and more likely that each chunk can
fit into RAM</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ram_size</code></td>
<td>
<p>The amount of RAM available which is usually computed. Except on RStudio with R3.6+</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># recommend nchunks based on data.frame
recommend_nchunks(cars)

# recommend nchunks based on file size ONLY CSV is implemented at the moment
recommend_nchunks(1024^3)
</code></pre>


</div>