<div class="container">

<table style="width: 100%;"><tr>
<td>optimal_stage</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>optimal_stage</h2>

<h3>Description</h3>

<p><code>optimal_stage</code> is a function used to select the optimal k, the number of columns and rows of dynamic CUR object; it also produces a data frame and corresponding plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">optimal_stage(data, limit = 80)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An object resulting from a call to dCUR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>Cumulative percentage average of relative error rate.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Select the optimal stage of dynamic CUR descomposition
</p>
<p>The objective of CUR decomposition is to find the most relevant variables and observations within a data matrix to reduce the dimensionality. It is well known that as more columns (variables) and rows are selected, the relative error will decrease; however, this is not true for k (number of components to compute leverages). Given the above, this function seeks to find the best-balanced stage of k, the number of relevant columns, and rows that have an error very close to the minimum, but at the same time maintain the low-rank fit of the data matrix.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame which specifies the relative error for each stage of CUR decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows_plot</code></td>
<td>
<p>a plot where the average relative error is shown for each number of relevant rows selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns_plot</code></td>
<td>
<p>a plot where the average relative error is shown for each number of relevant columns selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_plot</code></td>
<td>
<p>a plot where the average relative error is shown for each k (number of components to compute leverage), given the optimal number of relevant columns and rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimal</code></td>
<td>
<p>a data frame where the average relative error is shown for optimal k (number of components to compute leverage), given the optimal number of relevant columns and rows.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Cesar Gamboa-Sanabria, Stefany Matarrita-Munoz, Katherine Barquero-Mejias, Greibin Villegas-Barahona, Mercedes Sanchez-Barba and Maria Purificacion Galindo-Villardon.
</p>


<h3>References</h3>

<p>Villegas G, Martin-Barreiro C, Gonzalez-Garcia N, Hernandez-Gonzalez S, Sanchez-Barba M, Galindo-Villardon M (2019).
“Dynamic CUR, an alternative to variable selection in CUR decomposition.”
<em>Revistas Investigacion Operacional</em>, <b>40</b>(3), 391–399.
</p>


<h3>See Also</h3>

<p><code>dCUR</code>
<code>CUR</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
results &lt;- dCUR(data=AASP, variables=hoessem:notabachillerato,
k=15, rows=0.25, columns=0.25,skip = 0.1, standardize=TRUE,
cur_method="sample_cur",
parallelize =TRUE, dynamic_columns  = TRUE,
dynamic_rows  = TRUE)
result &lt;- optimal_stage(results, limit = 80)
result
result$k_plot
result$columns_plot
result$data
result$optimal


</code></pre>


</div>