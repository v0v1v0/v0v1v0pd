<div class="container">

<table style="width: 100%;"><tr>
<td>drake_cache</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get the cache of a <code>drake</code> project.
<a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</h2>

<h3>Description</h3>

<p><code>make()</code> saves the values of your targets so
you rarely need to think about output files. By default,
the cache is a hidden folder called <code style="white-space: pre;">⁠.drake/⁠</code>.
You can also supply your own <code>storr</code> cache to the <code>cache</code>
argument of <code>make()</code>. The <code>drake_cache()</code> function retrieves
this cache.
</p>


<h3>Usage</h3>

<pre><code class="language-R">drake_cache(path = NULL, verbose = NULL, console_log_file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Character.
Set <code>path</code> to the path of a <code>storr::storr_rds()</code> cache
to retrieve a specific cache generated by <code>storr::storr_rds()</code>
or <code>drake::new_cache()</code>. If the <code>path</code> argument is <code>NULL</code>,
<code>drake_cache()</code> searches up through parent directories
to find a folder called <code style="white-space: pre;">⁠.drake/⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Deprecated on 2019-09-11.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>console_log_file</code></td>
<td>
<p>Deprecated on 2019-09-11.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>drake_cache()</code> actually returns a <em>decorated</em> <code>storr</code>,
an object that <em>contains</em> a <code>storr</code> (plus bells and whistles).
To get the <em>actual</em> inner <code>storr</code>, use <code>drake_cache()$storr</code>.
Most methods are delegated to the inner <code>storr</code>.
Some methods and objects are new or overwritten. Here
are the ones relevant to users.
</p>

<ul>
<li> <p><code>history</code>: <code>drake</code>'s history (which powers <code>drake_history()</code>)
is a <code>txtq</code>. Access it
with <code>drake_cache()$history</code>.
</p>
</li>
<li> <p><code>import()</code>: The <code>import()</code> method is a function that can import
targets, function dependencies, etc. from one decorated <code>storr</code>
to another. History is not imported. For that, you have to work
with the history <code>txtq</code>s themselves, Arguments to <code>import()</code>:
</p>

<ul>
<li> <p><code>...</code> and <code>list</code>: specify targets to import just like with <code>loadd()</code>.
Leave these blank to import everything.
</p>
</li>
<li> <p><code>from</code>: the decorated <code>storr</code> from which to import targets.
</p>
</li>
<li> <p><code>jobs</code>: number of local processes for parallel computing.
</p>
</li>
<li> <p><code>gc</code>: <code>TRUE</code> or <code>FALSE</code>, whether to run garbage collection for memory
after importing each target. Recommended, but slow.
</p>
</li>
</ul>
</li>
<li> <p><code>export()</code>: Same as <code>import()</code>, except the <code>from</code> argument is replaced
by <code>to</code>: the decorated <code>storr</code> where the targets end up.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A drake/storr cache in a folder called <code style="white-space: pre;">⁠.drake/⁠</code>,
if available. <code>NULL</code> otherwise.
</p>


<h3>See Also</h3>

<p><code>new_cache()</code>, <code>drake_config()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
isolate_example("Quarantine side effects.", {
if (suppressWarnings(require("knitr"))) {
clean(destroy = TRUE)
# No cache is available.
drake_cache() # NULL
load_mtcars_example() # Get the code with drake_example("mtcars").
make(my_plan) # Run the project, build the targets.
x &lt;- drake_cache() # Now, there is a cache.
y &lt;- storr::storr_rds(".drake") # Nearly equivalent.
# List the objects readable from the cache with readd().
x$list()
# drake_cache() actually returns a *decorated* storr.
# The *real* storr is inside.
drake_cache()$storr
}
# You can import and export targets to and from decorated storrs.
plan1 &lt;- drake_plan(w = "w", x = "x")
plan2 &lt;- drake_plan(a = "a", x = "x2")
cache1 &lt;- new_cache("cache1")
cache2 &lt;- new_cache("cache2")
make(plan1, cache = cache1)
make(plan2, cache = cache2)
cache1$import(cache2, a)
cache1$get("a")
cache1$get("x")
cache1$import(cache2)
cache1$get("x")
# With txtq &gt;= 0.1.6.9002, you can import history from one cache into
# another.
# nolint start
# drake_history(cache = cache1)
# cache1$history$import(cache2$history)
# drake_history(cache = cache1)
# nolint end
})

## End(Not run)
</code></pre>


</div>