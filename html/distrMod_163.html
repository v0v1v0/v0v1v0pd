<div class="container">

<table style="width: 100%;"><tr>
<td>internals_for_distrMod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Internal functions of package distrMod</h2>

<h3>Description</h3>

<p>These functions are used internally by package “distrMod”.</p>


<h3>Usage</h3>

<pre><code class="language-R">.inArgs(arg, fct)
.isUnitMatrix(m)
.csimpsum(fx)
.validTrafo(trafo, dimension, dimensionwithN)

.CvMMDCovariance(L2Fam, param, mu = distribution(L2Fam),
                 withplot = FALSE, withpreIC = FALSE,
                 N = 1021, rel.tol=.Machine$double.eps^0.3,
                 TruncQuantile = getdistrOption("TruncQuantile"), 
                 IQR.fac = 15, ..., diagnostic = FALSE)
.oldCvMMDCovariance(L2Fam, param, mu = distribution(L2Fam),
                 withplot = FALSE, withpreIC = FALSE,
                 N = getdistrOption("DefaultNrGridPoints")+1,
                 rel.tol=.Machine$double.eps^0.3,
                 TruncQuantile = getdistrOption("TruncQuantile"),
                 IQR.fac = 15, ...)
.CvMMDCovarianceWithMux(L2Fam, param, withplot = FALSE, withpreIC = FALSE,
                        N = 1021, rel.tol=.Machine$double.eps^0.3,
                        TruncQuantile = getdistrOption("TruncQuantile"),
                        IQR.fac = 15, ..., x=NULL)

.show.with.sd(est, s)
.getLogDeriv(distr, 
             lowerTruncQuantile = getdistrExOption("ElowerTruncQuantile"), 
             upperTruncQuantile = getdistrExOption("EupperTruncQuantile"), 
                         IQR.fac = getdistrExOption("IQR.fac"))
.deleteDim(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>arg</code></td>
<td>
<p>a formal argument as character</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fct</code></td>
<td>
<p>a function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>a matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>an estimator; usually a vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>a standard deviation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trafo</code></td>
<td>
<p>an object of class <code>MatrixorFunction</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimension</code></td>
<td>
<p>a numeric — length of main part of the parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimensionwithN</code></td>
<td>
<p>a numeric — length of main and nuisance part of the parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2Fam</code></td>
<td>
<p>an object of class <code>L2ParamFamily</code> — for
which we want to determine the IC resp. the as. [co]variance of the corresponding
Minimum CvM estimator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>an object of class <code>ParamFamParameter</code>, the parameter value
at which we want to determine the IC resp. the as. [co]variance of the corresponding
Minimum CvM estimator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>an object of class <code>UnivariateDistribution</code>: integration 
measure (resp. distribution) for CvM distance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rel.tol</code></td>
<td>
<p>relative tolerance for <code>distrExIntegrate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TruncQuantile</code></td>
<td>
<p>quantile for quantile based integration range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowerTruncQuantile</code></td>
<td>
<p>lower quantile for quantile based integration range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upperTruncQuantile</code></td>
<td>
<p>upper quantile for quantile based integration range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IQR.fac</code></td>
<td>
<p>factor for scale based integration range (i.e.; 
median of the distribution <code class="reqn">\pm</code><code>IQR.fac</code><code class="reqn">\times</code>IQR).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withplot</code></td>
<td>
<p>logical: shall we plot corresponding ICs?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withpreIC</code></td>
<td>
<p>logical: shall we return a list with components <code>preIC</code> 
and <code>var</code> or just <code>var</code>; here <code>var</code> is the corresponding
asymptotic variance and <code>preIC</code> the corresponding
<code>EuclRandVarList</code> featuring as argument <code>Curve</code> in <code>IC</code>s of
package <span class="pkg">RobAStBase</span></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>a numeric: the number of gridpoints for constructing the 
<code class="reqn">\mu</code>- resp. <code class="reqn">P_\theta</code>-“primitive”
function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fx</code></td>
<td>
<p>a vector of function evaluations multiplied by the gridwidth</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distr</code></td>
<td>
<p>an object of class <code>AbscontDistribution</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further argument to be passed through — so 
<code>.CvMMDCovariance</code> can digest more arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>in <code>deleteDim</code>: a possibly named vector, which may have a
<code>dim</code> attribute; in <code>.CvMMDCovarianceWithMux</code>: <code>NULL</code>
(default) or the vector with observations to build integration
measure <code class="reqn">mu</code> as the empirical cdf.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diagnostic</code></td>
<td>
<p> logical; if <code>TRUE</code>, the return value of <code>.CvMMDCovariance</code>
obtains an attribute <code>"diagnostic"</code> (usually a lengthy list)
with diagnostic information on the call and on the integration, the latter
inherited from the calls to <code>distrExIntegrate</code> and <code>E</code> in this function.
Depending on the actually used <code>E</code> method, this comprises entries
<code>method</code> (<code>"integrate"</code> or <code>"GLIntegrate"</code>),
<code>result</code> (the complete return value of the integration method),
<code>args</code> (the args with which the integration method was called),
and <code>time</code> (the time to compute the integral). </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>.inArgs</code> (borrowed from package <span class="pkg">distr</span>)
checks whether an argument <code>arg</code> is a formal argument of 
<code>fct</code> — not vectorized.
</p>
<p><code>.csimpsum</code> (borrowed from package <span class="pkg">distr</span>) 
produces a primitimive function out of function evaluations by means 
of vectorized Simpson quadrature method, returning already the function values
of the prime function on a grid; it is to mimick the behaviour
of <code>cumsum</code>. 
</p>
<p><code>.isUnitMatrix</code> checks whether the argument is a unit matrix. 
</p>
<p><code>.validTrafo</code> checks whether the argument is a valid transformation.
</p>
<p><code>.CvMMDCovariance</code> determines the IC resp. the as. [co]variance of 
the corresponding Minimum CvM estimator (numerical integration is done on
quantile scale).
</p>
<p><code>.oldCvMMDCovariance</code> determines the IC resp. the as. [co]variance of
the corresponding Minimum CvM estimator (numerical integration is done on
the original scale).
<code>.CvMMDCovariance</code> is a wrapper to <code>.CvMMDCovariance</code> which uses 
emp. cdf as mu.
</p>
<p><code>.show.with.sd</code> is code borrowed from <code>print.fitdistr</code> in
package <span class="pkg">MASS</span> by B.D. Ripley. It pretty-prints estimates with corresponding
sd's below.
</p>
<p><code>.getLogDeriv</code> determines numerically the negative logarithmic derivative of the 
density of distribution <code>distr</code>; to this end uses <code>D1ss</code>, 
<code>D2ss</code> from Martin Maechler's package <span class="pkg">sfsmisc</span>. 
</p>
<p><code>.deleteDim</code> deletes a possible <code>dim</code> argument (sets it to <code>NULL</code>)
but retains all other possible attributes, in particular a <code>name</code> attribute.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.getLogderiv</code></td>
<td>
<p>a function in one argument <code>x</code> — the negative logarithmic
derivative of the density</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.inArgs</code></td>
<td>
<p><code>logical</code> (length 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.csimpsum</code></td>
<td>
<p><code>numeric</code> (of length half the input length)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.isUnitMatrix</code></td>
<td>
<p><code>logical</code> (length 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.validTrafo</code></td>
<td>
<p><code>logical</code> (length 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.CvMMDCovariance</code></td>
<td>
<p>corresponding as. [co]variance of
the corresponding Minimum CvM estimator or list withcomponents
<code>preIC</code> and <code>var</code> —see above</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.show.with.sd</code></td>
<td>
<p><code>invisible()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.deleteDim</code></td>
<td>
<p>vector <code>x</code> without <code>dim</code> attribute</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Peter Ruckdeschel <a href="mailto:peter.ruckdeschel@uni-oldenburg.de">peter.ruckdeschel@uni-oldenburg.de</a>
Matthias Kohl <a href="mailto:Matthias.Kohl@stamats.de">Matthias.Kohl@stamats.de</a>
</p>


<h3>See Also</h3>

<p><code>MLEstimator</code>,
<code>Estimate-class</code>,
<code>MCEstimate-class</code>,
<code>Confint-class</code>,
<code>ParamFamParameter-class</code>
</p>


</div>