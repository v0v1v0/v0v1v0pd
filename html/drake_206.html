<div class="container">

<table style="width: 100%;"><tr>
<td>rescue_cache</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Try to repair a drake cache that is prone
to throwing <code>storr</code>-related errors.
<a href="https://lifecycle.r-lib.org/articles/stages.html#questioning"><img src="../help/figures/lifecycle-questioning.svg" alt="[Questioning]"></a>
</h2>

<h3>Description</h3>

<p>Sometimes, <code>storr</code> caches may have
dangling orphaned files that prevent you from loading or cleaning.
This function tries to remove those files so you can use the
cache normally again.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rescue_cache(
  targets = NULL,
  path = NULL,
  search = NULL,
  verbose = NULL,
  force = FALSE,
  cache = drake::drake_cache(path = path),
  jobs = 1,
  garbage_collection = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>targets</code></td>
<td>
<p>Character vector, names of the targets to rescue.
As with many other drake utility functions, the word <code>target</code>
is defined generally in this case, encompassing imports
as well as true targets.
If <code>targets</code> is <code>NULL</code>, everything in the
cache is rescued.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Character.
Set <code>path</code> to the path of a <code>storr::storr_rds()</code> cache
to retrieve a specific cache generated by <code>storr::storr_rds()</code>
or <code>drake::new_cache()</code>. If the <code>path</code> argument is <code>NULL</code>,
<code>drake_cache()</code> searches up through parent directories
to find a folder called <code style="white-space: pre;">⁠.drake/⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>search</code></td>
<td>
<p>Deprecated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Deprecated on 2019-09-11.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>
<p>Deprecated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>A <code>storr</code> cache object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jobs</code></td>
<td>
<p>Number of jobs for light parallelism
(disabled on Windows).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>garbage_collection</code></td>
<td>
<p>Logical, whether to do garbage collection
as a final step. See <code>drake_gc()</code> and <code>clean()</code>
for details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Nothing.
</p>


<h3>See Also</h3>

<p><code>drake_cache()</code>, <code>cached()</code>,
<code>drake_gc()</code>, <code>clean()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
isolate_example("Quarantine side effects.", {
if (suppressWarnings(require("knitr"))) {
load_mtcars_example() # Get the code with drake_example("mtcars").
make(my_plan) # Run the project, build targets. This creates the cache.
# Remove dangling cache files that could cause errors.
rescue_cache(jobs = 2)
# Alternatively, just rescue targets 'small' and 'large'.
# Rescuing specific targets is usually faster.
rescue_cache(targets = c("small", "large"))
}
})

## End(Not run)
</code></pre>


</div>