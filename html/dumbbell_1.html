<div class="container">

<table style="width: 100%;"><tr>
<td>dumbbell</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dumbbell Plot</h2>

<h3>Description</h3>

<p>Draws a Dumbbell Plot, essentially a dot plot with two series of data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dumbbell(
  xdf,
  id,
  key,
  column1,
  column2,
  lab1,
  lab2,
  title,
  pointsize,
  textsize,
  segsize,
  expandx,
  expandy,
  p_col1,
  p_col2,
  leg,
  col_seg1,
  col_seg2,
  col_lab1,
  col_lab2,
  pt_alpha,
  arrow_size,
  arrow,
  pt_val,
  delt,
  pval
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xdf</code></td>
<td>
<p>data a data frame, <code>xdf= data frame</code>
A data frame containing at least four columns
corresponding, respectively, to (1) the first variable containing the "id",
(2) the second variable containing the "key" , (3) the third variable containing the start of the point "column1", the first data series,
(4) the fourth variable containing the end of the point "column2", the second data series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>is the name of the column containing the id variable which will label the y axis eg(subject1,subject2 etc) eg <code>id = "id"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>is the name of the column containing the key variable telling us which measure we use in each row eg <code>key = "key"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column1, column2</code></td>
<td>
<p>first and second series of data eg <code>column1 = "Control"</code> <code>column2 = "Test"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab1, lab2</code></td>
<td>
<p>labels for data series eg <code>lab1 = "Test"</code> <code>lab2 = "Control"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Adds title to the plot eg <code>title = "This is a plot title"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointsize</code></td>
<td>
<p>Adds pointsize to the points eg <code>pointsize = 3</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>textsize</code></td>
<td>
<p>numeric value specifying the text size eg <code>textsize = 3</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segsize</code></td>
<td>
<p>numeric value specifying the segment width eg <code>segsize = 1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expandx</code></td>
<td>
<p>Add space to the both ends of the x axis eg <code>expandx = 0.6</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expandy</code></td>
<td>
<p>Add space to the both ends of the y axis eg <code>expandy = 1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_col1, p_col2</code></td>
<td>
<p>colors for start and end points eg <code>pcol1 = "red"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leg</code></td>
<td>
<p>Add legend title <code>legend = "legend title"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_seg1, col_seg2</code></td>
<td>
<p>Adds a color to each arrow in each direction eg <code>col_seg1 = "red"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_lab1, col_lab2</code></td>
<td>
<p>color text below each dumbell eg <code>col_lab1 = "red"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pt_alpha</code></td>
<td>
<p>Add transparentcy to points <code>pt_alpha = 0.6</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow_size</code></td>
<td>
<p>Add size to arrows <code>arrow_size = 0.2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow</code></td>
<td>
<p>Adds an arrow to one end of the dumbbell eg <code>arrow = 1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pt_val</code></td>
<td>
<p>Add option to show the point values eg <code>pt_val = 1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delt</code></td>
<td>
<p>Add a delta column to the plot eg <code>delt = 1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>Adds pvalue to the facet label, from using a wilcox paired test eg <code>pval = 1</code> or a paired t_test eg <code>pval = 2</code> (requires to use facet_wrap).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Dumbbell plot
</p>


<h3>Author(s)</h3>

<p>Foo Cheung, <a href="mailto:foocheung@yahoo.com">foocheung@yahoo.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(tidyverse)
library(ggplot2) 
library(rlang)
library(utils)
library(data.table)
library(dumbbell)
## create data
z&lt;-data.frame(Group = c(rep("A",20),rep("B",20)),
              #  Subject = c(paste("sub_",1:20,sep=""),paste("sub_",1:20,sep="")),
              Subject = c(paste(1:20,sep=""),paste(1:20,sep="")),
              result = c(sample(1:100000, 40, replace=TRUE)),
              analysis = c(rep("a",10),rep("b",10) ,rep("b",10),rep("a",10) )
              
)

b&lt;-z %&gt;% filter(Group == 'A')
c&lt;-z %&gt;% filter(Group == 'B')

d&lt;-merge(b,c, by.x="Subject", by.y = "Subject")


e&lt;-d %&gt;% mutate("diff"=result.x-result.y) %&gt;% arrange(diff)





d$Subject&lt;-factor(d$Subject, levels = e$Subject)


## Basic plot
dumbbell(xdf=d,id= "Subject",key="analysis.x",column1 = "result.x",column2 = "result.y") 
</code></pre>


</div>