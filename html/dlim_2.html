<div class="container">

<table style="width: 100%;"><tr>
<td>cross_basis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build crossbasis</h2>

<h3>Description</h3>

<p>Creates cross-basis using natural splines for regression in DLIM
</p>


<h3>Usage</h3>

<pre><code class="language-R">cross_basis(
  x,
  M,
  L = NULL,
  argmod = list(),
  arglag = list(),
  model_type = "standard"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a numeric time series vector of length n or matrix of lagged exposures (columns) for n individuals (rows)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>vector of length n containing modifier values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>
<p>a numeric vector of length 1 containing the number of lag terms. This is required if <code>x</code> is vector, and is not used if <code>x</code> is a matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>argmod</code></td>
<td>
<p>a list: $fun is the spline function for the modifier ("ps" or "cr" to penalize), $arg is a list of arguments for the spline function (must be named by argument), $df is the degrees of freedom, $sp is optional smoothing parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arglag</code></td>
<td>
<p>a list: $fun is the spline function for the lag ("ps" or "cr" to penalize), $arg is a list of arguments for the spline function (must be named by argument), $df is the degrees of freedom, $sp is optional smoothing parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_type</code></td>
<td>
<p>"linear" for a DLIM with linear interaction, "quadratic" for a DLIM with quadratic interaction, "standard" for a DLIM with splines</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function returns a list of 5 or 6 elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>cb </code></td>
<td>
<p>cross-basis (matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B_lag</code></td>
<td>
<p>lag basis (basis matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B_mod</code></td>
<td>
<p>modifier basis (basis matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_l</code></td>
<td>
<p>lag degrees of freedom (numeric)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_m</code></td>
<td>
<p>modifier degrees of freedom (numeric)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>
<p>number of lags (numeric)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Slist</code></td>
<td>
<p>lag and modifier penalty matrices, if penalizing (list)</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>dlim
</p>
<p>Type <code>vignette('dlimOverview')</code> for a detailed description.
</p>


</div>