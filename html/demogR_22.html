<div class="container">

<table style="width: 100%;"><tr>
<td>odiag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> odiag </h2>

<h3>Description</h3>

<p>Utility function that creates a square matrix with a vector on the off-diagonal or
extracts the specified off-diagonal vector.
</p>


<h3>Usage</h3>

<pre><code class="language-R">odiag(A, at = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p> either a vector or a matrix </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p> which diagonal? </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the first argument is a vector of length k, the result will be a
square matrix of rank k+at with the provided vector along the 'at'
diagonal.  Positive values for 'at' place the vector above the
diagonal, negative values below the diagonal, and <code>at=0</code> (the
default) places the vector on the diagonal.
</p>


<h3>Value</h3>

<p>A vector if argument <code>A</code> is a matrix and a matrix if <code>A</code> is
a vector.
</p>


<h3>Note</h3>

 
<p><code>odiag</code> is meant to capture some of the functionality of the
MATLAB function diag().
</p>


<h3>See Also</h3>

  <p><code>diag</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">
## Construct a matrix from a vector
## random survival probabilities with mean 0.9 and variance 0.0082

y &lt;- rbeta(4,9,1)
A &lt;- odiag(y,-1)

## add fertilities
F &lt;- c(0,rep(1,4))
A[1,] &lt;- F

## Extract a vector from a matrix
A &lt;- matrix(rnorm(25), nr=5, nc=5)
odiag(A,2)
</code></pre>


</div>