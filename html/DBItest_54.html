<div class="container">

<table style="width: 100%;"><tr>
<td>spec_transaction_with_transaction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>spec_transaction_with_transaction</h2>

<h3>Description</h3>

<p>spec_transaction_with_transaction
</p>


<h3>Value</h3>

<p><code>dbWithTransaction()</code> returns the value of the executed code.
</p>


<h3>Failure modes</h3>

<p>Failure to initiate the transaction
(e.g., if the connection is closed
or invalid
of if <code>dbBegin()</code> has been called already)
gives an error.
</p>


<h3>Specification</h3>

<p><code>dbWithTransaction()</code> initiates a transaction with <code>dbBegin()</code>, executes
the code given in the <code>code</code> argument, and commits the transaction with
<code>dbCommit()</code>.
If the code raises an error, the transaction is instead aborted with
<code>dbRollback()</code>, and the error is propagated.
If the code calls <code>dbBreak()</code>, execution of the code stops and the
transaction is silently aborted.
All side effects caused by the code
(such as the creation of new variables)
propagate to the calling environment.
</p>


<h3>See Also</h3>

<p>Other transaction specifications: 
<code>spec_transaction_begin_commit_rollback</code>
</p>


</div>