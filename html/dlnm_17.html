<div class="container">

<table style="width: 100%;"><tr>
<td>dlnm-internal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Internal Functions for Package dlnm </h2>

<h3>Description</h3>

<p>These functions are called internally by other functions and are not meant to be directly run by the users.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fci(ci, x, high, low, ci.arg, plot.arg, noeff=NULL)

findrank(X)

getcoef(model, class)

getlink(model, class, model.link=NULL)

getvcov(model, class)

mkaddSlag(addSlag, d)

mkat(at, from, to, by, range, lag, bylag)

mkcen(cen, type, basis, range)

mklag(lag)

mkXpred(type, basis, at, predvar, predlag, cen)

seqlag(lag, by=1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ci </code></td>
<td>
<p> type of confidence intervals representation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x </code></td>
<td>
<p> the coordinates of the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>high, low </code></td>
<td>
<p> the coordinates of the y axis for the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.arg </code></td>
<td>
<p> list of arguments to draw the confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.arg </code></td>
<td>
<p> list of arguments of the main plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noeff </code></td>
<td>
<p> reference value of the null effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X </code></td>
<td>
<p> a matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model </code></td>
<td>
<p> a regression model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class </code></td>
<td>
<p> a regression model class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addSlag </code></td>
<td>
<p> matrix or vector (or list of matrices and/or vectors) defining additional penalties on the lag structure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d </code></td>
<td>
<p> numeric vector of length 2 providing the cross-basis dimensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at </code></td>
<td>
<p> either a numeric vector representing the values of a constant exposure throughout the lag period defined by <code>lag</code>, or a matrix of exposure histories over the same lag period used for estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from, to</code></td>
<td>
<p> range of predictor values used for prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by, bylag</code></td>
<td>
<p> increment of the sequences of predictor and lag values used for prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p> range of values used for prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag </code></td>
<td>
<p> either an integer scalar or vector of length 2, defining the the maximum lag or the lag range, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cen </code></td>
<td>
<p> logical or a numeric scalar. It specifies the centering value, then used as a reference for predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type, basis</code></td>
<td>
<p> type of model and related basis object from which predictions are needed. See <code>crosspred</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predvar </code></td>
<td>
<p> vector or matrix of predictor values used for prediction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predlag </code></td>
<td>
<p> vector or matrix of lag values used for prediction</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>fci</code> provides different options for representing confidence intervals, and it is called internally in plotting functions.
</p>
<p>The function <code>findrank</code> returns the rank of a matrix.
</p>
<p>The functions <code>getcoef</code>, <code>getlink</code>, and <code>getvcov</code> extract coefficients, the model link, and (co)variance matrix, respectively, depending on the class of the model, and returns a message error if the process fails. They are used internally in <code>crosspred</code> and <code>crossreduce</code>.
</p>
<p>The function <code>mkaddSlag</code> returns a list of rescaled penalty matrices defining additional penalties on the lag structure. It is used intenally in functions for performing penalized models.
</p>
<p>The function <code>mkat</code> is used internally in <code>crosspred</code> to define the values used for predictions.
</p>
<p>The function <code>mkcen</code> is used internally in <code>crosspred</code> to define the centering value for computing predictions.
</p>
<p>The functions <code>mklag</code> is used internally in several other functions to check/define the vector of length 2 representing the lag interval.
</p>
<p>The function <code>mkXpred</code> is used internally in <code>crosspred</code> to define the basis or cross-basis matrix for computing predictions.
</p>
<p>The function <code>seqlag</code> is used internally in several other functions to create the vector with the sequence of lags given the range provided.
</p>


<h3>Note</h3>

<p>These and other undocumented internal functions are not exported in the namespace of the package <span class="pkg">dlnm</span>. The user can visualize them through the use of the triple colon operator '<code>:::</code>' or through the function <code>getAnywhere</code> (see the examples below).  
</p>


<h3>Author(s)</h3>

<p>Antonio Gasparrini &lt;<a href="mailto:antonio.gasparrini@lshtm.ac.uk">antonio.gasparrini@lshtm.ac.uk</a>&gt;</p>


<h3>See Also</h3>

<p>See <code>dlnm-package</code> for an introduction to the package and for links to package vignettes providing more detailed information.
</p>


<h3>Examples</h3>

<pre><code class="language-R">### display internal functions
dlnm:::getcoef
getAnywhere(getcoef)

### display other undocumented functions
dlnm:::fci
getAnywhere(fci)
</code></pre>


</div>