<div class="container">

<table style="width: 100%;"><tr>
<td>plot_distributions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Probability distribution plots for various types of Monte Carlo simulation results</h2>

<h3>Description</h3>

<p>Several plotting options for distribution outputs
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_distributions(
  mcSimulation_object,
  vars,
  method = "smooth_simple_overlay",
  bins = 150,
  binwidth = NULL,
  old_names = NULL,
  new_names = NULL,
  colors = NULL,
  outlier_shape = ".",
  x_axis_name = "Outcome distribution",
  y_axis_name = NULL,
  base_size = 11,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mcSimulation_object</code></td>
<td>
<p>is an object of Monte Carlo simulation outputs from the <code>mcSimulation</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>is a vector containing variable names from the <code>mcSimulation_object</code>. This can also be a single variable name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>is the plot option to be used in <code>link{ggplot2}</code>: "smooth_simple_overlay" creates a density plot with <code>geom_density</code>, "hist_simple_overlay" creates a histogram with <code>geom_histogram</code>, "boxplot" creates a boxplot with <code>geom_boxplot</code> and "boxplot_density" creates a density plot with a boxplot using <code>geom_density</code> and <code>geom_boxplot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>
<p>are the number of bins to use for the <code>geom_histogram</code>. Default number of bins is 150</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binwidth</code></td>
<td>
<p>is the width of the bins to use for the <code>geom_histogram</code>. Default number is 1000. When both <code>bins</code> and <code>binwidth</code> are defined, the later overrides <code>bins</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>old_names</code></td>
<td>
<p>are the variable names from the MC simulation outputs that refer to the distribution values. This should be a vector of character strings. This is set to NULL with the assumption that the existing names for variables are preferred</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_names</code></td>
<td>
<p>are the variable names to replace the MC simulation outputs that refer to the distribution values. This should be a vector of character strings. This is set to NULL with the assumption that the existing names for variables are preferred</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>is the color palette to be used for the fill of distribution shapes and boxplots. The default is c("#009999", "#0000FF", "#56B4E9", "#009E73","#F0E442", "#0072B2", "#D55E00", "#CC79A7") assuming a maximum of eight variables to be compared</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier_shape</code></td>
<td>
<p>is the optional shape to replace the outliers in the boxplot. To show no outliers use NA. See <code>shape</code> for shape options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_axis_name</code></td>
<td>
<p>is the name (character string) to be passed to the x-axis title. Default is "Outcome distribution" and allows allow the user to add a customized axis title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_axis_name</code></td>
<td>
<p>is the name (character string) to be passed to the y-axis title. Default is NULL to allow the user to add a customized axis title. If a name is not provided the title will be "Number of points in bin" for the <code>hist_simple_overlay</code> method and "Density estimate" for all other plot options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base_size</code></td>
<td>
<p>is the base text size to be used for the plot. The default is 11, this is the <code>ggplot2::ggtheme</code> default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>accepts arguments to be passed to <code>ggplot2::ggtheme</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function returns a plot of classes <code>'gg'</code>, 
and <code>'ggplot'</code>. This allows the user to
continue editing some features of the plots through the syntax 
<code>'+'</code>.
</p>


<h3>Author(s)</h3>

<p>Eduardo Fernandez (<a href="mailto:efernand@uni-bonn.de">efernand@uni-bonn.de</a>)
</p>
<p>Cory Whitney (<a href="mailto:cory.whitney@uni-bonn.de">cory.whitney@uni-bonn.de</a>)
</p>


<h3>References</h3>

<p>Do, Hoa, Eike Luedeling, and Cory Whitney. “Decision Analysis of Agroforestry Options Reveals Adoption Risks for Resource-Poor Farmers.” Agronomy for Sustainable Development 40, no. 3 (June 2020): 20. <a href="https://doi.org/10.1007/s13593-020-00624-5">doi:10.1007/s13593-020-00624-5</a>.
Lanzanova, Denis, Cory Whitney, Keith Shepherd, and Eike Luedeling. “Improving Development Efficiency through Decision Analysis: Reservoir Protection in Burkina Faso.” Environmental Modelling &amp; Software 115 (May 1, 2019): 164–75. <a href="https://doi.org/10.1016/j.envsoft.2019.01.016">doi:10.1016/j.envsoft.2019.01.016</a>.
Ruett, Marius, Cory Whitney, and Eike Luedeling. “Model-Based Evaluation of Management Options in Ornamental Plant Nurseries.” Journal of Cleaner Production 271 (June 2020): 122653. <a href="https://doi.org/10.1016/j.jclepro.2020.122653">doi:10.1016/j.jclepro.2020.122653</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##############################################################
# Example 1 (Creating the estimate from the command line):
#############################################################
# Create the estimate object:

variable = c("revenue", "costs")
distribution = c("norm", "norm")
lower = c(10000,  5000)
upper = c(100000, 50000)
costBenefitEstimate &lt;- as.estimate(variable, distribution, lower, upper)

# (a) Define the model function without name for the return value:

profit1 &lt;- function(x) {
  x$revenue - x$costs
  return(list(Revenues = x$revenue,
              Costs = x$costs))
}

# Perform the Monte Carlo simulation:

predictionProfit1 &lt;- mcSimulation(estimate = costBenefitEstimate,
                                  model_function = profit1,
                                  numberOfModelRuns = 10000,
                                  functionSyntax = "data.frameNames")


# Plot the distributions

plot_distributions(mcSimulation_object = predictionProfit1, vars = c("Revenues", "Costs"),
         method = "smooth_simple_overlay")

plot_distributions(mcSimulation_object = predictionProfit1, vars = c("Revenues", "Costs"),
         method = "hist_simple_overlay", bins = 30)

plot_distributions(mcSimulation_object = predictionProfit1, vars = c("Costs"),
         method = "hist_simple_overlay", binwidth = 1000)

plot_distributions(mcSimulation_object = predictionProfit1, vars = c("Revenues", "Costs"),
         method = "boxplot_density", outlier_shape = 3)
 

</code></pre>


</div>