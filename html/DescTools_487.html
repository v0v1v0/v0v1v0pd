<div class="container">

<table style="width: 100%;"><tr>
<td>PlotBubble</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Draw a Bubble Plot

</h2>

<h3>Description</h3>

<p>Draw a bubble plot, defined by a pair of coordinates x, y to place the bubbles, an area
definition configuring the dimension and a color vector setting the color of the bubbles.
The legitimation to define a new function instead of just using <code>plot(symbols(...))</code> is the automated calculation of the axis limits, ensuring that
all bubbles will be fully visible.

</p>


<h3>Usage</h3>

<pre><code class="language-R">
PlotBubble(x, ...)

## Default S3 method:
PlotBubble(x, y, area, col = NA, cex = 1, border = par("fg"),
           xlim = NULL, ylim = NULL, na.rm = FALSE, ...)

## S3 method for class 'formula'
PlotBubble(formula, data = parent.frame(), ..., subset, ylab = varnames[response])

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>the x and y co-ordinates for the centres of the bubbles. They can be specified in any way which is accepted by <code>xy.coords</code>.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>a vector giving the area of the bubbles.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>colors for the bubbles, passed to <code>symbol</code>.
The default <code>NA</code> (or also <code>NULL</code>) means do not fill, i.e., draw transparent bubbles.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>extension factor for the area.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>the border color fot the bubbles. The default means <code>par("fg")</code>. Use <code>border = NA</code> to omit borders.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim, ylim</code></td>
<td>
<p>axes limits.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical, should NAs be omitted? Defaults to FALSE.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula of the form <code>lhs ~ rhs</code> where <code>lhs</code> gives the data values and rhs the corresponding groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional matrix or data frame (or similar: see <code>model.frame</code>) containing the variables in the formula <code>formula</code>.
By default the variables are taken from <code>environment(formula)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>an optional vector specifying a subset of observations to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>the y-label for the plot used in the formula interface.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>the dots are passed to the <code>plot</code> function.

</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Argument <code>inches</code> controls the sizes of the symbols. If <code>TRUE</code> (the default), the symbols are scaled so that the largest dimension of any symbol is one inch. If a positive number is given the symbols are scaled to make largest dimension this size in inches (so <code>TRUE</code> and <code>1</code> are equivalent). If <code>inches</code> is <code>FALSE</code>, the units are taken to be those of the appropriate axes.
This behaviour is the same as in <code>symbols</code>.
</p>



<h3>Note</h3>

<p>A legend can be added with <code>BubbleLegend</code>.</p>


<h3>Author(s)</h3>

<p>Andri Signorell &lt;andri@signorell.net&gt;

</p>


<h3>See Also</h3>

<p><code>BubbleLegend</code>, <code>symbols</code>, <code>sunflowerplot</code>

</p>


<h3>Examples</h3>

<pre><code class="language-R">PlotBubble(latitude ~ longitude, area=(smoky+1)*2e8,
           col=SetAlpha(1, 0.5), data=d.whisky)


cols &lt;- c("olivedrab1","orange","green","mediumturquoise","mediumorchid2","firebrick1")
PlotBubble(x = state.x77[,"Income"], y = state.x77[,"Life Exp"], cex=.00004,
           area = state.x77[,"Population"], col = cols[state.region], border="grey50",
           panel.first=grid(), xlab="Income", ylab="Life Exp.", las=1
)

BubbleLegend(x = "topright", area = c(20000, 10000, 1000), cex=.00004, frame=NA,
             cols=cols[1:3], labels = c(20000, 10000, 1000), cex.names=0.7)

legend(x="bottomright", fill=cols[1:4], legend=levels(state.region))

</code></pre>


</div>