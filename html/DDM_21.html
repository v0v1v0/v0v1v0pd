<div class="container">

<table style="width: 100%;"><tr>
<td>ggbChooseAges</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>interactively determine ages to use for estimating coverage</h2>

<h3>Description</h3>

<p>In a spreadsheet one would typically set up the GGB method to produce a plot that updates as the user changes the age range. This function implements that kind of work flow. This will be intuitive for spreadsheet users, but it does not scale well. Imagine you have 200 territorial units, then you would not want to repeat this task. <code>ggb()</code> does the same thing automatically. You can compare the age range you select manually with the one given back by <code>ggb()</code> as a diagnostic, for instance. To set up the plot device, just give a single year/region/sex of data. By default it will give the RMSE-optimized age range to start with, but you can specify a  vector of exact ages to use as well. All points are plotted, with a fitted line that has been set to a subset of the points, which is plotted in a different color. You can click any point to change the age range, and the plot updates accordingly, up to a maximum of 15 clicks so you don't waste your time. You can stop the plot by either clicking on the graphics device outside the plot area or clicking out the 15 tries (or more if you increase <code>maxit</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggbChooseAges(codi, minA = 15, maxA = 75, minAges = 8,
  exact.ages = NULL, maxit = 15, deaths.summed = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>codi</code></td>
<td>
<p><code>data.frame</code> with columns, <code>$pop1</code>, <code>$pop2</code>, <code>$deaths</code>, <code>$date1</code>, <code>$date2</code>, and <code>$age</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minA</code></td>
<td>
<p>the lowest age to be included in search</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxA</code></td>
<td>
<p>the highest age to be included in search (the lower bound thereof)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minAges</code></td>
<td>
<p>the minimum number of adjacent ages to be used in estimating</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact.ages</code></td>
<td>
<p>optional. A user-specified vector of exact ages to use for coverage estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>
<p>the maximum number of clicks you can take. Default 15.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deaths.summed</code></td>
<td>
<p>logical. is the deaths column given as the total per age in the intercensal period (<code>TRUE</code>). By default we assume <code>FALSE</code>, i.e. that the average annual was given.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you want to send the results of this into <code>ggb()</code>, you can do so by setting <code>Exact.ages</code> to <code>seq(lower,upper,by=5)</code>, where <code>$lower</code>, and <code>$upper</code> are the results returned from <code>ggbChooseAges()</code> after you're done manually determining the age range.
</p>


<h3>Value</h3>

<p><code>data.frame</code> containing elements <code>$coverage</code>, <code>$lower</code>, <code>$upper</code>, and <code>ages</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# for interactive sessions only
# *click points to adjus age range used (yellow)
# *click in margin to stop and return coverage results
ggbChooseAges(Moz)

## End(Not run)
</code></pre>


</div>