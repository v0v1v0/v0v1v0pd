<div class="container">

<table style="width: 100%;"><tr>
<td>StoragehubManager</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>StoragehubManager</h2>

<h3>Description</h3>

<p>StoragehubManager
</p>
<p>StoragehubManager
</p>


<h3>Value</h3>

<p>Object of <code>R6Class</code> for modelling a D4Science StoragehubManager
</p>


<h3>Super class</h3>

<p><code>d4storagehub4R::d4storagehub4RLogger</code> -&gt; <code>StoragehubManager</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-StoragehubManager-new"><code>StoragehubManager$new()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getToken"><code>StoragehubManager$getToken()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getUserProfile"><code>StoragehubManager$getUserProfile()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getUserWorkspace"><code>StoragehubManager$getUserWorkspace()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-fetchWSEndpoint"><code>StoragehubManager$fetchWSEndpoint()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-fetchUserProfile"><code>StoragehubManager$fetchUserProfile()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getWSRoot"><code>StoragehubManager$getWSRoot()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getWSRootID"><code>StoragehubManager$getWSRootID()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getWSItem"><code>StoragehubManager$getWSItem()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getWSItemID"><code>StoragehubManager$getWSItemID()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getWSVREFolder"><code>StoragehubManager$getWSVREFolder()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getWSVREFolderID"><code>StoragehubManager$getWSVREFolderID()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-listWSItems"><code>StoragehubManager$listWSItems()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-listWSItemsByPath"><code>StoragehubManager$listWSItemsByPath()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-searchWSItem"><code>StoragehubManager$searchWSItem()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-searchWSItemID"><code>StoragehubManager$searchWSItemID()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-createFolder"><code>StoragehubManager$createFolder()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-uploadFile"><code>StoragehubManager$uploadFile()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-deleteItem"><code>StoragehubManager$deleteItem()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-shareItem"><code>StoragehubManager$shareItem()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-unshareItem"><code>StoragehubManager$unshareItem()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-downloadItem"><code>StoragehubManager$downloadItem()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-downloadItemByPath"><code>StoragehubManager$downloadItemByPath()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getPublicFileLinkByID"><code>StoragehubManager$getPublicFileLinkByID()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-getPublicFileLink"><code>StoragehubManager$getPublicFileLink()</code></a>
</p>
</li>
<li> <p><a href="#method-StoragehubManager-clone"><code>StoragehubManager$clone()</code></a>
</p>
</li>
</ul>
<details><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="d4storagehub4R" data-topic="d4storagehub4RLogger" data-id="ERROR"><a href="../../d4storagehub4R/html/d4storagehub4RLogger.html#method-d4storagehub4RLogger-ERROR"><code>d4storagehub4R::d4storagehub4RLogger$ERROR()</code></a></span></li>
<li><span class="pkg-link" data-pkg="d4storagehub4R" data-topic="d4storagehub4RLogger" data-id="INFO"><a href="../../d4storagehub4R/html/d4storagehub4RLogger.html#method-d4storagehub4RLogger-INFO"><code>d4storagehub4R::d4storagehub4RLogger$INFO()</code></a></span></li>
<li><span class="pkg-link" data-pkg="d4storagehub4R" data-topic="d4storagehub4RLogger" data-id="WARN"><a href="../../d4storagehub4R/html/d4storagehub4RLogger.html#method-d4storagehub4RLogger-WARN"><code>d4storagehub4R::d4storagehub4RLogger$WARN()</code></a></span></li>
<li><span class="pkg-link" data-pkg="d4storagehub4R" data-topic="d4storagehub4RLogger" data-id="getClass"><a href="../../d4storagehub4R/html/d4storagehub4RLogger.html#method-d4storagehub4RLogger-getClass"><code>d4storagehub4R::d4storagehub4RLogger$getClass()</code></a></span></li>
<li><span class="pkg-link" data-pkg="d4storagehub4R" data-topic="d4storagehub4RLogger" data-id="getClassName"><a href="../../d4storagehub4R/html/d4storagehub4RLogger.html#method-d4storagehub4RLogger-getClassName"><code>d4storagehub4R::d4storagehub4RLogger$getClassName()</code></a></span></li>
<li><span class="pkg-link" data-pkg="d4storagehub4R" data-topic="d4storagehub4RLogger" data-id="logger"><a href="../../d4storagehub4R/html/d4storagehub4RLogger.html#method-d4storagehub4RLogger-logger"><code>d4storagehub4R::d4storagehub4RLogger$logger()</code></a></span></li>
</ul></details><hr>
<a id="method-StoragehubManager-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Method is used to instantiate the StoragehubManager.
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$new(
  token,
  token_type = "gcube",
  logger = NULL,
  keyring_backend = "env"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>token</code></dt>
<dd>
<p>user access token</p>
</dd>
<dt><code>token_type</code></dt>
<dd>
<p>token type, either 'gcube' (default) or 'jwt'</p>
</dd>
<dt><code>logger</code></dt>
<dd>
<p>logger can be either NULL, "INFO" (with minimum logs), or "DEBUG" (for complete 
curl http calls logs)</p>
</dd>
<dt><code>keyring_backend</code></dt>
<dd>
<p>keyring backend to use.it can be set to use a different backend for storing 
the D4science gcube token with <span class="pkg">keyring</span> (Default value is 'env').</p>
</dd>
</dl>
</div>


<hr>
<a id="method-StoragehubManager-getToken"></a>



<h4>Method <code>getToken()</code>
</h4>

<p>Get token
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getToken()</pre></div>



<h5>Returns</h5>

<p>the user access token
</p>


<hr>
<a id="method-StoragehubManager-getUserProfile"></a>



<h4>Method <code>getUserProfile()</code>
</h4>

<p>Get user profile
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getUserProfile()</pre></div>



<h5>Returns</h5>

<p>the user profile
</p>


<hr>
<a id="method-StoragehubManager-getUserWorkspace"></a>



<h4>Method <code>getUserWorkspace()</code>
</h4>

<p>Get user workspace
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getUserWorkspace()</pre></div>



<h5>Returns</h5>

<p>the user workspace root path
</p>


<hr>
<a id="method-StoragehubManager-fetchWSEndpoint"></a>



<h4>Method <code>fetchWSEndpoint()</code>
</h4>

<p>Fetches the workspace endpoint from the D4Science ICProxy service
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$fetchWSEndpoint()</pre></div>


<hr>
<a id="method-StoragehubManager-fetchUserProfile"></a>



<h4>Method <code>fetchUserProfile()</code>
</h4>

<p>Fetches the user profile
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$fetchUserProfile()</pre></div>


<hr>
<a id="method-StoragehubManager-getWSRoot"></a>



<h4>Method <code>getWSRoot()</code>
</h4>

<p>Get workspace root
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getWSRoot()</pre></div>



<h5>Returns</h5>

<p>the workspace root, as <code>list</code>
</p>


<hr>
<a id="method-StoragehubManager-getWSRootID"></a>



<h4>Method <code>getWSRootID()</code>
</h4>

<p>Get workspace root ID
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getWSRootID()</pre></div>



<h5>Returns</h5>

<p>the workspace root ID, as <code>character</code>
</p>


<hr>
<a id="method-StoragehubManager-getWSItem"></a>



<h4>Method <code>getWSItem()</code>
</h4>

<p>Get workspace item given a <code>itemPath</code> in a parent folder
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getWSItem(
  parentFolderID = NULL,
  itemPath,
  showHidden = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>parentFolderID</code></dt>
<dd>
<p>parent folder ID</p>
</dd>
<dt><code>itemPath</code></dt>
<dd>
<p>item path</p>
</dd>
<dt><code>showHidden</code></dt>
<dd>
<p>show hidden files</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the workspace item, <code>NULL</code> if no workspace item existing
</p>


<hr>
<a id="method-StoragehubManager-getWSItemID"></a>



<h4>Method <code>getWSItemID()</code>
</h4>

<p>Get workspace item ID given a <code>itemPath</code> in a parent folder
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getWSItemID(
  parentFolderID = NULL,
  itemPath,
  showHidden = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>parentFolderID</code></dt>
<dd>
<p>parent folder ID</p>
</dd>
<dt><code>itemPath</code></dt>
<dd>
<p>item path</p>
</dd>
<dt><code>showHidden</code></dt>
<dd>
<p>show hidden files</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the workspace item ID, <code>NULL</code> if no workspace item existing
</p>


<hr>
<a id="method-StoragehubManager-getWSVREFolder"></a>



<h4>Method <code>getWSVREFolder()</code>
</h4>

<p>Get VRE Folder
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getWSVREFolder()</pre></div>



<h5>Returns</h5>

<p>the VRE folder, as <code>list</code>
</p>


<hr>
<a id="method-StoragehubManager-getWSVREFolderID"></a>



<h4>Method <code>getWSVREFolderID()</code>
</h4>

<p>Get VRE Folder ID
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getWSVREFolderID()</pre></div>



<h5>Returns</h5>

<p>the VRE folder ID, as <code>character</code>
</p>


<hr>
<a id="method-StoragehubManager-listWSItems"></a>



<h4>Method <code>listWSItems()</code>
</h4>

<p>Lists workspace items given a parentFolder ID
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$listWSItems(parentFolderID = NULL, showHidden = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>parentFolderID</code></dt>
<dd>
<p>parent folder ID</p>
</dd>
<dt><code>showHidden</code></dt>
<dd>
<p>show hidden files</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>an object of class <code>data.frame</code>
</p>


<hr>
<a id="method-StoragehubManager-listWSItemsByPath"></a>



<h4>Method <code>listWSItemsByPath()</code>
</h4>

<p>Lists workspace items given a folder path
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$listWSItemsByPath(folderPath, showHidden = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>folderPath</code></dt>
<dd>
<p>folder path where to list items</p>
</dd>
<dt><code>showHidden</code></dt>
<dd>
<p>show hidden files</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>an object of class <code>data.frame</code>
</p>


<hr>
<a id="method-StoragehubManager-searchWSItem"></a>



<h4>Method <code>searchWSItem()</code>
</h4>

<p>Searches for a workspace item given a item path
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$searchWSItem(
  itemPath,
  includeVreFolder = TRUE,
  showHidden = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>itemPath</code></dt>
<dd>
<p>path of the item</p>
</dd>
<dt><code>includeVreFolder</code></dt>
<dd>
<p>search also in VRE folder</p>
</dd>
<dt><code>showHidden</code></dt>
<dd>
<p>show hidden files</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the item, <code>NULL</code> if nothing found
</p>


<hr>
<a id="method-StoragehubManager-searchWSItemID"></a>



<h4>Method <code>searchWSItemID()</code>
</h4>

<p>Searches for a workspace item ID given a item path
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$searchWSItemID(
  itemPath,
  includeVreFolder = TRUE,
  showHidden = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>itemPath</code></dt>
<dd>
<p>path of the item</p>
</dd>
<dt><code>includeVreFolder</code></dt>
<dd>
<p>search also in VRE folder</p>
</dd>
<dt><code>showHidden</code></dt>
<dd>
<p>show hidden files</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the item, <code>NULL</code> if nothing found
</p>


<hr>
<a id="method-StoragehubManager-createFolder"></a>



<h4>Method <code>createFolder()</code>
</h4>

<p>Creates a folder, given a folder path, a folder name/description. By default <code>recursive = TRUE</code> meaning 
that a folder path matching nested folders will trigger all nested folders. Setting <code>recursive = FALSE</code>, the
folder creation will work only if the folder path matches an existing folder. The <code>hidden</code> (default 
<code>FALSE</code>) argument can be used to set hidden folders on the workspace. Using <code>folderID</code>, <code>recursive</code> will be
set to <code>FALSE</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$createFolder(
  folderPath = NULL,
  folderID = NULL,
  name,
  description = "",
  hidden = FALSE,
  recursive = TRUE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>folderPath</code></dt>
<dd>
<p>parent folder path where to create the folder</p>
</dd>
<dt><code>folderID</code></dt>
<dd>
<p>parent folder ID where to create the folder</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>name of the folder</p>
</dd>
<dt><code>description</code></dt>
<dd>
<p>description of the folder</p>
</dd>
<dt><code>hidden</code></dt>
<dd>
<p>hidden, default is <code>FALSE</code></p>
</dd>
<dt><code>recursive</code></dt>
<dd>
<p>recursive, default is <code>TRUE</code></p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the ID of the created folder
</p>


<hr>
<a id="method-StoragehubManager-uploadFile"></a>



<h4>Method <code>uploadFile()</code>
</h4>

<p>Uploads a file to a folder (given a folder path). The argument <code>description</code> can be used to further describe the
file to upload. The argument <code>archive</code> (default = FALSE) indicates the type of item (FILE or ARCHIVE) to be uploaded.
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$uploadFile(
  folderPath = NULL,
  folderID = NULL,
  file,
  description = basename(file),
  archive = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>folderPath</code></dt>
<dd>
<p>folder path where to upload the file</p>
</dd>
<dt><code>folderID</code></dt>
<dd>
<p>folder ID where to upload the file</p>
</dd>
<dt><code>file</code></dt>
<dd>
<p>file to upload</p>
</dd>
<dt><code>description</code></dt>
<dd>
<p>file description, default would be the file basename</p>
</dd>
<dt><code>archive</code></dt>
<dd>
<p>archive, default is <code>FALSE</code></p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the ID of the uploaded file
</p>


<hr>
<a id="method-StoragehubManager-deleteItem"></a>



<h4>Method <code>deleteItem()</code>
</h4>

<p>Deletes an item given its path on the workspace
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$deleteItem(itemPath, force = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>itemPath</code></dt>
<dd>
<p>item path</p>
</dd>
<dt><code>force</code></dt>
<dd>
<p>whether to force deletion, default is <code>FALSE</code></p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>TRUE</code> if deleted, <code>FALSE</code> otherwise
</p>


<hr>
<a id="method-StoragehubManager-shareItem"></a>



<h4>Method <code>shareItem()</code>
</h4>

<p>Shares an item with users
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$shareItem(itemPath, defaultAccessType, users)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>itemPath</code></dt>
<dd>
<p>item path</p>
</dd>
<dt><code>defaultAccessType</code></dt>
<dd>
<p>access type to use for sharing, among 'WRITE_ALL', 'WRITE_OWNER', 'READ_ONLY', 'ADMINISTRATOR'</p>
</dd>
<dt><code>users</code></dt>
<dd>
<p>one or more user names with whom the item has to be shared</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>TRUE</code> if shared, <code>FALSE</code> otherwise
</p>


<hr>
<a id="method-StoragehubManager-unshareItem"></a>



<h4>Method <code>unshareItem()</code>
</h4>

<p>unshare an item
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$unshareItem(itemPath, users)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>itemPath</code></dt>
<dd>
<p>item path</p>
</dd>
<dt><code>users</code></dt>
<dd>
<p>users</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>TRUE</code> if unshared, <code>FALSE</code> otherwise
</p>


<hr>
<a id="method-StoragehubManager-downloadItem"></a>



<h4>Method <code>downloadItem()</code>
</h4>

<p>Download item
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$downloadItem(item = NULL, wd = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>item</code></dt>
<dd>
<p>item</p>
</dd>
<dt><code>wd</code></dt>
<dd>
<p>working directory where to download the item</p>
</dd>
</dl>
</div>


<hr>
<a id="method-StoragehubManager-downloadItemByPath"></a>



<h4>Method <code>downloadItemByPath()</code>
</h4>

<p>Download item by path
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$downloadItemByPath(path, wd = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt>
<dd>
<p>path</p>
</dd>
<dt><code>wd</code></dt>
<dd>
<p>working directory where to download the item</p>
</dd>
</dl>
</div>


<hr>
<a id="method-StoragehubManager-getPublicFileLinkByID"></a>



<h4>Method <code>getPublicFileLinkByID()</code>
</h4>

<p>Get public file link by ID
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getPublicFileLinkByID(pathID)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pathID</code></dt>
<dd>
<p>file item ID</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the public file URL
</p>


<hr>
<a id="method-StoragehubManager-getPublicFileLink"></a>



<h4>Method <code>getPublicFileLink()</code>
</h4>

<p>Get public file link
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$getPublicFileLink(path)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt>
<dd>
<p>file path</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the public file URL
</p>


<hr>
<a id="method-StoragehubManager-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>StoragehubManager$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Note</h3>

<p>Main user class to be used with <span class="pkg">d4storagehub4R</span>
</p>
<p>Deprecated
</p>


<h3>Author(s)</h3>

<p>Emmanuel Blondel &lt;emmanuel.blondel1@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  manager &lt;- StoragehubManager$new(
    token = "&lt;your token&gt;",
    logger = "DEBUG"
  )

## End(Not run)

</code></pre>


</div>