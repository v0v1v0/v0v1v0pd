<div class="container">

<table style="width: 100%;"><tr>
<td>make_pliv_multiway_cluster_CKMS2021</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generates data from a partially linear IV regression model with
multiway cluster sample used in Chiang et al. (2021).</h2>

<h3>Description</h3>

<p>Generates data from a partially linear IV regression model with multiway
cluster sample used in Chiang et al. (2021). The data generating process
is defined as
</p>
<p><code class="reqn">Z_{ij} = X_{ij}' \xi_0 + V_{ij},</code>
</p>
<p><code class="reqn">D_{ij} = Z_{ij}' \pi_{10} + X_{ij}' \pi_{20} + v_{ij},</code>
</p>
<p><code class="reqn">Y_{ij} = D_{ij} \theta + X_{ij}' \zeta_0 + \varepsilon_{ij},</code>
</p>
<p>with
</p>
<p><code class="reqn">X_{ij} = (1 - \omega_1^X - \omega_2^X) \alpha_{ij}^X
+ \omega_1^X \alpha_{i}^X + \omega_2^X \alpha_{j}^X,</code>
</p>
<p><code class="reqn">\varepsilon_{ij} = (1 - \omega_1^\varepsilon - \omega_2^\varepsilon) \alpha_{ij}^\varepsilon
+ \omega_1^\varepsilon \alpha_{i}^\varepsilon + \omega_2^\varepsilon \alpha_{j}^\varepsilon,</code>
</p>
<p><code class="reqn">v_{ij} = (1 - \omega_1^v - \omega_2^v) \alpha_{ij}^v
+ \omega_1^v \alpha_{i}^v + \omega_2^v \alpha_{j}^v,</code>
</p>
<p><code class="reqn">V_{ij} = (1 - \omega_1^V - \omega_2^V) \alpha_{ij}^V
+ \omega_1^V \alpha_{i}^V + \omega_2^V \alpha_{j}^V,</code>
</p>
<p>and <code class="reqn">\alpha_{ij}^X, \alpha_{i}^X, \alpha_{j}^X \sim \mathcal{N}(0, \Sigma)</code>
where <code class="reqn">\Sigma</code> is a <code class="reqn">p_x \times p_x</code> matrix with entries
<code class="reqn">\Sigma_{kj} = s_X^{|j-k|}</code>.
</p>
<p>Further
</p>
<p><code class="reqn">\left(\begin{array}{c} \alpha_{ij}^\varepsilon \\ \alpha_{ij}^v \end{array}\right),
\left(\begin{array}{c} \alpha_{i}^\varepsilon \\ \alpha_{i}^v \end{array}\right),
\left(\begin{array}{c} \alpha_{j}^\varepsilon \\ \alpha_{j}^v \end{array}\right)
\sim \mathcal{N}\left(0, \left(\begin{array}{cc} 1 &amp; s_{\varepsilon v} \\
s_{\varepsilon v} &amp; 1 \end{array}\right) \right)</code>
</p>
<p>and <code class="reqn">\alpha_{ij}^V, \alpha_{i}^V, \alpha_{j}^V \sim \mathcal{N}(0, 1)</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_pliv_multiway_cluster_CKMS2021(
  N = 25,
  M = 25,
  dim_X = 100,
  theta = 1,
  return_type = "DoubleMLClusterData",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>(<code>integer(1)</code>) <br>
The number of observations (first dimension).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>(<code>integer(1)</code>) <br>
The number of observations (second dimension).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim_X</code></td>
<td>
<p>(<code>integer(1)</code>) <br>
The number of covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>(<code>numeric(1)</code>) <br>
The value of the causal parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_type</code></td>
<td>
<p>(<code>character(1)</code>) <br>
If <code>"DoubleMLClusterData"</code>, returns a <code>DoubleMLClusterData</code> object.
If <code>"data.frame"</code> returns a <code>data.frame()</code>.
If <code>"data.table"</code> returns a <code>data.table()</code>.
If <code>"matrix"</code> a named <code>list()</code> with entries <code>X</code>, <code>y</code>, <code>d</code>, <code>z</code> and
<code>cluster_vars</code> is returned.
Every entry in the list is a <code>matrix()</code> object.  Default is <code>"DoubleMLClusterData"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional keyword arguments to set non-default values for the parameters
<code class="reqn">\pi_{10}=1.0</code>,
<code class="reqn">\omega_X = \omega_{\varepsilon} = \omega_V = \omega_v = (0.25, 0.25)</code>,
<code class="reqn">s_X = s_{\varepsilon v} = 0.25</code>, or the <code class="reqn">p_x</code>-vectors
<code class="reqn">\zeta_0 = \pi_{20} = \xi_0</code> with default entries
<code class="reqn">\zeta_{0})_j = 0.5^j</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data object according to the choice of <code>return_type</code>.
</p>


<h3>References</h3>

<p>Chiang, H. D., Kato K., Ma, Y. and Sasaki, Y. (2021),
Multiway Cluster Robust Double/Debiased Machine Learning,
Journal of Business &amp; Economic Statistics,
<a href="https://doi.org/10.1080/07350015.2021.1895815">doi:10.1080/07350015.2021.1895815</a>, https://arxiv.org/abs/1909.03489.
</p>


</div>