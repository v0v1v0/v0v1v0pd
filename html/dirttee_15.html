<div class="container">

<table style="width: 100%;"><tr>
<td>modreg.control</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Setting fitting values for <code>modreg</code>.</h2>

<h3>Description</h3>

<p>This is an internal function of package <code>dirttee</code> which allows control of the numerical options 
for fitting mode regression. Typically, users will want to modify the defaults if model fitting 
is slow or fails to converge.
</p>


<h3>Usage</h3>

<pre><code class="language-R">modreg.control(
  StartInterval = sqrt(3),
  nStart = 11,
  nInterim = NULL,
  maxit = 100,
  itInterim = 10,
  tol = 10^-4,
  tol_bw_plugin = 10^-3,
  maxit_bw_plugin = 10,
  maxit_penalty_plugin = 10,
  tol_penalty_plugin = 10^-3,
  tol_regopt = tol * 100,
  tol_opt = 10^-3,
  maxit_opt = 200,
  tol_opt2 = 10^-3,
  maxit_opt2 = 200
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>StartInterval</code></td>
<td>
<p>Starting values are based on an estimate for the mean and an interval around it. The interval is <code class="reqn">+-\code{StartInterval} * \sigma</code>. Default is  <code class="reqn">\sqrt{3}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nStart</code></td>
<td>
<p>Number of starting values, considered in the first iteration. Default is 11.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nInterim</code></td>
<td>
<p>Probably has little impact on speed and result. After <code>itInterim</code> weighted least squares iterations, the number of estimates is reduced from <code>nStart</code> to <code>nInterim</code> estimates. Default is 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>
<p>Maximum number of iterations for the weighted least squares algorithm. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>itInterim</code></td>
<td>
<p>Probably has little impact on speed and result. After <code>itInterim</code> weighted least squares iterations, the number of estimates is reduced from <code>nStart</code> to <code>nInterim</code> estimates. Default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Convergence criterion for the weighted least squares algorithm. Default is 10^-4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol_bw_plugin</code></td>
<td>
<p>Convergence criterion for bandwidth selection in the <code>"Plugin"</code> method. Default is 10^-3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit_bw_plugin</code></td>
<td>
<p>Maximum number of iterations for bandwidth selection in the <code>"Plugin"</code> method. Default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit_penalty_plugin</code></td>
<td>
<p>Maximum number of iterations for penalty selection in the <code>"Plugin"</code> method. Default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol_penalty_plugin</code></td>
<td>
<p>Convergence criterion for penalty selection in the <code>"Plugin"</code> method. Default is 10^-3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol_regopt</code></td>
<td>
<p>Weighted least squares are recalculated for hyperparameter optimization. This is the convergence criterion within this optimization. Default is <code>tol</code> * 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol_opt</code></td>
<td>
<p>Convergence criterion for the first hyperparameter optimizion. Can be increased to reduce compuation time. Default is 10^-3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit_opt</code></td>
<td>
<p>Maximum number of iterations for the first hyperparameter optimizion. Can be lowered to reduce compuation time. Default is 200.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol_opt2</code></td>
<td>
<p>Convergence criterion for the second hyperparameter optimizion. Default is 10^-3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit_opt2</code></td>
<td>
<p>Maximum number of iterations for the second hyperparameter optimizion. Default is 200.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The algorithm is described in Seipp et al. (2022). To increase the speed of the algorithm, adapting <code>tol</code> and <code>maxit_opt</code>/<code>maxit_opt2</code> and other penalty / hyperparameter optimization parameters are a good starting point.
</p>


<h3>Value</h3>

<p>A list with the arguments as components
</p>


<h3>References</h3>

<p>Seipp, A., Uslar, V., Weyhe, D., Timmer, A., &amp; Otto-Sobotka, F. (2022). Flexible Semiparametric Mode Regression for Time-to-Event Data. Manuscript submitted for publication. <br>
Yao, W., &amp; Li, L. (2014). A new regression model: modal linear regression. Scandinavian Journal of Statistics, 41(3), 656-671.
</p>


</div>