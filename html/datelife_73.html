<div class="container">

<table style="width: 100%;"><tr>
<td>make_datelife_query2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Go from taxon names to a <code>datelifeQuery</code> object</h2>

<h3>Description</h3>

<p>Go from taxon names to a <code>datelifeQuery</code> object
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_datelife_query2(
  input = c("Rhea americana", "Pterocnemia pennata", "Struthio camelus"),
  get_spp_from_taxon = FALSE,
  reference_taxonomy = "ott",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>Taxon names as one of the following:
</p>

<dl>
<dt>A character vector of taxon names</dt>
<dd>
<p>With taxon names as a single comma separated starting or concatenated with <code>c()</code>.</p>
</dd>
<dt>A phylogenetic tree with taxon names as tip labels</dt>
<dd>
<p>As a <code>phylo</code> or <code>multiPhylo</code>
object, OR as a newick character string.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>get_spp_from_taxon</code></td>
<td>
<p>Whether to search ages for all species belonging to a
given taxon or not. Default to <code>FALSE</code>. If <code>TRUE</code>, it must have same length as input.
If input is a newick string with some clades it will be converted to a <code>phylo</code>
object, and the order of <code>get_spp_from_taxon</code> will match <code>phy$tip.label</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference_taxonomy</code></td>
<td>
<p>A character vector specifying the reference taxonomy to use for TNRS.
Options are "ott", "ncbi", "gbif" or "irmng". The function defaults to "ott".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>rotl::tnrs_match_names</code>
</p>

<dl>
<dt><code>context_name</code></dt>
<dd>
<p>name of the taxonomic context to be searched (length-one
character vector or <code>NULL</code>). Must match (case sensitive) one of the
values returned by <code>tnrs_contexts</code>. Default to "All life".</p>
</dd>
<dt><code>do_approximate_matching</code></dt>
<dd>
<p>A logical indicating whether or not to
perform approximate string (a.k.a. “fuzzy”) matching. Using
<code>FALSE</code> will greatly improve speed. Default, however, is <code>TRUE</code>.</p>
</dd>
<dt><code>ids</code></dt>
<dd>
<p>A vector of ids to use for identifying names. These will be
assigned to each name in the names array. If ids is provided, then ids and
names must be identical in length.</p>
</dd>
<dt><code>include_suppressed</code></dt>
<dd>
<p>Ordinarily, some quasi-taxa, such as incertae
sedis buckets and other non-OTUs, are suppressed from TNRS results. If
this parameter is true, these quasi-taxa are allowed as possible TNRS
results.</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It processes <code>phylo</code> objects and newick character string inputs
with <code>input_process()</code>. If <code>input</code> is a <code>multiPhylo</code> object, only the first <code>phylo</code>
element will be used. Similarly, if an <code>input</code> newick character string has multiple trees,
only the first one will be used.
</p>


<h3>Value</h3>

<p>A <code>datelifeQuery</code> object, which is a list of four elements:
</p>

<dl>
<dt>$input_names</dt>
<dd>
<p>A character vector of input taxon names.</p>
</dd>
<dt>$tnrs_names</dt>
<dd>
<p>A character vector of taxon names processed with TNRS.</p>
</dd>
<dt>$ott_ids</dt>
<dd>
<p>A numeric vector of OTT ids.</p>
</dd>
<dt>$phy</dt>
<dd>
<p>A <code>phylo</code> object or <code>NA</code>, if input is not a tree.</p>
</dd>
</dl>
</div>