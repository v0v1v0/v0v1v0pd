<div class="container">

<table style="width: 100%;"><tr>
<td>denstrip.legend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Add a legend to a density strip or shaded region </h2>

<h3>Description</h3>

<p>Add a legend to an existing plot with a density strip or shaded
region, indicating the mapping of colours to densities.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">denstrip.legend(x, y, width, len, colmax, colmin="white", gamma=1,
                horiz=FALSE, max=1, nticks = 5, ticks, value.adj = 0,
                cex, main = "Density", lattice=FALSE)
panel.denstrip.legend(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> Central x position of the legend. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p> Central y position of the legend. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p> Width of the legend strip, that is, the length of its
shorter dimension. Defaults to 1/30 of the axis range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>len</code></td>
<td>
<p> Length of the legend strip, that is, the length of its
longer dimension. Defaults to 1/4 of the axis range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colmax</code></td>
<td>
<p> Colour at the maximum density, either as a built-in R
colour name (one of <code>colors()</code>) or an RGB hex value.  Defaults
to <code>par("fg")</code> or its <span class="pkg">lattice</span> equivalent, which is
<code>"black"</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colmin</code></td>
<td>
<p> Colour to shade the minimum density, likewise. 
Defaults to "white".  If this is set to <code>"transparent"</code>,
and the current graphics device supports transparency (see <code>rgb</code>), then
overlapping strips will merge smoothly. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>Gamma correction to apply to the colour palette, see <code>denstrip</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horiz</code></td>
<td>
<p> Legend strip drawn vertically (<code>FALSE</code>) or
horizontally (<code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p> Maximum density on the legend, which is represented by
<code>colmax</code>.  With the default of 1, the legend indicates the
mapping of colours to proportions of the maximum density.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nticks</code></td>
<td>
<p> Number of tick marks on the axis adjacent to the
legend, if <code>ticks</code> not supplied. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ticks</code></td>
<td>
<p>Positions of numbered ticks on the axis adjacent to the
legend. Defaults to <code>nticks</code> equally spaced ticks between 0 and
the maximum density.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value.adj</code></td>
<td>
<p> Extra adjustment for the axis labels to the right
(if <code>horiz=FALSE</code>) or downwards (if <code>horiz=TRUE</code>). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>Text expansion.  Defaults to <code>par("cex") * 0.75</code> or
<code>trellis.par.get("axis.text")$cex * 0.75</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p> Text to place above the legend. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lattice</code></td>
<td>
<p>Set this to <code>TRUE</code> to make <code>denstrip.legend</code>
a <span class="pkg">lattice</span> panel function instead of a base graphics function. <br><code>panel.denstrip.legend(x,...)</code> is equivalent to
<code>denstrip.legend(x, lattice=TRUE, ...)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to <code>panel.denstrip.legend</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Christopher Jackson &lt;chris.jackson@mrc-bsu.cam.ac.uk&gt; </p>


<h3>See Also</h3>

 <p><code>denstrip</code>, <code>densregion</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">
if (requireNamespace("survival", quietly=TRUE)){

library(survival)
fit &lt;- survfit(Surv(time, status) ~ 1, data=aml, conf.type="log-log")
plot(fit, col=0)
densregion(fit)
denstrip.legend(100, 0.8)

    ### TODO if max not supplied - ticks are not meaningful.
    ### In help example, find actual max dens used for densregion

denstrip.legend(120, 0.8, width=3, len=0.4, value.adj=5)
denstrip.legend(40, 0.9, horiz=TRUE)
denstrip.legend(60, 0.7, horiz=TRUE, width=0.02, len=50, value.adj=0.04)


}



</code></pre>


</div>