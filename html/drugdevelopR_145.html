<div class="container">

<table style="width: 100%;"><tr>
<td>utility_bias_normal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utility function for bias adjustment programs with normally distributed outcomes.</h2>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_bias_normal()</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">utility_normal_L(
  n2,
  kappa,
  Adj,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_normal_L2(
  n2,
  kappa,
  Adj,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_normal_R(
  n2,
  kappa,
  Adj,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_normal_R2(
  n2,
  kappa,
  Adj,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Adj</code></td>
<td>
<p>adjustment parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>significance level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>steps1</code></td>
<td>
<p>lower boundary for effect size category <code>"small"</code>, default: 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stepm1</code></td>
<td>
<p>lower boundary for effect size category <code>"medium"</code> = upper boundary for effect size category "small" default: 0.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stepl1</code></td>
<td>
<p>lower boundary for effect size category <code>"large"</code> = upper boundary for effect size category "medium", default: 0.8</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE Delta1 is used as fixed effect</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The output of the functions <code>utility_normal_L()</code>, <code>utility_normal_L2()</code>, <code>utility_normal_R()</code> and <code>utility_normal_R2()</code> is the expected utility of the program.
</p>


<h3>Examples</h3>

<pre><code class="language-R">res &lt;- utility_normal_L(kappa = 0.1, n2 = 50, Adj = 0, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf, 
                                 steps1 = 0, stepm1 = 0.5, stepl1 = 0.8,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 fixed = TRUE)
          res &lt;- utility_normal_L2(kappa = 0.1, n2 = 50, Adj = 0, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf, 
                                 steps1 = 0, stepm1 = 0.5, stepl1 = 0.8,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 fixed = TRUE)
          res &lt;- utility_normal_R(kappa = 0.1, n2 = 50, Adj = 1, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf, 
                                 steps1 = 0, stepm1 = 0.5, stepl1 = 0.8,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 fixed = TRUE)
          res &lt;- utility_normal_R2(kappa = 0.1, n2 = 50, Adj = 1, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf, 
                                 steps1 = 0, stepm1 = 0.5, stepl1 = 0.8,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 fixed = TRUE)
</code></pre>


</div>