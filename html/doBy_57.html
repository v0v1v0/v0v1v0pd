<div class="container">

<table style="width: 100%;"><tr>
<td>formula_ops</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Formula operations and coercion.</h2>

<h3>Description</h3>

<p>Formula operations and coercion as a supplement to <code>update.formula()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">formula_add_str(frm1, terms, op = "+")

formula_add(frm1, frm2)

formula_poly(chr1, n, noint = FALSE, y = NULL)

formula_nth(frm1, n)

formula_to_interaction_matrix(frm1)

formula_chr_to_form(rhs, lhs = character(0))

to_str(chr1, collapse = "+")

terms_labels(frm1)

simplify_rhs(object)

## S3 method for class 'formula'
simplify_rhs(object)

## S3 method for class 'character'
simplify_rhs(object)

as_rhs_frm(object)

as_lhs_frm(object)

as_rhs_chr(object, string = FALSE)

as_lhs_chr(object, string = FALSE)

unique_formula(list_of_formulas)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>frm1, frm2</code></td>
<td>
<p>Formulas to be coerced to character vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terms</code></td>
<td>
<p>Character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>op</code></td>
<td>
<p>Either "+" (default) or "-".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chr1</code></td>
<td>
<p>Character vector to be coerced to formulas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Positive integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noint</code></td>
<td>
<p>Boolean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Response</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rhs, lhs</code></td>
<td>
<p>right-hand-side and left-hand-side for formula (as characters)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>Character to use as separator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Character vector or formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string</code></td>
<td>
<p>Boolean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list_of_formulas</code></td>
<td>
<p>list of formulas</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
formula_poly("z", 2)
formula_poly("z", 2, noint=TRUE)

as_rhs_chr(c("a", "b", "z"))
as_rhs_chr(c("a*b", "z"))

as_rhs_chr(y~a+b+z)
as_rhs_chr(y~a+b+z, string=TRUE)
as_rhs_chr(y~a+b+z)
as_rhs_chr(y~a*b+z)
as_rhs_chr(y~a*b+z, string=TRUE)

as_lhs_chr(y~a*b+z)
as_lhs_chr(log(y)~a*b+z)      ## Not what one might expect
as_lhs_chr(cbind(y, u)~a*b+z) ## Not what one might expect

formula_chr_to_form(c("a*b", "z"))
formula_chr_to_form(c("a*b", "z"), "y")
formula_chr_to_form(c("a*b", "z"), "log(y)")

formula_add(y~a*b+z, ~-1)
formula_add(y~a*b+z, ~a:b)

formula_add_str(y~x1 + x2, "x3")
formula_add_str(y~x1 + x2, "x1")
formula_add_str(y~x1 + x2, "x1", op="-")

</code></pre>


</div>