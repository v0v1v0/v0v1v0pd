<div class="container">

<table style="width: 100%;"><tr>
<td>updates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update results over time</h2>

<h3>Description</h3>

<p>Update investor's portfolio, realized and paper results
and time series disposition effect computations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">update_price(
  portfolio_quantity,
  portfolio_price,
  transaction_quantity,
  transaction_price,
  transaction_type
)

update_datetime(
  portfolio_quantity,
  portfolio_datetime,
  transaction_quantity,
  transaction_datetime,
  transaction_type
)

update_quantity(portfolio_quantity, transaction_quantity)

update_portfolio(
  portfolio,
  transaction_asset,
  transaction_quantity,
  transaction_price,
  transaction_datetime,
  transaction_type
)

update_realized_and_paper(realized_and_paper, new_realized_and_paper, method)

update_timeseries_DE(
  timeseries_DE,
  realized_and_paper,
  gainslosses,
  transaction_id,
  assets_time_series_DE = NULL,
  method
)

update_expectedvalue(realized_and_paper, num_transaction_assets)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>portfolio_quantity</code></td>
<td>
<p>Numeric value. The portfolio quantity of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>portfolio_price</code></td>
<td>
<p>Numeric value. The portfolio price of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_quantity</code></td>
<td>
<p>Numeric value. The quantity of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_price</code></td>
<td>
<p>Numeric value. The market price of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_type</code></td>
<td>
<p>Character string. Either "B" = buy or "S" = sell.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>portfolio_datetime</code></td>
<td>
<p>POSIXct value. The date-time of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_datetime</code></td>
<td>
<p>POSIXct value. The date-time at which the transaction
is going to occur.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>portfolio</code></td>
<td>
<p>Data frame of the investor's portfolio at time t.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_asset</code></td>
<td>
<p>Character string. The name of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>realized_and_paper</code></td>
<td>
<p>Data frame containing the realized and paper gains and
losses results to be updated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_realized_and_paper</code></td>
<td>
<p>Data frame containing the realized and paper gains and
losses results related to the new transaction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character string. The method used to compute papers.
Allowed values are "count", "total", "value", "duration" and "all".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeseries_DE</code></td>
<td>
<p>Data frame of time series disposition effect results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_id</code></td>
<td>
<p>Numeric, the id of transaction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assets_time_series_DE</code></td>
<td>
<p>Character vector of assets' names as contained
into <code>portfolio_transactions</code> on which to compute the time series disposition
effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_transaction_assets</code></td>
<td>
<p>Data frame containing the number of transactions for
each asset traded by the investor.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The updated input data.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>update_price</code>: Update the portfolio price of the traded asset.
</p>
</li>
<li> <p><code>update_datetime</code>: Update the portfolio datetime of the traded asset.
</p>
</li>
<li> <p><code>update_quantity</code>: Update the portfolio quantity of the traded asset.
</p>
</li>
<li> <p><code>update_portfolio</code>: Update the portfolio with the new quantity, price
and datetime of the traded asset.
</p>
</li>
<li> <p><code>update_realized_and_paper</code>: Update the realized and paper gains and losses
results with the results obtained on the last occurred transaction.
</p>
</li>
<li> <p><code>update_timeseries_DE</code>: Update the time series disposition effect
averaging values over time.
</p>
</li>
<li> <p><code>update_expectedvalue</code>: Update the realized and paper gains and losses
results averaging the total value by the number of transactions
for each asset.
</p>
</li>
</ul>
</div>