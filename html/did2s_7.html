<div class="container">

<table style="width: 100%;"><tr>
<td>event_study</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate event-study coefficients using TWFE and 5 proposed improvements.</h2>

<h3>Description</h3>

<p>Uses the estimation procedures recommended from Borusyak, Jaravel, Spiess (2021); Callaway and Sant'Anna (2020); Gardner (2021); Roth and Sant'Anna (2021); Sun and Abraham (2020)
</p>


<h3>Usage</h3>

<pre><code class="language-R">event_study(
  data,
  yname,
  idname,
  gname,
  tname,
  xformla = NULL,
  weights = NULL,
  estimator = c("all", "TWFE", "did2s", "did", "impute", "sunab", "staggered")
)

plot_event_study(out, separate = TRUE, horizon = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The dataframe containing all the variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yname</code></td>
<td>
<p>Variable name for outcome variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idname</code></td>
<td>
<p>Variable name for unique unit id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gname</code></td>
<td>
<p>Variable name for unit-specific date of initial treatment
(never-treated should be zero or NA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tname</code></td>
<td>
<p>Variable name for calendar period</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xformla</code></td>
<td>
<p>A formula for the covariates to include in the model.
It should be of the form <code>~ X1 + X2</code>. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Variable name for estimation weights. This is used in
estimating Y(0) and also augments treatment effect weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimator</code></td>
<td>
<p>Estimator you would like to use. Use "all" to estimate all.
Otherwise see table to know advantages and requirements for each of these.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out</code></td>
<td>
<p>Output from <code>event_study()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>separate</code></td>
<td>
<p>Logical. Should the estimators be on separate plots? Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizon</code></td>
<td>
<p>Numeric. Vector of length 2. First element is min and
second element is max of event_time to plot</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>event_study</code> returns a data.frame of point estimates for each estimator
</p>
<p><code>plot_event_study</code> returns a ggplot object that can be fully customized
</p>


<h3>Examples</h3>

<pre><code class="language-R">
out = event_study(
  data = did2s::df_het, yname = "dep_var", idname = "unit",
  tname = "year", gname = "g", estimator = "all"
)
plot_event_study(out)

</code></pre>


</div>