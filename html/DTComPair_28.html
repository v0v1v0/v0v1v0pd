<div class="container">

<table style="width: 100%;"><tr>
<td>tpffpf.rel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Comparison of the accuracy of two tests using relative true positive and false positive fraction</h2>

<h3>Description</h3>

<p>Calculates two-sided Wald confidence intervals and performs a Wald test for the relative
true positive fraction (TPF) (sensitivity) and false positive fraction (FPF) (i.e., one minus specificity) 
of two binary diagnostic tests in a paired study design.
</p>
<p>This function is primarily intended for the analysis of paired <b>screen positive</b> studies, i.e. those paired studies where
the disease (outcome) is ascertained using the gold standard test only in subjects who screen positive to 
either or both diagnostic tests. However, this function can also be used with data from standard paired studies, 
i.e. where the gold standard test is applied to all subjects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tpffpf.rel(tab, alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tab</code></td>
<td>
<p>an object of class <code>tab.paired</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>significance level alpha used to compute two-sided 100(1-alpha)%-confidence intervals, the default is 0.05.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If relative true positive fraction&gt;1, the percentage increase in true positive fraction for Test2 relative to Test1 is computed as 100(relative true positive fraction-1)%. If 
relative true positive fraction&lt;1 the percentage decrease in true positive fraction for Test2 relative to Test1 is computed as 100(1-relative true positive fraction)%. 
Percentage increase/decrease in false positive fraction is computed in an analogous fashion. 
</p>
<p>Given the independence of relative TPR and relative TNR, a possible joint 100(1-alpha)% confidence region for {relative TPF, relative FPF}
is formed by the rectangle {<code>lcl.rel.tpf</code>, <code>ucl.rel.tpf</code>} x {<code>lcl.rel.fpf</code>, <code>ucl.rel.fpf</code>}, where {<code>lcl.rel.tpf</code>, <code>ucl.rel.tpf</code>} and
{<code>lcl.rel.fpf</code>, <code>ucl.rel.fpf</code>} are 100(1-alpha*)% confidence intervals for relative TPF and relative FPF, respectively, and alpha*=1-sqrt(1-alpha).
</p>
<p>In screen positive studies, only relative TPF and relative FPF can be estimated from the data. 
Their constituents, i.e. TPF and FPF for the two tests, are not estimable. 
Relative specificity is not estimable either. Therefore, <code>sesp.rel</code> should not 
be used to attempt to estimate those quantities from studies with a paired screen positive design. 
McNemar's test (<code>sesp.mcnemar</code>) can, however, be used to test the null hypothesis of equality in specificities in 
paired screen positive studies (Schatzkin et al., 1987).
</p>


<h3>Value</h3>

<p>A list containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>tpf</code></td>
<td>
<p>a named vector containing 
<code>rel.tpf</code> (the relative true positive fraction, Test2 vs. Test1), 
<code>se.log.rel.tpf</code> (the standard error for log(<code>rel.tpf</code>)), <code>lcl.rel.tpf</code> (the lower confidence limit for <code>rel.tpf</code>), 
<code>ucl.rel.tpf</code> (the upper confidence limit for <code>rel.tpf</code>), and <code>pval.rel.tpf</code> (the p-value from the test for
the null hypothesis: relative true positive fraction=1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fpf</code></td>
<td>
<p>a named vector containing 
<code>rel.fpf</code> (the relative false positive fraction, Test2 vs. Test1), 
<code>se.log.rel.fpf</code> (the standard error for log(<code>rel.fpf</code>)), <code>lcl.rel.fpf</code> (the lower confidence limit for <code>rel.fpf</code>), 
<code>ucl.rel.fpf</code> (the upper confidence limit for <code>rel.fpf</code>), and <code>pval.rel.fpf</code> (the p-value from the test for
the null hypothesis: relative false positive fraction=1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>significance level alpha for 100(1-alpha)%-confidence intervals for <code>rel.tpf</code> and <code>rel.fpf</code>.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Schatzkin, A., Connor, R. J., Taylor, P. R., &amp; Bunnag, B. (1987). Comparing new and old screening tests when a reference procedure cannot be performed on all screenees: example of automated cytometry for early detection of cervical cancer. <em>American Journal of Epidemiology</em>, 125(4), 672-678.
</p>
<p>Cheng, H., &amp; Macaluso, M. (1997). Comparison of the accuracy of two tests with a confirmatory procedure limited to positive results. <em>Epidemiology</em>, 104-106.
</p>
<p>Alonzo, T. A., Pepe, M. S., &amp; Moskowitz, C. S. (2002). Sample size calculations for comparative studies of medical tests for detecting presence of disease. <em>Statistics in medicine</em>, 21(6), 835-852.
</p>


<h3>See Also</h3>

<p><code>sesp.rel</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Data from Cheng and Macaluso (Table 2)
breast.cancer.data &lt;- read.tab.paired(
 10, 24, 21, NA,
 13, 144, 95, NA,
 testnames=c("Mammography", "Physical examination")
)
breast.cancer.data
tpffpf.rel.results &lt;- tpffpf.rel(breast.cancer.data)
str(tpffpf.rel.results)
tpffpf.rel.results
</code></pre>


</div>