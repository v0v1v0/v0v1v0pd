<div class="container">

<table style="width: 100%;"><tr>
<td>ggassoc_bertin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bar plot of a crosstabulation inspired by Bertin</h2>

<h3>Description</h3>

<p>For a cross-tabulation, plots bars for the conditional percentages of variable y according to variable x, using ggplot2. The general display is inspired by Bertin's plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggassoc_bertin(data, mapping, prop.width = FALSE, 
sort = "none", add.gray = FALSE, add.rprop = FALSE,
na.rm = FALSE, na.value ="NA")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataset to use for plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapping</code></td>
<td>
<p>aesthetics being used. x and y are required, weight can also be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.width</code></td>
<td>
<p>logical. If TRUE, the width of the bars is proportional to the margin percentages of variable x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>character. If "both", rows and columns are sorted according to the first factor of a correspondence analysis of the contingency table. If "x", only variable x is sorted. If "y", only variable y is sorted. If "none" (default), no sorting is done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.gray</code></td>
<td>
<p>logical. If FALSE (default), only white and black are used to fill the bars. If TRUE, gray is used additionally to fill the part of the bars corresponding to margin percentages of variable y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.rprop</code></td>
<td>
<p>logical. If TRUE, row percentages are displayed on top of the bars. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical, indicating whether NA values should be silently removed before the computation proceeds. If FALSE (default), an additional level is added to the variables (see na.value argument).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.value</code></td>
<td>
<p>character. Name of the level for NA category. Default is "NA". Only used if na.rm = FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The height of the bars is proportional to the conditional frequency of variable y. The bars are filled in black if the conditional frequency is higher than the marginal frequency; otherwise it's filled in white.
</p>
<p>This graphical representation is inspired by the principles of Jacques Bertin and the online AMADO tool (https://paris-timemachine.huma-num.fr/amado/main.html).
</p>
<p>Note : It does not allow faceting.
</p>


<h3>Value</h3>

<p>a ggplot object
</p>


<h3>Author(s)</h3>

<p>Nicolas Robette</p>


<h3>References</h3>

<p>J. Bertin: La graphique et le traitement graphique de l'information. Flammarion: Paris 1977.
</p>


<h3>See Also</h3>

<p><code>assoc.twocat</code>, <code>phi.table</code>, <code>catdesc</code>,
<code>ggassoc_crosstab</code>, <code>ggassoc_assocplot</code>,
<code>ggassoc_phiplot</code>, <code>ggassoc_chiasmogram</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Movies)
ggassoc_bertin(Movies, ggplot2::aes(x = Country, y = Genre))
ggassoc_bertin(Movies, ggplot2::aes(x = Country, y = Genre),
 sort = "both", prop.width = TRUE, add.gray = 3, add.rprop = TRUE)
</code></pre>


</div>