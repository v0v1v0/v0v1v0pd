<div class="container">

<table style="width: 100%;"><tr>
<td>format01prec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format Numbers in [0,1] with "Precise" Result</h2>

<h3>Description</h3>

<p>Format numbers in [0,1] with “precise” result,
notably using <code>"1-.."</code> if needed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">format01prec(x, digits = getOption("digits"), width = digits + 2,
             eps = 1e-06, ...,
             FUN = function(x, ...) formatC(x, flag = "-", ...))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numbers in [0,1]; (still works if not)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits to use; is used as
<code>FUN(*, digits = digits)</code> or
<code>FUN(*, digits = digits - 5)</code> depending on <code>x</code> or <code>eps</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>desired width (of strings in characters), is used as
<code>FUN(*, width = width)</code> or
<code>FUN(*, width = width - 2)</code> depending on <code>x</code> or <code>eps</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>small positive number: Use <code>'1-'</code> for those <code>x</code>
which are in <code class="reqn">(1-eps, 1]</code>.  The author has claimed in the last
millennium that (the default) 1e-6 is <em>optimal</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional further arguments passed to <code>FUN(x, digits,
      width, ...)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>a <code>function</code> used for <code>format()</code>ing;
must accept both a <code>digits</code> and <code>width</code> argument.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>character</code> vector of the same length as <code>x</code>.
</p>


<h3>Author(s)</h3>

<p>Martin Maechler, 14 May 1997</p>


<h3>See Also</h3>

<p><code>formatC</code>, <code>format.pval</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Show that format01prec()  does reveal more precision :
cbind(format      (1 - 2^-(16:24)),
      format01prec(1 - 2^-(16:24)))

## a bit more variety
e &lt;- c(2^seq(-24,0, by=2), 10^-(7:1))
ee &lt;- sort(unique(c(e, 1-e)))
noquote(ff &lt;- format01prec(ee))
data.frame(ee, format01prec = ff)
</code></pre>


</div>