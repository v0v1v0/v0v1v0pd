<div class="container">

<table style="width: 100%;"><tr>
<td>PlotDot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cleveland's Dot Plots</h2>

<h3>Description</h3>

<p>Draw a Cleveland dot plot. This is an extended version of <code>dotchart</code> with an added option for error bars, an <code>add</code> argument and several more options. <code>PlotCI()</code> is a small helpfunction to facilitate ci-plots of several models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PlotDot(x, labels = NULL, groups = NULL, gdata = NULL,
        cex = par("cex"), pch = 21, gpch = 21, bg = par("bg"),
        color = par("fg"), gcolor = par("fg"), lcolor = "gray", lblcolor = par("fg"),
        xlim = NULL, main = NULL, xlab = NULL, ylab = NULL,
        xaxt = NULL, yaxt = NULL, add = FALSE, args.errbars = NULL, 
        cex.axis = par("cex.axis"), cex.pch = 1.2, cex.gpch = 1.2, 
        gshift = 2, automar = TRUE, ...)
        
        
PlotDotCI(..., grp = 1, cex = par("cex"),
         pch = 21, gpch = 21, bg = par("bg"), color = par("fg"), gcolor = par("fg"),
         lcolor = "gray", lblcolor = par("fg"), xlim = NULL, main = NULL, 
         xlab = NULL, ylab = NULL, xaxt = NULL, yaxt = NULL,
         cex.axis = par("cex.axis"), cex.pch = 1.2, cex.gpch = 1.2, 
         gshift = 2, automar = TRUE)
        
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>either a vector or matrix of numeric values (<code>NA</code>s are
allowed).  If <code>x</code> is a matrix the overall plot consists of
juxtaposed dotplots for each row.  Inputs which satisfy
<code>is.numeric(x)</code> but not
<code>is.vector(x) || is.matrix(x)</code> are coerced by
<code>as.numeric</code>, with a warning.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>a vector of labels for each point.
For vectors the default is to use <code>names(x)</code> and for matrices
the row labels <code>dimnames(x)[[1]]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>an optional factor indicating how the elements of
<code>x</code> are grouped.
If <code>x</code> is a matrix, <code>groups</code> will default to the columns
of <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gdata</code></td>
<td>
<p>data values for the groups.
This is typically a summary such as the median or mean
of each group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>the character size to be used.  Setting <code>cex</code>
to a value smaller than one can be a useful way of avoiding label
overlap.  Unlike many other graphics functions, this sets the actual
size, not a multiple of <code>par("cex")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>the plotting character or symbol to be used. Default is 21.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gpch</code></td>
<td>
<p>the plotting character or symbol to be used for group
values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>the background color of plotting characters or symbols to be
used; use <code>par(bg= *)</code> to set the background color of
the whole plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>the color(s) to be used for points and labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gcolor</code></td>
<td>
<p>the single color to be used for group labels and
values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lcolor</code></td>
<td>
<p>the color(s) to be used for the horizontal lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lblcolor</code></td>
<td>
<p>the color(s) to be used for labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>horizontal range for the plot, see
<code>plot.window</code>, e.g.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>overall title for the plot, see <code>title</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>
<p>axis annotations as in <code>title</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxt</code></td>
<td>
<p>a character which specifies the x axis type. Specifying <code>"n"</code> suppresses plotting of the axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxt</code></td>
<td>
<p>a character which specifies the y axis type. Specifying <code>"n"</code> suppresses plotting of the axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>logical specifying if bars should be added to an already existing plot; defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args.errbars</code></td>
<td>
<p>optional arguments for adding error bars. All arguments for <code>ErrBars</code> can be supplied. If left to <code>NULL</code> (default), no error bars will be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axis</code></td>
<td>
<p>The magnification to be used for axis annotation relative to the current setting of cex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.pch</code></td>
<td>
<p>The magnification to be used for plot symbols relative to the current setting of cex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.gpch</code></td>
<td>
<p>The magnification to be used for group symbols relative to the current setting of cex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gshift</code></td>
<td>
<p>the number of characters, for which the grouplabels should be shift to the left compared to the sublabels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>automar</code></td>
<td>
<p>logical (default <code>TRUE</code>), defining if the left margin should be set according to the width of the given labels, resp. grouplabels. If set to <code>FALSE</code> the margins are taken from <code>par("mar")</code>.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>graphical parameters can also be specified as arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grp</code></td>
<td>
<p>an integer, defining if the the coefficients should be grouped along the first
or the second dimension (default is 1).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Dot plots are a reasonable substitute for bar plots. This function is invoked to produce dotplots as described in Cleveland (1985).
</p>
<p>For <code>PlotDotCI()</code> the dots are a list of matrices with 3 columns, whereas the first is the coefficent, the second the lower and the third the upper end of the confidence interval.
</p>


<h3>Value</h3>

<p>Return the y-values used for plotting.
</p>


<h3>Author(s)</h3>

<p>R-Core with some extensions by Andri Signorell &lt;andri@signorell.net&gt;</p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>
<p>Cleveland, W. S. (1985)
<em>The Elements of Graphing Data.</em>
Monterey, CA: Wadsworth.
</p>
<p>Murrell, P. (2005) <em>R Graphics</em>. Chapman &amp; Hall/CRC Press.
</p>


<h3>See Also</h3>

<p><code>dotchart</code>, <code>PlotDotCI</code></p>


<h3>Examples</h3>

<pre><code class="language-R">PlotDot(VADeaths, main = "Death Rates in Virginia - 1940")
op &lt;- par(xaxs = "i")  # 0 -- 100%
PlotDot(t(VADeaths), xlim = c(0,100),
        main = "Death Rates in Virginia - 1940")
par(op)

# add some error bars
PlotDot(VADeaths, main="Death Rates in Virginia - 1940", col="red", pch=21,
        args.errbars = list(from=VADeaths-2, to=VADeaths+2, mid=VADeaths,
                            cex=1.4))

# add some other values
PlotDot(VADeaths+3, pch=15, col="blue", add=TRUE)

# same as PlotDotCI
xci &lt;- do.call(rbind, tapply( d.pizza$delivery_min, d.pizza$driver,
                              MeanCI, conf.level=0.99, na.rm=TRUE))

PlotDot(xci[,1], main="delivery_min ~ driver", pch=21, bg="grey80", col="black",
        args.errbars = list(from=xci[,2], to=xci[,3], mid=xci[,1], lwd=2, col="grey40", cex=1.5),
        xlim=c(15,35), panel.before=grid())

# with group data
x &lt;- with(d.pizza, tapply(temperature, list(area, driver), mean, na.rm=TRUE))

PlotDot(x, gdata = tapply(d.pizza$temperature, d.pizza$driver, mean, na.rm=TRUE),
        gpch = 15)

# special format
par(lend=1)

PlotDot(VADeaths, main="Death Rates in Virginia - 1940", pch="|", 
        lcolor = DescTools::hecru, col=DescTools::hred,
        args.errbars = list(from=VADeaths-2, to=VADeaths+2, mid=VADeaths,
                            cex=1.3, lwd=8, code=0, col=DescTools::hgreen))

# Error bars for binomial confidence intervals
tab &lt;- table(d.pizza$driver, d.pizza$wine_delivered)
xci &lt;- SetNames(BinomCI(tab[,1], rowSums(tab)), rownames=rownames(tab))
PlotDot(xci[,1], main="wine delivered ~ driver ", xlim=c(0,1),
        args.errbars=list(from=xci[,-1], mid=xci[,1], pch=21))


# Error bars for confidence intervals for means
xci &lt;- do.call(rbind, tapply(d.pizza$delivery_min, d.pizza$driver,
                             MeanCI, conf.level=0.99, na.rm=TRUE))

PlotDot(xci[, 1], main="delivery_min ~ driver", args.errbars=list(from=xci))


# Setting the colours
# define some error bars first
lci &lt;- sweep(x = VADeaths, MARGIN = 2, FUN = "-", 1:4)
uci &lt;- sweep(x = VADeaths, MARGIN = 1, FUN = "+", 1:5)

PlotDot(VADeaths, main="This should only show how to set the colours, not be pretty",
        pch=21, col=c("blue","grey"), bg=c("red", "yellow"),
        gcolor = c("green", "blue", "orange", "magenta"), gdata=c(10,20,30,40),
        gpch = c(15:18), lcolor = "orange",
        args.errbars = list(from=lci, to=uci, mid=VADeaths, cex=1.4))

</code></pre>


</div>