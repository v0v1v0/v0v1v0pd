<div class="container">

<table style="width: 100%;"><tr>
<td>impute</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Impute missing or implausible values</h2>

<h3>Description</h3>

<p>This is a workhorse function used by <code>impute_ndd</code>,
<code>impute_qty</code> and others.
</p>


<h3>Usage</h3>

<pre><code class="language-R">impute(
  data,
  variable,
  method = c("ignore", "mean", "median", "mode", "replace", "min", "max", "sum"),
  where = is.na,
  group,
  ...,
  replace_with = NA_real_
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing columns <code>prodcode</code>, <code>pracid</code>, <code>patid</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>Unquoted name of the column in <code>dataset</code> to be imputed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method for imputing the values. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>where</code></td>
<td>
<p>Logical vector, or function applied to <code>variable</code> returning such a vector, indicating which elements to impute. Defaults to <code>is.na</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Level of structure for imputation. Defaults to whole study population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments, currently ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace_with</code></td>
<td>
<p>if the method 'replace' is selected, which value should be inserted?
</p>

<ul>
<li> <p><code>ignore</code>. Do nothing, leaving input unchanged.
</p>
</li>
<li> <p><code>mean</code>. Replace values with the mean by <code>group</code>
</p>
</li>
<li> <p><code>median</code>. Replace values with the median by <code>group</code>
</p>
</li>
<li> <p><code>mode</code>. Replace values with the most common value by <code>group</code>
</p>
</li>
<li> <p><code>replace</code>. Replace values with <code>replace_with</code>, which defaults to <code>NA</code> (i.e. mark as missing)
</p>
</li>
<li> <p><code>min</code>. Replace with minimum value.
</p>
</li>
<li> <p><code>max</code>. Replace with maximum value.
</p>
</li>
<li> <p><code>sum</code>. Replace with sum of values.
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument <code>where</code> indicates which values are to be imputed.
It can be specified as either a vector or as a function. Thus you can
specify, for example, <code>is.na</code> to impute all missing values, or
you can pass in a vector, if it depends on something else rather than just
the current values of the variable to imputed.
This design may change in future. In particular, if we want to impute
implausible values and impute missing values separately, it's important that
these steps are independent.
</p>


<h3>Value</h3>

<p>A data frame of the same structure as <code>data</code>, with values imputed
</p>


</div>