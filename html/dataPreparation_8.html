<div class="container">

<table style="width: 100%;"><tr>
<td>build_target_encoding</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build target encoding</h2>

<h3>Description</h3>

<p>Target encoding is the process of replacing a categorical value with the aggregation of the
target variable. <code>build_target_encoding</code> is used to compute aggregations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_target_encoding(
  data_set,
  cols_to_encode,
  target_col,
  functions = "mean",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_set</code></td>
<td>
<p>Matrix, data.frame or data.table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols_to_encode</code></td>
<td>
<p>columns to aggregate according to (list)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_col</code></td>
<td>
<p>column to aggregate (character)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functions</code></td>
<td>
<p>functions of aggregation (list or character, default to "mean"). Functions <code>compute_probability_ratio</code>
and <code>compute_weight_of_evidence</code> are classically used functions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Should the algorithm talk? (Logical, default to TRUE)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>list</code> of <code>data.table</code> a data.table for each <code>cols_to_encode</code>
each data.table containing a line by unique value of column and <code>len(functions) + 1</code> columns.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Build a data set
require(data.table)
data_set &lt;- data.table(student = c("Marie", "Marie", "Pierre", "Louis", "Louis"),
                      grades = c(1, 1, 2, 3, 4))

# Perform target_encoding construction
build_target_encoding(data_set, cols_to_encode = "student", target_col = "grades",
                      functions = c("mean", "sum"))
</code></pre>


</div>