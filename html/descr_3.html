<div class="container">

<table style="width: 100%;"><tr>
<td>CrossTable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross tabulation with tests for factor independence</h2>

<h3>Description</h3>

<p>An implementation of a cross-tabulation function with output
similar to S-Plus crosstabs() and SAS Proc Freq (or SPSS format)
with Chi-square, Fisher and McNemar tests of the independence
of all table factors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CrossTable(x, y,
           digits = list(expected = 1, prop = 3, percent = 1, others = 3),
           max.width = NA, expected = FALSE,
           prop.r = TRUE, prop.c = TRUE, prop.t = TRUE,
           prop.chisq = TRUE, chisq = FALSE, fisher = FALSE,
           mcnemar = FALSE, resid = FALSE, sresid = FALSE,
           asresid = FALSE, missing.include = FALSE,
           drop.levels = TRUE, format = c("SAS","SPSS"),
           dnn = NULL, cell.layout = TRUE,
           row.labels = !cell.layout,
           percent = (format == "SPSS" &amp;&amp; !row.labels),
           total.r, total.c, xlab = NULL, ylab = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector or a matrix. If y is specified, x must be a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A vector in a matrix or a dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Named list with number of digits after the decimal point for
four categories of statistics: expected values, cell proportions,
percentage and others statistics. It can also be a numeric vector with a
single number if you want the same number of digits in all statistics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.width</code></td>
<td>
<p>In the case of a 1 x n table, the default will be
to print the output horizontally. If the number of columns exceeds
max.width, the table will be wrapped for each successive increment
of max.width columns. If you want a single column vertical table,
set max.width to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.r</code></td>
<td>
<p>If <code>TRUE</code>, row proportions will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.c</code></td>
<td>
<p>If <code>TRUE</code>, column proportions will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.t</code></td>
<td>
<p>If <code>TRUE</code>, table proportions will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expected</code></td>
<td>
<p>If <code>TRUE</code>, expected cell counts from the
<code class="reqn">\chi^2</code> will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.chisq</code></td>
<td>
<p>If <code>TRUE</code>, chi-square contribution of each cell will be
included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chisq</code></td>
<td>
<p>If <code>TRUE</code>, the results of a chi-square test will be
printed after the table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fisher</code></td>
<td>
<p>If <code>TRUE</code>, the results of a Fisher Exact test will
be printed after the table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcnemar</code></td>
<td>
<p>If <code>TRUE</code>, the results of a McNemar test will be printed
after the table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid</code></td>
<td>
<p>If <code>TRUE</code>, residual (Pearson) will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sresid</code></td>
<td>
<p>If <code>TRUE</code>,  standardized residual will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asresid</code></td>
<td>
<p>If <code>TRUE</code>, adjusted standardized residual will be
included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing.include</code></td>
<td>
<p>If <code>TRUE</code>, then NA values, if present, are
included as level <code>"NA"</code> of both x and y. You can change the new
level label by setting the value of descr.na.replacement option. Example:
<code>options(descr.na.replacement = "Missing")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.levels</code></td>
<td>
<p>If <code>TRUE</code>, then remove any unused factor levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Either SAS (default) or SPSS, depending on the type of
output desired.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dnn</code></td>
<td>
<p>The names to be given to the dimensions in the result (the dimnames
names).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cell.layout</code></td>
<td>
<p>If <code>TRUE</code>, print the cell layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.labels</code></td>
<td>
<p>If <code>TRUE</code>, add labels to rows of calculated
statistics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>
<p>A logical value indicating whether to add the percentage
symbol ‘<span class="samp">⁠prop.r⁠</span>’, ‘<span class="samp">⁠prop.c⁠</span>’ and ‘<span class="samp">⁠prop.t⁠</span>’ if ‘<span class="samp">⁠format⁠</span>’ is
‘<span class="samp">⁠"SPSS"⁠</span>’.</p>
</td>
</tr>
</table>
<p>.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>total.r</code></td>
<td>
<p>If <code>TRUE</code>, print row totals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total.c</code></td>
<td>
<p>If <code>TRUE</code>, print column totals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>A title for the x axis when plotting the CrossTable object (see
<code>title</code>). If missing, <code>dnn[1]</code> is used if not
<code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>A title for the y axis when plotting the CrossTable object (see
<code>title</code>). If missing, <code>dnn[2]</code> is used if not
<code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments passed to <code>chisq.test</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A summary table will be generated with cell row, column and table
proportions and marginal totals and proportions. Expected cell counts can be
printed if desired. In the case of a 2 x 2 table, both corrected and
uncorrected values will be included for appropriate tests. In the case of
tabulating a single vector, cell counts and table proportions will be
printed.
</p>
<p>Note 1: If 'x' is a vector and 'y' is not specified, no statistical tests
will be performed, even if any are set to <code>TRUE</code>.
</p>
<p>Note 2: 'x' and 'y' labels will be truncated if the table is not going to
fit to the screen, according to the value of <code>getOption("width")</code>.
</p>
<p>If both arguments ‘<span class="samp">⁠total.c⁠</span>’ and ‘<span class="samp">⁠total.r⁠</span>’ are missing, both will
be <code>TRUE</code>. If only one of them is missing, the other will have the same
value of the not missing one.
</p>


<h3>Value</h3>

<p>A list of class <code>CrossTable</code> containing parameters used by the
<code>print.CrossTable</code> method and the following components:
</p>
<p>tab:          An n by m matrix containing table cell counts.
</p>
<p>prop.row:     An n by m matrix containing cell row proportions.
</p>
<p>prop.col:     An n by m matrix containing cell column proportions.
</p>
<p>prop.tbl:     An n by m matrix containing cell table proportions.
</p>
<p>chisq:        Results from the Chi-Square test. A list with class 'htest'.
See <code>chisq.test</code> for details.
</p>
<p>chisq.corr:   Results from the corrected Chi-Square test. A list with class
'htest'. See <code>chisq.test</code> for details. ONLY included in
the case of a 2 x 2 table.
</p>
<p>fisher.ts:    Results from the two-sided Fisher Exact test. A list with
class 'htest'. See <code>fisher.test</code> for details. ONLY
included if 'fisher' = TRUE.
</p>
<p>fisher.lt:    Results from the Fisher Exact test with HA = "less". A list
with class 'htest'. See <code>fisher.test</code> for details. ONLY
included if 'fisher' = TRUE and in the case of a 2 x 2 table.
</p>
<p>fisher.gt:    Results from the Fisher Exact test with HA = "greater". A list
with class 'htest'. See <code>fisher.test</code> for details. ONLY
included if 'fisher' = TRUE and in the case of a 2 x 2 table.
</p>
<p>mcnemar:      Results from the McNemar test. A list with class 'htest'. See
<code>mcnemar.test</code> for details. ONLY included if 'mcnemar' =
TRUE.
</p>
<p>mcnemar.corr: Results from the corrected McNemar test. A list with class
'htest'. See <code>mcnemar.test</code> for details. ONLY included if
'mcnemar' = TRUE and in the case of a 2 x 2 table.
</p>
<p>resid/sresid/asresid: Pearson Residuals (from chi-square tests).
</p>


<h3>Author(s)</h3>

<p>Jakson Aquino <a href="mailto:jalvesaq@gmail.com">jalvesaq@gmail.com</a> has splited the function
<code>CrossTable</code> (from the package <code>gmodels</code>) in two:
<code>CrossTable</code> and <code>print.CrossTable</code>. The <code>gmodels</code>'s function
was developed by Marc Schwartz (original version posted to r-devel on Jul
27, 2002. SPSS format modifications added by Nitin Jain based upon code
provided by Dirk Enzmann).</p>


<h3>See Also</h3>

<p><code>crosstab</code> (a wrapper to ‘<span class="samp">⁠CrossTable⁠</span>’ that makes it
easier to do a weighted contingency table), <code>plot.CrossTable</code>,
<code>forODFTable</code>, <code>table</code>,
<code>prop.table</code>, <code>xtabs</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R"># Simple cross tabulation of education versus prior induced
# abortions using infertility data
data(warpbreaks, package = "datasets")
ct &lt;- CrossTable(warpbreaks$wool, warpbreaks$tension,
                 dnn = c("Wool", "Tension"))
data(esoph, package = "datasets")
ct &lt;- CrossTable(esoph$alcgp, esoph$agegp, expected = TRUE,
                 chisq = FALSE, prop.chisq = FALSE,
                 dnn = c("Alcohol consumption", "Tobacco consumption"))
plot(ct, inv.y = TRUE)
print(ct)

# While printing the object, you can replace some (but not all)
# arguments previously passed to CrossTable
print(ct, format = "SPSS", cell.layout = FALSE, row.labels = TRUE)

# For better examples, including the use of xtable,
# see the documentation of crosstab().
</code></pre>


</div>