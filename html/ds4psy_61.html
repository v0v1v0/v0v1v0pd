<div class="container">

<table style="width: 100%;"><tr>
<td>plot_chars</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot text characters (from file or user input) and match patterns.</h2>

<h3>Description</h3>

<p><code>plot_chars</code> parses text (from a file or user input) 
into a table and then plots its individual characters 
as a tile plot (using <strong>ggplot2</strong>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_chars(
  x = NA,
  file = "",
  lbl_hi = NA,
  lbl_lo = NA,
  bg_hi = NA,
  bg_lo = "[[:space:]]",
  lbl_rotate = NA,
  case_sense = TRUE,
  lbl_tiles = TRUE,
  angle_fg = c(-90, 90),
  angle_bg = 0,
  col_lbl = "black",
  col_lbl_hi = pal_ds4psy[[1]],
  col_lbl_lo = pal_ds4psy[[9]],
  col_bg = pal_ds4psy[[7]],
  col_bg_hi = pal_ds4psy[[4]],
  col_bg_lo = "white",
  col_sample = FALSE,
  rseed = NA,
  cex = 3,
  fontface = 1,
  family = "sans",
  borders = FALSE,
  border_col = "white",
  border_size = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The text to plot (as a character vector). 
Different elements denote different lines of text. 
If <code>x = NA</code> (as per default), 
the <code>file</code> argument is used to read 
a text file or user input from the Console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>A text file to read (or its path). 
If <code>file = ""</code> (as per default), 
<code>scan</code> is used to read user input from the Console. 
If a text file is stored in a sub-directory, 
enter its path and name here (without any leading or 
trailing "." or "/").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_hi</code></td>
<td>
<p>Labels to highlight (as regex). 
Default: <code>lbl_hi = NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_lo</code></td>
<td>
<p>Labels to de-emphasize (as regex). 
Default: <code>lbl_lo = NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg_hi</code></td>
<td>
<p>Background tiles to highlight (as regex). 
Default: <code>bg_hi = NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg_lo</code></td>
<td>
<p>Background tiles to de-emphasize (as regex). 
Default: <code>bg_lo = "[[:space:]]"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_rotate</code></td>
<td>
<p>Labels to rotate (as regex). 
Default: <code>lbl_rotate = NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case_sense</code></td>
<td>
<p>Boolean: Distinguish 
lower- vs. uppercase characters in pattern matches? 
Default: <code>case_sense = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_tiles</code></td>
<td>
<p>Add character labels to tiles? 
Default: <code>lbl_tiles = TRUE</code> (i.e., show labels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle_fg</code></td>
<td>
<p>Angle(s) for rotating character labels 
matching the pattern of the <code>lbl_rotate</code> expression. 
Default: <code>angle_fg = c(-90, 90)</code>. 
If <code>length(angle_fg) &gt; 1</code>, a random value 
in uniform <code>range(angle_fg)</code> is used for every character.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle_bg</code></td>
<td>
<p>Angle(s) of rotating character labels 
not matching the pattern of the <code>lbl_rotate</code> expression. 
Default: <code>angle_bg = 0</code> (i.e., no rotation). 
If <code>length(angle_bg) &gt; 1</code>, a random value 
in uniform <code>range(angle_bg)</code> is used for every character.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_lbl</code></td>
<td>
<p>Default color of text labels.
Default: <code>col_lbl = "black"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_lbl_hi</code></td>
<td>
<p>Highlighting color of text labels.
Default: <code>col_lbl_hi = pal_ds4psy[[1]]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_lbl_lo</code></td>
<td>
<p>De-emphasizing color of text labels.
Default: <code>col_lbl_lo = pal_ds4psy[[9]]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_bg</code></td>
<td>
<p>Default color to fill background tiles.
Default: <code>col_bg = pal_ds4psy[[7]]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_bg_hi</code></td>
<td>
<p>Highlighting color to fill background tiles.
Default: <code>col_bg_hi = pal_ds4psy[[4]]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_bg_lo</code></td>
<td>
<p>De-emphasizing color to fill background tiles.
Default: <code>col_bg_lo = "white"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_sample</code></td>
<td>
<p>Boolean: Sample color vectors (within category)?
Default: <code>col_sample = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rseed</code></td>
<td>
<p>Random seed (number).
Default: <code>rseed = NA</code> (using random seed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>Character size (numeric). 
Default: <code>cex = 3</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontface</code></td>
<td>
<p>Font face of text labels (numeric). 
Default: <code>fontface = 1</code>, (from 1 to 4).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>Font family of text labels (name).
Default: <code>family = "sans"</code>. 
Alternative options: "sans", "serif", or "mono".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>borders</code></td>
<td>
<p>Boolean: Add borders to tiles? 
Default: <code>borders = FALSE</code> (i.e., no borders).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border_col</code></td>
<td>
<p>Color of tile borders. 
Default: <code>border_col = "white"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border_size</code></td>
<td>
<p>Size of tile borders. 
Default: <code>border_size = 0.5</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>plot_chars</code> blurs the boundary between a text 
and its graphical representation by combining options 
for matching patterns of text with visual features 
for displaying characters (e.g., their color or orientation). 
</p>
<p><code>plot_chars</code> is based on <code>plot_text</code>, 
but provides additional support for detecting and displaying characters 
(i.e., text labels, their orientation, and color options) 
based on matching regular expression (regex). 
</p>
<p>Internally, <code>plot_chars</code> is a wrapper that calls 
(1) <code>map_text_regex</code> for creating a character map 
(allowing for matching patterns for some aesthetics) and 
(2) <code>plot_charmap</code> for plotting this character map. 
</p>
<p>However, in contrast to <code>plot_charmap</code>, 
<code>plot_chars</code> invisibly returns a 
description of the plot (as a data frame). 
</p>
<p>The plot generated by <code>plot_chars</code> is character-based: 
Individual characters are plotted at equidistant x-y-positions 
and the aesthetic settings provided for text labels and tile fill colors. 
</p>
<p>Five regular expressions and corresponding 
color and angle arguments allow identifying, 
marking (highlighting or de-emphasizing), and rotating 
those sets of characters (i.e, their text labels or fill colors).
that match the provided patterns.
</p>


<h3>Value</h3>

<p>An invisible data frame describing the plot.
</p>


<h3>See Also</h3>

<p><code>plot_charmap</code> for plotting character maps; 
<code>plot_text</code> for plotting characters and color tiles by frequency; 
<code>map_text_coord</code> for mapping text to a table of character coordinates; 
<code>map_text_regex</code> for mapping text to a character table and matching patterns; 
<code>read_ascii</code> for reading text inputs into a character string; 
<code>pal_ds4psy</code> for default color palette.
</p>
<p>Other plot functions: 
<code>plot_charmap()</code>,
<code>plot_fn()</code>,
<code>plot_fun()</code>,
<code>plot_n()</code>,
<code>plot_text()</code>,
<code>plot_tiles()</code>,
<code>theme_clean()</code>,
<code>theme_ds4psy()</code>,
<code>theme_empty()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># (A) From text string(s):
plot_chars(x = c("Hello world!", "Does this work?", 
                 "That's good.", "Please carry on..."))

# (B) From user input:
# plot_chars()  # (enter text in Console)

# (C) From text file:
# Create and use a text file: 
# cat("Hello world!", "This is a test file.", 
#     "Can you see this text?", 
#     "Good! Please carry on...", 
#     file = "test.txt", sep = "\n")

# plot_chars(file = "test.txt")  # default
# plot_chars(file = "test.txt", lbl_hi = "[[:upper:]]", lbl_lo = "[[:punct:]]", 
#            col_lbl_hi = "red", col_lbl_lo = "blue")
 
# plot_chars(file = "test.txt", lbl_hi = "[aeiou]", col_lbl_hi = "red", 
#            col_bg = "white", bg_hi = "see")  # mark vowels and "see" (in bg)
# plot_chars(file = "test.txt", bg_hi = "[aeiou]", col_bg_hi = "gold")  # mark (bg of) vowels

## Label options:
# plot_chars(file = "test.txt", bg_hi = "see", lbl_tiles = FALSE)
# plot_chars(file = "test.txt", cex = 5, family = "mono", fontface = 4, lbl_angle = c(-20, 20))

## Note: plot_chars() invisibly returns a description of the plot (as df):
# tb &lt;- plot_chars(file = "test.txt", lbl_hi = "[aeiou]", lbl_rotate = TRUE)
# head(tb)

# unlink("test.txt")  # clean up (by deleting file).


## (B) From text file (in subdir):
# plot_chars(file = "data-raw/txt/hello.txt")  # requires txt file
# plot_chars(file = "data-raw/txt/ascii.txt", lbl_hi = "[2468]", bg_lo = "[[:digit:]]", 
#            col_lbl_hi = "red", cex = 10, fontface = 2)
           
## (C) User input:
# plot_chars()  # (enter text in Console)


</code></pre>


</div>