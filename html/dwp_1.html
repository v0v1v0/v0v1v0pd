<div class="container">

<table style="width: 100%;"><tr>
<td>Acins</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Area of Intersection inside Circle and Square with Common Center</h2>

<h3>Description</h3>

<p>Calculate Area of Intersection inside Circle and Square with Common Center
</p>


<h3>Usage</h3>

<pre><code class="language-R">Acins(r, s)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>radius of the circle (vector or scalar)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>half-width of the square (scalar)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>vector of intersections of interiors of circles with squaure
</p>


<h3>Examples</h3>

<pre><code class="language-R"> # calculate area in annulus intersecting square
s &lt;- 10 # radius or half-width of square
r &lt;- c(11, 12) # inner and outer radii of circle
diff(Acins(r, s)) # intersection of square and annulus
# figure to illustrate the calculated area:
theta &lt;- seq(0, 2 * pi, length = 1500)
plot(0, xlim = max(r) * c(-1, 1), ylim = max(r) * c(-1, 1),
  xlab = "x", ylab = "y", asp = 1, bty = "n", type = "n")
xi &lt;- r[1] * cos(theta)
yi &lt;- r[1] * sin(theta)
xo &lt;- r[2] * cos(theta)
yo &lt;- r[2] * sin(theta)
i1 &lt;- which(abs(xi) &lt;= s &amp; abs(yi) &lt;= s)
i2 &lt;- which(abs(xo) &lt;= s &amp; abs(yo) &lt;= s)
i2 &lt;- sort(i2, decreasing = TRUE)
xi &lt;- xi[i1]
yi &lt;- yi[i1]
xo &lt;- xo[i2]
yo &lt;- yo[i2]
polygon(col = 8, border = NA,
  x = c(xi[xi &gt;= 0 &amp; yi &gt;= 0], xo[xo &gt;= 0 &amp; yo &gt;= 0]), 
  y = c(yi[xi &gt;= 0 &amp; yi &gt;= 0], yo[xo &gt;= 0 &amp; yo &gt;= 0]))
polygon(col = 8, border = NA, 
  x = c(xi[xi &lt;= 0 &amp; yi &gt;= 0], xo[xo &lt;= 0 &amp; yo &gt;= 0]), 
  y = c(yi[xi &lt;= 0 &amp; yi &gt;= 0], yo[xo &lt;= 0 &amp; yo &gt;= 0]))
polygon(col = 8, border = NA,
  x = c(xi[xi &lt;= 0 &amp; yi &lt;= 0], xo[xo &lt;= 0 &amp; yo &lt;= 0]), 
 y = c(yi[xi &lt;= 0 &amp; yi &lt;= 0], yo[xo &lt;= 0 &amp; yo &lt;= 0]))
polygon(col = 8, border = NA,
 x = c(xi[xi &gt;= 0 &amp; yi &lt;= 0], xo[xo &gt;= 0 &amp; yo &lt;= 0]), 
 y = c(yi[xi &gt;= 0 &amp; yi &lt;= 0], yo[xo &gt;= 0 &amp; yo &lt;= 0]))
lines(r[1] * cos(theta), r[1]* sin(theta))
lines(r[2]* cos(theta), r[2] * sin(theta))
rect(-s, -s, s, s)
 # calculate areas in series of 1 m annuli extending to corner of square
 s &lt;- 10.5 # radius of square (center to side)
 diff(Acins(r = 0:ceiling(sqrt(2) * s), s))
</code></pre>


</div>