<div class="container">

<table style="width: 100%;"><tr>
<td>spatiotemp_extent</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter species occurrence records by a given spatial and temporal extent.</h2>

<h3>Description</h3>

<p>Function excludes species occurrence records with co-ordinates outside a given spatial extent and
record dates outside a given temporal extent.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spatiotemp_extent(
  occ.data,
  temporal.ext,
  spatial.ext,
  prj = "+proj=longlat +datum=WGS84"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>occ.data</code></td>
<td>
<p>a data frame, with columns for occurrence record co-ordinates and dates with
column names as follows; record longitude as "x", latitude as "y", year as "year", month as
"month", and day as "day".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>temporal.ext</code></td>
<td>
<p>optional; a character vector, two dates in format "YYYY-MM-DD". First date
represents start of temporal extent and second date represents end of temporal extent for
inclusion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spatial.ext</code></td>
<td>
<p>the spatial extent to filter by. Object from which extent
can be extracted of class <code>SpatExtent</code>, <code>SpatRaster</code>, <code>sf</code> polygon or
numeric vector listing xmin, xmax, ymin and ymax in order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prj</code></td>
<td>
<p>a character string, the coordinate reference system of input <code>occ.data</code> co-ordinates.
Default is "+proj=longlat +datum=WGS84".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns data frame of occurrence records filtered to the spatial and temporal extent
given.
</p>


<h3>Spatial extent</h3>

<p>If <code>spatial.ext</code> is provided, <code>spatiotemp_extent()</code> checks whether species occurrence record
co-ordinates are within the given spatial extent of the study (<code>spatial.ext</code>) and excludes any
outside of this extent.
</p>
<p>If <code>spatial.ext</code> object can be used as a mask by <code>terra::mask()</code> then the mask is used to filter
records in a more targeted way. If not, then the rectangular extent of the <code>spatial.ext</code> object
is used.
</p>


<h3>Temporal extent</h3>

<p>If <code>temporal.ext</code> is provided, <code>spatiotemp_extent()</code> checks whether species
occurrence record dates are within the given temporal extent of the study and excludes any outside
of this extent.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(sample_filt_data)
data(sample_extent_data)

results &lt;- spatiotemp_extent(occ.data = sample_filt_data,
                            spatial.ext = sample_extent_data,
                            temporal.ext = c("2012-01-01", "2017-01-01"))

</code></pre>


</div>