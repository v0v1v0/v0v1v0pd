<div class="container">

<table style="width: 100%;"><tr>
<td>getn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample size calculator for CRM trials</h2>

<h3>Description</h3>

<p>Sample size calculator for a one-stage Bayesian CRM (see Details for design specification).
</p>


<h3>Usage</h3>

<pre><code class="language-R">getn(apcs, target, nlevel, psi, correction = TRUE, detail = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>apcs</code></td>
<td>
<p>The desired average probability of correction selection (PCS) under the logistic calibration set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>The target DLT rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlevel</code></td>
<td>
<p>The number of test doses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>psi</code></td>
<td>
<p>Effect size, i.e., odds ratio of the logistic dose-toxicity curves.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>
<p>Continuity correction is applied in the sample size calculation if TRUE (default).  Otherwise if FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detail</code></td>
<td>
<p>Print only essential results for trial planning if FALSE (default).  Otherwise if TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The sample size calculation is based on empirical approximation for the CRM using the  power (or empiric)
dose-toxicity function, <code class="reqn">F(d, \beta) = d^{\exp(\beta)}</code>, where <code class="reqn">\beta</code> has a normal prior with
mean 0 and variance 1.34, and the starting dose is the median level.  
The “skeleton" is obtained by setting <code>halfwidth</code> at <code class="reqn">0.25 \times</code> <code>target</code>, 
and <code>nu</code> at the median level in the function <code>getprior</code>.
</p>
<p>The calculation is intended to serve as an initial sample size for the CRM calibration process
depicted in Figure 7.1 in Cheung (2011).
</p>


<h3>Value</h3>

<p>An object of class “crmsize"  is returned, consisting of the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The calculated sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>astar</code></td>
<td>
<p>The desired average PCS.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>The target DLT rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlevel</code></td>
<td>
<p>The number of test doses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>psi</code></td>
<td>
<p>Odds ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bstar</code></td>
<td>
<p>An intermediate value used to calculate the sample size.  Shown only if <code>detail</code>=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>efficiency</code></td>
<td>
<p>Ratio of required sample sizes of the optimal benchmark and the CRM.  Shown only if <code>detail</code>=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>
<p>Whether continuity correction is applied.  Shown only if <code>detail</code>=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na</code></td>
<td>
<p>The CRM sample size before rounding up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nb</code></td>
<td>
<p>The sample size lower bound before rounding up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>messages</code></td>
<td>
<p>String characters prompt warning messages and caveats regarding the sample size calculation.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Cheung, Y. K. (2011).  Dose Finding by the Continual Reassessment Method.  New York: Chapman &amp; Hall/CRC Press.
</p>


<h3>See Also</h3>

<p><code>getprior</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">apcs &lt;- 0.6    
target &lt;- 0.25
nlevel &lt;- 5
psi &lt;- 1.8     

# Sample size calculation with continuity correction
obj = getn(apcs, target, nlevel, psi, correction=TRUE)
obj

N = obj$n
</code></pre>


</div>