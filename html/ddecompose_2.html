<div class="container">

<table style="width: 100%;"><tr>
<td>bootstrap_estimate_ob_decompose</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bootstrapping the OB decomposition</h2>

<h3>Description</h3>

<p>The function resamples observations and restimates the OB decomposition
with the new sample.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bootstrap_estimate_ob_decompose(
  formula_decomposition,
  formula_reweighting,
  data_used,
  group,
  reference_0,
  normalize_factors,
  reweighting,
  reweighting_method,
  trimming,
  trimming_threshold,
  rifreg,
  rifreg_statistic,
  rifreg_probs,
  custom_rif_function,
  na.action,
  cluster = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula_decomposition</code></td>
<td>
<p><code>formula</code> object that contains the formula for the decomposition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula_reweighting</code></td>
<td>
<p><code>formula</code> object that contains the formula for
the reweighting in case of a reweighted decompostion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_used</code></td>
<td>
<p><code>data.frame</code> with data used for estimation (including weight and group variable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>name of the a binary variable (numeric or factor)
identifying the two groups that will be compared. The group identified by the
lower ranked value in 'group' (i.e., 0 in the case of a dummy variable or the
first level of factor variable) is defined as group 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference_0</code></td>
<td>
<p>boolean: indicating if group 0 is the reference group and if its coefficients are used to compute the counterfactual mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize_factors</code></td>
<td>
<p>boolean: If 'TRUE', then factor variables are normalized as proposed by Gardeazabal/Ugidos (2004)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reweighting</code></td>
<td>
<p>boolean: if 'TRUE', then the decomposition is performed with
with respect to reweighted reference group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reweighting_method</code></td>
<td>
<p>specifies the method fit and predict conditional probabilities
used to derive the reweighting factor. Currently, <code>"logit"</code>, <code>"fastglm"</code>,
and <code>"random_forest"</code> are available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trimming</code></td>
<td>
<p>boolean: If <code>TRUE</code>, observations with dominant reweighting factor
values are trimmend according to rule of Huber, Lechner, and Wunsch (2013). Per
default, trimming is set to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trimming_threshold</code></td>
<td>
<p>numeric: threshold defining the maximal accepted
relative weight of the reweighting factor value (i.e., inverse probability weight)
of a single observation. If <code>NULL</code>, the threshold is set to <code class="reqn">sqrt(N)/N</code>,
where <code class="reqn">N</code> is the number of observations in the reference group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rifreg</code></td>
<td>
<p>boolean: if 'TRUE', then RIF decomposition is performed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rifreg_statistic</code></td>
<td>
<p>string containing the distributional statistic for which to compute the RIF.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rifreg_probs</code></td>
<td>
<p>a vector of length 1 or more with probabilities of quantiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom_rif_function</code></td>
<td>
<p>the RIF function to compute the RIF of the custom distributional statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>generic function that defines how NAs in the data should be handled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>numeric vector of same length as <code>dep_var</code> indicating the
clustering of observations. If <code>cluster = NULL</code> (default), no clustering
is a assumend and bootstrap procedure resamples individual observations. Otherwise
bootstrap procedure resamples clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters passed to custom_rif_function</p>
</td>
</tr>
</table>
</div>