<div class="container">

<table style="width: 100%;"><tr>
<td>StartEnd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find the starting and ending time points of a spell</h2>

<h3>Description</h3>

<p><code>StartEnd</code> finds the starting and ending time points of a spell,
including for time-series cross-sectional data. Note: your data needs to be
sorted by date. The date should be ascending (i.e. increasing as it moves
down the rows).
</p>


<h3>Usage</h3>

<pre><code class="language-R">StartEnd(data, SpellVar, GroupVar, SpellValue, OnlyStart = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SpellVar</code></td>
<td>
<p>a character string naming the variable with information on
when each spell starts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GroupVar</code></td>
<td>
<p>a character string naming the variable grouping the units
experiencing the spells. If <code>GroupVar</code> is missing then .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SpellValue</code></td>
<td>
<p>a value indicating when a unit is in a spell. If
<code>SpellValue</code> is missing then any change in <code>Var</code>'s value will be
treated as the start/end of a spell. Must specify if <code>OnlyStart = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OnlyStart</code></td>
<td>
<p>logical for whether or not to only add a new
<code>Spell_Start</code> variable. Please see the details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Aguments to pass to <code>slide</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data frame. If <code>OnlyStart = FALSE</code> then two new variables are
returned:
</p>

<ul>
<li>
<p>Spell_Start: The time period year of a given spell.
</p>
</li>
<li>
<p>Spell_End: The end time period of a given spell.
</p>
</li>
</ul>
<p>If <code>OnlyStart = TRUE</code> then only <code>Spell_Start</code> is added.
This variable includes both <code>1</code>'s for the start of a new spell and for
the start of a 'gap spell', i.e. a spell after <code>Spell_End</code>.
</p>


<h3>See Also</h3>

<p><code>slide</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create fake data
ID &lt;- sort(rep(seq(1:4), 5))
Time &lt;- rep(1:5, 4)
Dummy &lt;-  c(1, sample(c(0, 1), size = 19, replace = TRUE))
Data &lt;- data.frame(ID, Time, Dummy)

# Find start/end of spells denoted by Dummy = 1
DataSpell &lt;- StartEnd(Data, SpellVar = 'Dummy', GroupVar = 'ID',
                     TimeVar = 'Time', SpellValue = 1)

head(DataSpell)

</code></pre>


</div>