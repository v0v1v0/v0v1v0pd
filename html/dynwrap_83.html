<div class="container">

<table style="width: 100%;"><tr>
<td>select_waypoints</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add or create waypoints to a trajectory</h2>

<h3>Description</h3>

<p>Waypoints are points along the trajectory, which do not necessarily correspond to cells. They are selected in such a way that all parts of the trajectory are covered
</p>


<h3>Usage</h3>

<pre><code class="language-R">select_waypoints(
  trajectory,
  n_waypoints = 200,
  trafo = sqrt,
  resolution = sum(trafo(trajectory$milestone_network$length))/n_waypoints,
  recompute = FALSE
)

add_waypoints(
  trajectory,
  n_waypoints = 200,
  trafo = sqrt,
  resolution = sum(trafo(trajectory$milestone_network$length))/n_waypoints,
  recompute = FALSE
)

is_wrapper_with_waypoints(trajectory)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>trajectory</code></td>
<td>
<p>The trajectory as created by <code>infer_trajectory()</code> or <code>add_trajectory()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_waypoints</code></td>
<td>
<p>The number of waypoints</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trafo</code></td>
<td>
<p>Transformation function of the edge lengths</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>The resolution of the waypoints, measured in the same units as the lengths of the milestone network edges, will be automatically computed using n_waypoints</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recompute</code></td>
<td>
<p>Force recompute</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><strong><code>add_waypoints</code></strong> returns the trajectory with <em>waypoints</em> added, which is a list containing:
</p>

<ul>
<li> <p><em>milestone_percentages</em> and <em>progressions</em>: The milestone percentages and progressions of each waypoint, in the same format as the cell equivalents (see <code>add_trajectory()</code>) but with a <em>waypoint_id</em> column instead of a <em>cell_id</em> column
</p>
</li>
<li> <p><em>geodesic_distances</em>: a matrix with the geodesic distance of each waypoint (rows) to every cell (columns)
</p>
</li>
<li> <p><em>waypoint_network</em>: a dataframe containing the network between consecutive waypoints, it contains information on the connected waypoints (<em>from</em> and <em>to</em>) and the edge on which they reside (<em>from_milestone_id</em> and <em>to_milestone_id</em>)
</p>
</li>
<li> <p><em>waypoints</em>: the waypoint identifiers
</p>
</li>
</ul>
<p>**<code>select_waypoints</code> returns the list as mentioned in <code>add_waypoints</code>
</p>


</div>