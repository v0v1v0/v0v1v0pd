<div class="container">

<table style="width: 100%;"><tr>
<td>updateObject</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update an object on a Member Node, by creating a new object that replaces an original.</h2>

<h3>Description</h3>

<p>This method provides the ability to update a data or metadata object to the Member Node
provided in the <code>'x'</code> parameter.  In DataONE, both the original object and the new object are
maintained, each with its own persistent identifier, and the 'obsoletes' field in the SystemMetadata is
used to reflect the fact that the new object replaces the old.  Both objects remain accessible.
</p>


<h3>Usage</h3>

<pre><code class="language-R">updateObject(x, ...)

## S4 method for signature 'MNode'
updateObject(x, pid, file = as.character(NA), newpid, sysmeta, dataobj = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The MNode instance on which the object will be created</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>(Not yet used.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pid</code></td>
<td>
<p>The identifier of the object to be updated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>the absolute file location of the object to be uploaded</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newpid</code></td>
<td>
<p>The identifier of the new object to be created</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sysmeta</code></td>
<td>
<p>a SystemMetadata instance describing properties of the object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataobj</code></td>
<td>
<p>a <code>raw</code> object to use for the upload, instead of the contents of the <code>file</code> argument.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the version 2.0 library and higher, this operation can utilize an 
'dataone_token' option to provide credentials for write operations in DataONE.
The authentication token is obtained from DataONE (see your profile on https://search.dataone.org).
See the <code>vignette("dataone-overview")</code> for details.
Alternatively, the version 1.0 approach of using an X.509 certificate in a default location of the file 
system can also be used. This certificate provides authentication credentials from 
CILogon <a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a>.  See <code>vignette("dataone-overview")</code> for details.
</p>


<h3>Value</h3>

<p>A <code>character</code> containing the identifier if successful.
</p>


<h3>Note</h3>

<p>Please see the vignette *upload-data* for an example: <code>vignette("upload-data")</code>
</p>


<h3>See Also</h3>

<p><a href="https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.update">https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.update</a>
</p>


</div>