<div class="container">

<table style="width: 100%;"><tr>
<td>diff_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Do a data diff</h2>

<h3>Description</h3>

<p>Find differences with a reference data set. The diff can be used to <code>patch_data</code>, to store the difference
for documentation purposes using <code>write_diff</code> or to visualize the difference using <code>render_diff</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">diff_data(
  data_ref,
  data,
  always_show_header = TRUE,
  always_show_order = FALSE,
  columns_to_ignore = c(),
  count_like_a_spreadsheet = TRUE,
  ids = c(),
  ignore_whitespace = FALSE,
  never_show_order = FALSE,
  ordered = TRUE,
  padding_strategy = c("auto", "smart", "dense", "sparse"),
  show_meta = TRUE,
  show_unchanged = FALSE,
  show_unchanged_columns = FALSE,
  show_unchanged_meta = FALSE,
  unchanged_column_context = 1L,
  unchanged_context = 1L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_ref</code></td>
<td>
<p><code>data.frame</code> reference data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> to check for changes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>always_show_header</code></td>
<td>
<p><code>logical</code>
Should we always give a table header in diffs? This defaults
to TRUE, and - frankly - you should leave it at TRUE for now.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>always_show_order</code></td>
<td>
<p><code>logical</code>
Diffs for tables where row/column order has been permuted may include
an extra row/column specifying the changes in row/column numbers.
If you'd like that extra row/column to always be included,
turn on this flag, and turn off never_show_order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns_to_ignore</code></td>
<td>
<p><code>character</code>
List of columns to ignore in all calculations. Changes
related to these columns are ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count_like_a_spreadsheet</code></td>
<td>
<p><code>logical</code>
Should column numbers, if present, be rendered spreadsheet-style
as A,B,C,...,AA,BB,CC?  Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ids</code></td>
<td>
<p><code>character</code>
List of columns that make up a primary key, if known. Otherwise
heuristics are used to find a decent key (or a set of decent keys).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_whitespace</code></td>
<td>
<p><code>logical</code>
Should whitespace be omitted from comparisons.  Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>never_show_order</code></td>
<td>
<p><code>logical</code>
Diffs for tables where row/column order has been permuted may include
an extra row/column specifying the changes in row/column numbers.
If you'd like to be sure that that row/column is *never
included, turn on this flag, and turn off always_show_order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered</code></td>
<td>
<p><code>logical</code>
Is the order of rows and columns meaningful? Defaults to 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>padding_strategy</code></td>
<td>
<p><code>logical</code>
Strategy to use when padding columns.  Valid values are "auto",
"smart", "dense", and "sparse".  Leave null for a sensible default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_meta</code></td>
<td>
<p><code>logical</code>
Show changes in column properties, not just data, if available. Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_unchanged</code></td>
<td>
<p><code>logical</code>
Should we show all rows in diffs?  We default to showing
just rows that have changes (and some context rows around
them, if row order is meaningful), but you can override
this here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_unchanged_columns</code></td>
<td>
<p><code>logical</code>
Should we show all columns in diffs?  We default to showing
just columns that have changes (and some context columns around
them, if column order is meaningful), but you can override
this here.  Irrespective of this flag, you can rely
on index/key columns needed to identify rows to be included
in the diff.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_unchanged_meta</code></td>
<td>
<p><code>logical</code>
Show all column properties, if available, even if unchanged.
Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unchanged_column_context</code></td>
<td>
<p><code>integer</code>
When showing context columns around a changed column, what
is the minimum number of such columns we should show?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unchanged_context</code></td>
<td>
<p><code>integer</code>
When showing context rows around a changed row, what
is the minimum number of such rows we should show?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>difference object
</p>


<h3>See Also</h3>

<p>differs_from
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(daff)
x &lt;- iris
x[1,1] &lt;- 10
diff_data(x, iris)

dd &lt;- diff_data(x, iris)
#write_diff(dd, "diff.csv")
summary(dd)
</code></pre>


</div>