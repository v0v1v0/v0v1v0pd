<div class="container">

<table style="width: 100%;"><tr>
<td>excessRisk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create and analyze multiway frequency or weighted frequency
table</h2>

<h3>Description</h3>

<p>This function creates a multi-way table of counts
for the <code>response</code> given a set of classifying factors.  Output
facilitates a check on how the factor specified as <code>margin</code>
may, after accounting for other classifying factors, affect the
response.  </p>


<h3>Usage</h3>

<pre><code class="language-R">excessRisk(form = weight ~ seatbelt + airbag, response = "dead", margin = "airbag",
data = DAAG::nassCDS, decpl = 4, printResults = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>
<p><code>form</code> is a formula in which classifying factors
appear on the right, with an optional weight variable on the left.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p><code>response</code> is a binary variable or two-level
factor such that the response of interest is the relative number
in the two levels.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p><code>margin</code> is the factor whose effect on the
response,
after accounting for other classifying factors, is of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data</code> is a data frame in which variables and
factors may be found</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decpl</code></td>
<td>
<p><code>decpl</code> is the number of decimal places in
proportions that appear in the output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printResults</code></td>
<td>
<p>if <code>TRUE</code>, a tabular summary is printed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The best way to understand what this function does may be to run it
with the default parameters, and/or with examples that appear below.
</p>


<h3>Value</h3>

<p>The function returns a data frame, with one row for each combination of
levels of factors on the right of the formula, but excluding the
factor specified as <code>margin</code>.
The final three columns show the count for level 1 as a fraction
of the margin by total, the count for level 2 as a fraction of
the margin by total, and the excess count for level 2 of response in 
the row, under the assumption that, in that row, there is no association 
between <code>response</code> and <code>margin</code>.  This is the observed response
(for the default arguments, number of dead) for level 2 (airbag deployed),
less the number that would have been expected if the proportion
had been that for level 1. (Negative values favor airbags.)
</p>


<h3>Author(s)</h3>

<p>John Maindonald</p>


<h3>References</h3>

<p>See <code>help(nassCDS)</code></p>


<h3>See Also</h3>

<p><code>xtabs</code></p>


<h3>Examples</h3>

<pre><code class="language-R">excessRisk()
excessRisk(weight ~ airbag+seatbelt+dvcat)
UCB &lt;- as.data.frame.table(UCBAdmissions)
excessRisk(Freq~Gender, response="Admit", margin="Gender",data=UCB)
excessRisk(Freq~Gender+Dept, response="Admit", margin="Gender",data=UCB)
</code></pre>


</div>