<div class="container">

<table style="width: 100%;"><tr>
<td>convertDVHsmooth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert between differential and cumulative DVH</h2>

<h3>Description</h3>

<p>Convert between differential and cumulative DVH as well as between dose units, using smoothng of the differential DVH.</p>


<h3>Usage</h3>

<pre><code class="language-R">convertDVHsmooth(x,
                 toType=c("asis", "cumulative", "differential"),
                 toDoseUnit=c("asis", "GY", "CGY"),
                 interp=c("asis", "linear", "spline", "ksmooth", "smoothSpl"),
                 nodes=NULL, rangeD=NULL, perDose=TRUE)

## S3 method for class 'matrix'
convertDVHsmooth(x,
                 toType=c("asis", "cumulative", "differential"),
                 toDoseUnit=c("asis", "GY", "CGY"),
                 interp=c("asis", "linear", "spline", "ksmooth", "smoothSpl"),
                 nodes=NULL, rangeD=NULL, perDose=TRUE)

## S3 method for class 'DVHs'
convertDVHsmooth(x,
                 toType=c("asis", "cumulative", "differential"),
                 toDoseUnit=c("asis", "GY", "CGY"),
                 interp=c("asis", "linear", "spline", "ksmooth", "smoothSpl"),
                 nodes=NULL, rangeD=NULL, perDose=TRUE)

## S3 method for class 'DVHLst'
convertDVHsmooth(x,
                 toType=c("asis", "cumulative", "differential"),
                 toDoseUnit=c("asis", "GY", "CGY"),
                 interp=c("asis", "linear", "spline", "ksmooth", "smoothSpl"),
                 nodes=NULL, rangeD=NULL, perDose=TRUE)

## S3 method for class 'DVHLstLst'
convertDVHsmooth(x,
                 toType=c("asis", "cumulative", "differential"),
                 toDoseUnit=c("asis", "GY", "CGY"),
                 interp=c("asis", "linear", "spline", "ksmooth", "smoothSpl"),
                 nodes=NULL, rangeD=NULL, perDose=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>One DVH (object of class <code>matrix</code> or <code>DVHs</code>, multiple cumulative DVHs from one patient with multiple structures (object of class <code>DVHLst</code>), or multiple cumulative DVHs from many patients, each with multiple structures (object of class <code>DVHLstLst</code>). See <code>readDVH</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toType</code></td>
<td>
<p><code>character</code>. Convert the DVH to this type. <code>"asis"</code> keeps the current DVH type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toDoseUnit</code></td>
<td>
<p><code>character</code>. Convert the DVH to this dose unit. <code>"asis"</code> keeps the current dose unit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interp</code></td>
<td>
<p><code>character</code>. Interpolation method for the differential DVH. <code>"asis"</code> and <code>"linear"</code> for no interpolation. <code>"spline"</code> for spline interpolation using <code>splinefun</code> (<code>"fmm"</code> for differential, <code>"monoH.FC"</code> for cumulative DVHs), <code>"ksmooth"</code> for local polynomial regression using <code>locpoly</code> with kernel bandwidth chosen by the direct plug-in method using <code>dpill</code>, <code>"smoothSpl"</code> for a smoothing spline using <code>smooth.spline</code>, with the smoothing parameter chosen by generalized crossvalidation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodes</code></td>
<td>
<p><code>numeric</code>. Minimum number of nodes to use in interpolation for method <code>"ksmooth"</code>. Number of available nodes is kept as is for <code>NULL</code> or if larger than <code>nodes</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rangeD</code></td>
<td>
<p><code>numeric</code>. Dose range for interpolation methods <code>"linear"</code>, <code>"spline"</code>, <code>"smoothSpl"</code>. If <code>NULL</code> it is determined individally for each DVH.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perDose</code></td>
<td>
<p><code>logical</code>. Are the differential DVH volume values per unit dose?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Depending on the input, an object of class <code>matrix</code>, <code>DVHs</code>, <code>DVHLst</code>, or <code>DVHLstLst</code>.</p>


<h3>See Also</h3>

<p><code>convertDVH</code>,
<code>readDVH</code>,
<code>showDVH</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">res &lt;- convertDVHsmooth(dataMZ[[c(1, 1)]],
                  toType="cumulative",
                  toDoseUnit="CGY")
</code></pre>


</div>