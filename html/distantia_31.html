<div class="container">

<table style="width: 100%;"><tr>
<td>workflowTransfer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transfers an attribute (time, age, depth) from one sequence to another</h2>

<h3>Description</h3>

<p>Transfers an attribute (generally time/age, but any others are possible) from one sequence (defined by the argument <code>transfer.from</code>) to another (defined by the argument <code>transfer.to</code>) lacking it. The transference of the attribute is based on the following assumption: similar samples have similar attributes. This assumption might not hold for noisy multivariate time-series. Attribute transference can be done in two different ways (defined by the <code>mode</code> argument):
</p>

<ul>
<li> <p><em>Direct</em>: transfers the selected attribute between samples with the maximum similarity. This option will likely generate duplicated attribute values in the output.
</p>
</li>
<li> <p><em>Interpolate</em>: obtains new attribute values through weighted interpolation, being the weights derived from the distances between samples
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">workflowTransfer(
  sequences = NULL,
  grouping.column = NULL,
  time.column = NULL,
  exclude.columns = NULL,
  method = "manhattan",
  transfer.what = NULL,
  transfer.from = NULL,
  transfer.to = NULL,
  mode = "direct",
  plot = FALSE
  )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sequences</code></td>
<td>
<p>dataframe with multiple sequences identified by a grouping column generated by <code>prepareSequences</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouping.column</code></td>
<td>
<p>character string, name of the column in <code>sequences</code> to be used to identify separates sequences within the file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.column</code></td>
<td>
<p>character string, name of the column with time/depth/rank data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude.columns</code></td>
<td>
<p>character string or character vector with column names in <code>sequences</code> to be excluded from the analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character string naming a distance metric. Valid entries are: "manhattan", "euclidean", "chi", and "hellinger". Invalid entries will throw an error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transfer.what</code></td>
<td>
<p>character string, column of <code>sequences</code> with the attribute to be transferred. If empty or ill-defined, <code>time.column</code> is used instead if available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transfer.from</code></td>
<td>
<p>character string, group available in <code>grouping.column</code> identifying the sequence from which to take the attribute values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transfer.to</code></td>
<td>
<p>character string, group available in <code>grouping.column</code> identifying the sequence to which transfer the attribute values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>character string, one of: "direct" (default), "interpolate".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>boolean, if <code>TRUE</code>, plots the distance matrix and the least-cost path.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dataframe with the sequence <code>transfer.to</code>, with a column named after <code>transfer.what</code> with the attribute values.
</p>


<h3>Author(s)</h3>

<p>Blas Benito &lt;blasbenito@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">


#loading sample dataset
data(pollenGP)
#subset pollenGP to make a shorter dataset
pollenGP &lt;- pollenGP[1:50, ]

#generating a subset of pollenGP
set.seed(10)
pollenX &lt;- pollenGP[sort(sample(1:50, 40)), ]

#we separate the age column
pollenX.age &lt;- pollenX$age

#and remove the age values from pollenX
pollenX$age &lt;- NULL
pollenX$depth &lt;- NULL

#removing some samples from pollenGP
#so pollenX is not a perfect subset of pollenGP
pollenGP &lt;- pollenGP[-sample(1:50, 10), ]

#prepare sequences
GP.X &lt;- prepareSequences(
  sequence.A = pollenGP,
  sequence.A.name = "GP",
  sequence.B = pollenX,
  sequence.B.name = "X",
  grouping.column = "id",
  time.column = "age",
  exclude.columns = "depth",
  transformation = "none"
  )

#transferring age
X.new &lt;- workflowTransfer(
 sequences = GP.X,
 grouping.column = "id",
 time.column = "age",
 method = "manhattan",
 transfer.what = "age",
 transfer.from = "GP",
 transfer.to = "X",
 mode = "interpolated"
 )



</code></pre>


</div>