<div class="container">

<table style="width: 100%;"><tr>
<td>getriverpoints</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculation of river points</h2>

<h3>Description</h3>

<p>Calculation of river points
</p>


<h3>Usage</h3>

<pre><code class="language-R">getriverpoints(
  reservoir,
  pourpoints,
  ppid,
  river_distance,
  ac_tolerance,
  e_tolerance,
  nn,
  fac = fac,
  dem = dem
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>reservoir</code></td>
<td>
<p>An sf polygon, with an unstandardised raw reservoir</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pourpoints</code></td>
<td>
<p>An sf multipoint, showing the points where rivers flow in and out of reservoirs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppid</code></td>
<td>
<p>An integer to index through the pourpoints dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>river_distance</code></td>
<td>
<p>A number, indicating the number of meters downstream and upstream for the area of interest. Defaults to 100000 (100km)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ac_tolerance</code></td>
<td>
<p>A number, indicating the tolerance to changes in flow accumulation. Default 2, which means that if accumulated flow changes by a factor of 2 (halved or doubled) the area of interest should not include any further downstream or upstream. This is to account for confluences.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e_tolerance</code></td>
<td>
<p>A number indicating the tolerance to changes in elevation. Rivers flow downstream. But DEMs can show downstream areas of the river as higher, due to averaging nearby pixels. This is particularly true when rivers run through gorges. If there is no downstream lower river poitn nearby, the elevation tolerance allows the algorithm to select a point at a higher elevation, up to the threshold defined here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nn</code></td>
<td>
<p>A number, indicating the number of nearest neighbours to consider in the algorithm to determine river course. Higher can be more accurate but is slower. Default 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fac</code></td>
<td>
<p>A rast, showing accumulated water flow along river</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dem</code></td>
<td>
<p>A rast, showing elevation</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A three-element list, where the first element contains the data produced by the algorithm for all points along the river, and the second element is the sf LINESTRING object for the river, and the third denotes whether the river goes upstream (0) or downstream (1)
</p>


</div>