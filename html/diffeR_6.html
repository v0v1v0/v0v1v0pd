<div class="container">

<table style="width: 100%;"><tr>
<td>composite</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
create a composite matrix 
</h2>

<h3>Description</h3>

<p>provide a method to create a composite matrix from the crosstabulation of a comparison map (or map at time <em>t</em>) and a reference map (or map at time <em>t</em>+1), both aggregated at a given factor
</p>


<h3>Usage</h3>

<pre><code class="language-R">composite(comp, ref, factor)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>comp</code></td>
<td>

<p>object of class SpatRaster corresponding to a comparison map (or map at time <em>t</em>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>

<p>object of class SpatRaster corresponding to a reference map (or map at time <em>t</em>+1)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor</code></td>
<td>

<p>integer. Aggregation factor expressed as number of cells in each direction (horizontally and vertically). Or two integers (horizontal and vertical aggregation factor). See <code>aggregate()</code> in the <code>terra</code> package for details
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>the pixel definition in a composite matrix interpretes class membership as the proportion of a pixel that belongs to a class. The pixel contains information about only the quantity of each category (Kuzera and Pontius 2008).
</p>


<h3>Value</h3>

<p>a matrix showing the contingency table derived from the crosstabulation of a comparison map (or map at time <em>t</em>) and a reference map (or map at time <em>t</em>+1), both aggregated at a given factor. Output values are given as proportion (0 to 1)
</p>


<h3>References</h3>

<p>Kuzera, K., Pontius Jr., R.G. 2008. <em>Importance of matrix construction for multiple-resolution categorical map comparison</em>. GIScience &amp; Remote Sensing 45 (3), 249-274.
</p>


<h3>See Also</h3>

<p><code>memberships</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">comp &lt;- rast(system.file("external/comparison.rst", package = "diffeR"))
ref &lt;- rast(system.file("external/reference.rst", package = "diffeR"))
composite(comp, ref, factor = 2)
</code></pre>


</div>