<div class="container">

<table style="width: 100%;"><tr>
<td>CountSpell</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Count spells, including for grouped data</h2>

<h3>Description</h3>

<p><code>CountSpell</code> is a function that returns a variable counting the spell
number for an observation. Works with grouped data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CountSpell(data, TimeVar, SpellVar, GroupVar, NewVar, SpellValue)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TimeVar</code></td>
<td>
<p>a character string naming the time variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SpellVar</code></td>
<td>
<p>a character string naming the variable with information on
when each spell starts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GroupVar</code></td>
<td>
<p>a character string naming the variable grouping the units
experiencing the spells.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NewVar</code></td>
<td>
<p>NewVar a character string naming the new variable to place the
spell counts in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SpellValue</code></td>
<td>
<p>a value indicating when a unit is in a spell. Must match
the class of the <code>SpellVar</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># Create fake data
ID &lt;- sort(rep(seq(1:4), 5))
Time &lt;- rep(1:20)
Dummy &lt;-  c(1, sample(c(0, 1), size = 19, replace = TRUE))
Data &lt;- data.frame(ID, Time, Dummy)

# Find spell for whole data frame
DataSpell1 &lt;- CountSpell(Data, TimeVar = 'Time', SpellVar = 'Dummy',
                         SpellValue = 1)

head(DataSpell1)

# Find spell for each ID group
DataSpell2 &lt;- CountSpell(Data, TimeVar = 'Time', SpellVar = 'Dummy',
                         GroupVar = 'ID', SpellValue = 1)

head(DataSpell2)

</code></pre>


</div>