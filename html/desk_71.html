<div class="container">

<table style="width: 100%;"><tr>
<td>roll.win</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rolling Window Analysis of a Time Series</h2>

<h3>Description</h3>

<p>Helps to (visually) detect whether a time series is stationary or non-stationary. A time series is a data-generating process with every observation - as a random variable - following a distribution. When expectational value, variance, and covariance (between different points in time) are constant, the time series is indicated as weekly dependent and seen as stationary. This desired property is a requirement to overcome the problem of spurious regression. Since there is no distribution but only one observation for each point in time, adjacent observations will be used as stand-in to calculate the indicators. Therefore, the chosen window should not be too large.
</p>


<h3>Usage</h3>

<pre><code class="language-R">roll.win(x, window = 3, indicator = c("mean", "var", "cov"), tau = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a vector, usually a time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>the width of the window to calculate the indicator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indicator</code></td>
<td>
<p>character string specifying type of indicator: expected value (<code>"mean"</code>), variance (<code>"var"</code>) or covariance (<code>"cov"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>number of lags to calculate the covariance. When not specified using <code>"cov"</code>, the variance is calculated.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a vector of the calculated indicators.
</p>


<h3>Note</h3>

<p>Objects generated by <code>roll.win()</code> can be plotted using the regular <code>plot()</code> command.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Plot the expected values with a window of width 5
exp.values &lt;- roll.win(1:100, window = 5, indicator = "mean")
plot(exp.values)

## Spurious regression example
set.seed(123)
N &lt;- 10^3
p.values &lt;- rep(NA, N)

for (i in 1:N) {
  x &lt;- 1:100 + rnorm(100) # time series with trend
  y &lt;- 1:100 + rnorm(100) # time series with trend
  p.values[i] &lt;- summary(ols(y ~ x))$coef[2,4]
}
sum(p.values &lt; 0.05)/N    # share of significant results (100%)

for (i in 1:N) {
  x &lt;- rnorm(100)         # time series without trend
  y &lt;- 1:100 + rnorm(100) # time series with trend
  p.values[i] &lt;- summary(ols(y ~ x))$coef[2,4]
}
sum(p.values &lt; 0.05)/N    # share of significant results (~ 5%)

</code></pre>


</div>