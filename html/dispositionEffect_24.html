<div class="container">

<table style="width: 100%;"><tr>
<td>gains_losses</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gains &amp; Losses</h2>

<h3>Description</h3>

<p>Calculation of the realized gains and losses and the paper
gains and losses.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gains_losses(
  portfolio,
  market_prices,
  transaction_type,
  transaction_asset,
  transaction_quantity,
  transaction_price,
  transaction_datetime,
  previous_datetime,
  time_threshold = "0 mins",
  method = "all",
  allow_short = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>portfolio</code></td>
<td>
<p>Data frame of the investor's portfolio at time t.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>market_prices</code></td>
<td>
<p>Data frame containing the market prices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_type</code></td>
<td>
<p>Character string. Either "B" = buy or "S" = sell.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_asset</code></td>
<td>
<p>Character string. The name of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_quantity</code></td>
<td>
<p>Numeric value. The quantity of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_price</code></td>
<td>
<p>Numeric value. The market price of the traded asset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transaction_datetime</code></td>
<td>
<p>POSIXct value. The date-time at which the transaction
is going to occur.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>previous_datetime</code></td>
<td>
<p>POSIXct value. The date-time of the last transaction
performed by the investor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_threshold</code></td>
<td>
<p>Character in the format "value units" indicating the
time threshold at which the computed financial difftime has to be evaluated
(for instance "05 mins" or "20 hours").
The allowed units are "secs", "mins", "hours", "days" and "weeks"
(See <code>base::difftime</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character string. The method used to compute papers.
Allowed values are "count", "total", "value", "duration" and "all".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_short</code></td>
<td>
<p>Logical. If TRUE short positions are allowed, otherwise only
long positions are allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. If TRUE than messages are printed to the console.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is essentially a wrapper around <code>paper_compute</code>
and <code>realized_compute</code> functions.
It is the function that can be used for streaming computations of
gains and losses.
</p>


<h3>Value</h3>

<p>A data frame containing the values of realized and paper gains
and losses computed by means of the chosen method on each portfolio assets.
</p>


<h3>See Also</h3>

<p><code>realized_compute</code>, <code>paper_compute</code>,
<code>portfolio_compute</code>
</p>


</div>