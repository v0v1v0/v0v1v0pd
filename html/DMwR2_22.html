<div class="container">

<table style="width: 100%;"><tr>
<td>sampleCSV</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Drawing a random sample of lines from a CSV file
</h2>

<h3>Description</h3>

<p>Function for obtaining a random sample of lines from a very large CSV
file, whitout having to load in the full data into memory. Targets
situations where the full data does not fit in the computer memory so
usage of the standard <code>sample</code> function is not possible.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sampleCSV(file, percORn, nrLines, header=TRUE, mxPerc=0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>

<p>A file name (a string)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percORn</code></td>
<td>

<p>Either the percentage of number of rows of the file or the actual
number of rows, the sample should have
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrLines</code></td>
<td>

<p>Optionally you may indicate the number of rows of the file if you
know it before-hand, otherwise the function will count them for you
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>

<p>Whether the file has a header line or not (a Boolean value)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mxPerc</code></td>
<td>

<p>A maximum threshold for the percentage the sample is allowed to have
(defaults to 0.5)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can be used to draw a random sample of lines from a very
large CSV file. This is particularly usefull when you can not afford
to load the file into memory to use R functions like <code>sample</code> to
obtain the sample.
</p>
<p>The function obtains the sample of rows without actually loading the
full data into memory - only the final sample is loaded into main
memory.
</p>
<p>The function is based on unix-based utility programs (<code>perl</code> and <code>wc</code>) so
it is limited to this type of platforms. The function will not run on
other platforms (it will check the system variable <code>.Platform$OS.type</code>), although you may wish to check the function code and
see if you can adapt it to your platform.
</p>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Author(s)</h3>

<p> Luis Torgo <a href="mailto:ltorgo@dcc.fc.up.pt">ltorgo@dcc.fc.up.pt</a> </p>


<h3>References</h3>

<p>Torgo, L. (2016) <em>Data Mining using R: learning with case studies,
second edition</em>,
Chapman &amp; Hall/CRC (ISBN-13: 978-1482234893).
</p>
<p><a href="http://ltorgo.github.io/DMwR2">http://ltorgo.github.io/DMwR2</a>  
</p>


<h3>See Also</h3>

<p><code>nrLinesFile</code>, <code>sample</code>, <code>sampleDBMS</code>
</p>


</div>