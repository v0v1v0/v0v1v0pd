<div class="container">

<table style="width: 100%;"><tr>
<td>readNWISpeak</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Peak flow data from USGS (NWIS)</h2>

<h3>Description</h3>

<p>Reads peak flow from NWISweb. Data is retrieved from
<a href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>.
In some cases, the specific date of the peak data is not know. This function
will default to
converting complete dates to a "Date" object, and converting incomplete dates to
"NA". If those incomplete dates are
needed, set the 'asDateTime' argument to FALSE. No dates will be converted to
R Date objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">readNWISpeak(
  siteNumbers,
  startDate = "",
  endDate = "",
  asDateTime = TRUE,
  convertType = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>siteNumbers</code></td>
<td>
<p>character USGS site number(or multiple sites).  This is usually
an 8 digit number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD.
Default is "" which indicates
retrieval for the earliest possible record.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD.
Default is "" which indicates
retrieval for the latest possible record.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asDateTime</code></td>
<td>
<p>logical default to <code>TRUE</code>. When <code>TRUE</code>, the peak_dt column is converted
to a Date object, and incomplete dates are removed. When <code>FALSE</code>, no
columns are removed, but no dates are converted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function
will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
<td style="text-align: left;">
Name </td>
<td style="text-align: left;"> Type </td>
<td style="text-align: left;"> Description </td>
</tr>
<tr>
<td style="text-align: left;">
agency_cd </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
<td style="text-align: left;">
site_no </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
<td style="text-align: left;">
peak_dt </td>
<td style="text-align: left;"> Date </td>
<td style="text-align: left;"> Date of peak streamflow </td>
</tr>
<tr>
<td style="text-align: left;">
peak_tm </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> Time of peak streamflow as character </td>
</tr>
<tr>
<td style="text-align: left;">
peak_va </td>
<td style="text-align: left;"> numeric </td>
<td style="text-align: left;"> Annual peak streamflow value in cfs </td>
</tr>
<tr>
<td style="text-align: left;">
peak_cd </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> Peak Discharge-Qualification codes (see <code>comment</code>
for more information) </td>
</tr>
<tr>
<td style="text-align: left;">
gage_ht </td>
<td style="text-align: left;"> numeric </td>
<td style="text-align: left;"> Gage height for the associated peak streamflow in feet </td>
</tr>
<tr>
<td style="text-align: left;">
gage_ht_cd </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> Gage height qualification codes </td>
</tr>
<tr>
<td style="text-align: left;">
year_last_pk </td>
<td style="text-align: left;"> numeric </td>
<td style="text-align: left;"> Peak streamflow reported is the highest since this year </td>
</tr>
<tr>
<td style="text-align: left;">
ag_dt </td>
<td style="text-align: left;"> Date </td>
<td style="text-align: left;"> Date of maximum gage-height for water year
(if not concurrent with peak) </td>
</tr>
<tr>
<td style="text-align: left;">
ag_tm </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> Time of maximum gage-height for water year
(if not concurrent with peak) </td>
</tr>
<tr>
<td style="text-align: left;">
ag_gage_ht </td>
<td style="text-align: left;"> numeric </td>
<td style="text-align: left;"> maximum Gage height for water year in feet
(if not concurrent with peak) </td>
</tr>
<tr>
<td style="text-align: left;">
ag_gage_ht_cd </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> maximum Gage height code </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
<td style="text-align: left;">
Name </td>
<td style="text-align: left;"> Type </td>
<td style="text-align: left;"> Description </td>
</tr>
<tr>
<td style="text-align: left;">
url </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
<td style="text-align: left;">
queryTime </td>
<td style="text-align: left;"> POSIXct </td>
<td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
<td style="text-align: left;">
comment </td>
<td style="text-align: left;"> character </td>
<td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
<td style="text-align: left;">
siteInfo </td>
<td style="text-align: left;"> data.frame </td>
<td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>constructNWISURL</code>, <code>importRDB1</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
site_ids &lt;- c("01594440", "040851325")

data &lt;- readNWISpeak(site_ids)
data2 &lt;- readNWISpeak(site_ids, asDateTime = FALSE)
stations &lt;- c("06011000")
peakdata &lt;- readNWISpeak(stations, convertType = FALSE)


</code></pre>


</div>