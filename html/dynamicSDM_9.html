<div class="container">

<table style="width: 100%;"><tr>
<td>dynamic_proj_GIF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create GIF of dynamic species distribution and abundance projections</h2>

<h3>Description</h3>

<p>Plots dynamic species distribution and abundance projections through time and combines images into
a GIF.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dynamic_proj_GIF(
  dates,
  projection.type,
  drive.folder,
  user.email,
  local.directory,
  save.drive.folder,
  save.directory,
  width = 10,
  height = 10,
  legend.max,
  legend.min,
  legend.name,
  file.name,
  borders = FALSE,
  border.regions,
  border.colour = "black",
  colour.palette.custom,
  colour.palette
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>a character vector , projection dates in format "YYYY-MM-DD".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projection.type</code></td>
<td>
<p>a character string, the type of distribution or abundance projection to
plot. One of <code>proportional</code>, <code>binary</code>, <code>abundance</code> and <code>stacked</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drive.folder</code></td>
<td>
<p>optional; a character string, the Google Drive folder to read projection
rasters from. Folder must be uniquely named within Google Drive. Do not provide path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user.email</code></td>
<td>
<p>optional; a character string, user email for initialising Google Drive. Required
if <code>drive.folder</code> or <code>save.drive.folder</code> used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>local.directory</code></td>
<td>
<p>optional; a character string, the path to local directory to read
projection rasters from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save.drive.folder</code></td>
<td>
<p>optional; a character string, Google Drive folder to save GIF to. Folder
must be uniquely named within Google Drive. Do not provide path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save.directory</code></td>
<td>
<p>optional; a character string, path to local directory to save GIF to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>optional; a numeric value, the GIF width in inches Default = 480.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>optional; a numeric value, the GIF height in inches Default = 480.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.max</code></td>
<td>
<p>optional; a numeric value, the maximum limit of legend values to standardise
across projections.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.min</code></td>
<td>
<p>optional; a numeric value, the minimum limit of legend values to standardise
across projections.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.name</code></td>
<td>
<p>optional; a character string, the name for the legend title. Default =
projection.type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.name</code></td>
<td>
<p>optional, a character string, the name for the output GIF file. Default =
<code>projection.type</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>borders</code></td>
<td>
<p>a logical indicating whether to add country borders to map. Default = <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.regions</code></td>
<td>
<p>optional; a character string or vector, the region or regionss for which to
add map borders. Required if <code>borders = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.colour</code></td>
<td>
<p>optional; a character vector, the colour for plotted map borders. Default =
<code>black.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour.palette.custom</code></td>
<td>
<p>optional; a character string or vector, the colours to use as plot
colour palette.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour.palette</code></td>
<td>
<p>optional; a character string, the colormap option to use from <code>viridis</code>. See
details for colour palette options.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function reads in projection rasters for each date. These are plotted using <code>ggplot2</code> and
combined into a Graphics Interchange Format (GIF).
</p>


<h3>Value</h3>

<p>Exports GIF to Google Drive folder or local directory.
</p>


<h3>Import projection rasters</h3>

<p>Projection rasters for each date must be “tif” files that are uniquely named with the date
in format "YYYY-MM-DD" and <code>projection.type.</code> If more than one file name matches the date and
<code>projection.type</code>, the function will error.
</p>


<h3>Google Drive compatibility</h3>

<p>If <code>drive.folder</code> or <code>save.drive.folder</code> is given, please ensure the folder name is unique
within your Google Drive. Do not provide the path if the folder is nested within others.
</p>
<p>If one of <code>drive.folder</code> or <code>save.drive.folder</code> are used then <code>user.email</code> is required to access
the appropriate Google Drive user account. This requires users to have installed R package
<code>googledrive</code> and initialised Google Drive with valid log-in credentials. Please follow
instructions on <a href="https://googledrive.tidyverse.org/">https://googledrive.tidyverse.org/</a>.
</p>
<p>Options for colour palettes using <code>viridis</code> are illustrated at:
<a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">https://ggplot2.tidyverse.org/reference/scale_viridis.html</a>. Available options include: "magma"
(or "A"), "inferno" (or "B"), "plasma" (or "C"), "viridis" (or "D", the default option),
"cividis" (or "E"), "rocket" (or "F"), "mako"(or "G") and "turbo" (or "H").
</p>


<h3>References</h3>

<p>Wickham, H., and Chang, W, 2016. Package ‘ggplot2’. Create elegant data
visualisations using the grammar of graphics. Version, 2(1), pp.1-189.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
proj_dates &lt;- dynamic_proj_dates(startdate = "2018-01-01",
                                     enddate = "2018-12-01",
                                     interval = 3,
                                     interval.level = "month")

# Generate fake proportional projection SpatRasters
proj1 &lt;- terra::rast(ncols=22, nrows=25)
proj1 &lt;- terra::setValues(proj1, sample(0:100, terra::ncell(proj1), replace = TRUE)/100)

proj2 &lt;- terra::rast(ncols=22, nrows=25)
proj2 &lt;- terra::setValues(proj2, sample(0:100, terra::ncell(proj2), replace = TRUE)/100)

proj3 &lt;- terra::rast(ncols=22, nrows=25)
proj3 &lt;- terra::setValues(proj3, sample(0:100, terra::ncell(proj3), replace = TRUE)/100)

proj4 &lt;- terra::rast(ncols=22, nrows=25)
proj4 &lt;- terra::setValues(proj4, sample(0:100, terra::ncell(proj4), replace = TRUE)/100)

# Save sample projection rasters to replicate output from `dynamic_proj()`
terra::writeRaster(proj1,
                  filename = paste0(tempdir(),
                  "/",
                  paste0(proj_dates[1], "_proportional.tif")),
                  overwrite = TRUE)
terra::writeRaster(proj2,
                  filename = paste0(tempdir(),
                  "/",
                  paste0(proj_dates[2], "_proportional.tif")),
                  overwrite = TRUE)
terra::writeRaster(proj3,
                  filename = paste0(tempdir(),
                  "/",
                  paste0(proj_dates[3], "_proportional.tif")),
                  overwrite = TRUE)
terra::writeRaster(proj4,
                  filename = paste0(tempdir(),
                  "/",
                  paste0(proj_dates[4], "_proportional.tif")),
                  overwrite = TRUE)

dynamic_proj_GIF(dates = proj_dates,
                projection.type = "proportional",
                local.directory = tempdir(),
                save.directory = tempdir())

</code></pre>


</div>