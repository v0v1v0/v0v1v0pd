<div class="container">

<table style="width: 100%;"><tr>
<td>ccd.augment</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Function for augmenting an existing cube with a star portion, using package rsm </h2>

<h3>Description</h3>

<p>Function for augmenting an existing fractional factorial with a star portion 
in case of a late decision for a sequential procedure. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">ccd.augment(cube, ncenter = 4, columns="all", block.name="Block.ccd",
        alpha = "orthogonal", randomize=TRUE, seed=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cube</code></td>
<td>
<p>design generated by function <code>FrF2</code>. The design 
must not be a split-plot design, nor a parameter design in long version. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncenter</code></td>
<td>
<p> integer number of center points, 
or vector with two numbers, the first for the cube and the second for 
the star portion of the design. <br>
If only one number is given, this is either used for each block (if the 
cube block does not have center points yet) or for the star portion of the 
design only. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block.name</code></td>
<td>
<p> name of block factor that distinguishes (at least) between blocks; 
even for unblocked cubes, the ccd design has a cube and a star point block </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
 <p>“orthogonal”, “rotatable”, 
or a number that indicates the position of the star points;
the number 1 would create a face-centered design. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>randomize</code></td>
<td>
<p> logical that indicates whether or not randomization should occur </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p> NULL or a vector of two integer seeds for random number generation in randomization<br>
In R version 3.6.0 and later, the default behavior of function <code>sample</code>
has changed. If you work in a new (i.e., &gt;= 3.6.-0) R version and want to reproduce 
a randomized design from an earlier R version (before 3.6.0), 
you have to change the RNGkind setting by<br><code>RNGkind(sample.kind="Rounding")</code><br>
before running function <code>ccd.augment</code>.<br>
It is recommended to change the setting back to the new recommended way afterwards:<br><code>RNGkind(sample.kind="default")</code><br>
For an example, see the documentation of the example data set <code>VSGFS</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> reserved for future usage </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>not yet implemented; 
it is intended to later allow to add star points for only some factors 
of a design (after eliminating the others as unimportant in a sequential process), 
and columns will be used to indicate those</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The statistical background of central composite designs is briefly described 
under <code>CentralCompositeDesigns</code>.
</p>
<p>Function <code>ccd.augment</code> augments an existing 2-level fractional factorial 
that should already have been run with center points and should have resolution V. 
</p>
<p>In exceptional situations, it may be useful to base a ccd on a resolution IV design 
that allows estimation of all 2-factor interactions of interest. Thus, it can be 
interesting to apply function <code>ccd.augment</code> to a cube 
based on the <code>estimable</code> functionality of function <code>FrF2</code> 
in cases where a resolution V cube is not feasible.
Of course, this does not allow to estimate the aliased 2-factor interactions 
and therefore generates a warning.
</p>


<h3>Value</h3>

<p>The function returns a data frame of S3 class <code>design</code> 
with attributes attached. The data frame itself is in the original data scale. 
The data frame <code>desnum</code> attached as attribute <code>desnum</code> is the original data frame 
returned by package <code>rsm</code>. The attribute <code>design.info</code> is a list of various design properties. 
The element <code>type</code> of that list is the character string <code>ccd</code>.
Besides the elements present in all class <code>design</code> objects, 
there are the elements quantitative (vector with <code>nfactor</code> TRUE entries),
and a <code>codings</code> element usable in the coding functions available in the <span class="pkg">rsm</span> 
package, e.g. <code>coded.data</code>.
</p>
<p>Note that the row names and the standard order column in the <code>run.order</code> 
attribute of ccd designs based on 
estimability requirements (cf. also the details section) are not in conventional order 
and should not be used as the basis for any calculations. The same is true for 
blocked designs, if the blocking routine <code>blockpick.big</code> was used.
</p>


<h3>Warning</h3>

<p>Since R version 3.6.0, the behavior of function <code>sample</code> has changed 
(correction of a biased previous behavior that should not be relevant for the randomization of designs). 
For reproducing a randomized design that was produced with an earlier R version, 
please follow the steps described with the argument <code>seed</code>.
</p>


<h3>Note</h3>

<p> This package is still under (slow) development. Reports about bugs and inconveniences are welcome. <code>ccd.augment</code> is based on version 1 of package <span class="pkg">rsm</span>. </p>


<h3>Author(s)</h3>

<p> Ulrike Groemping </p>


<h3>References</h3>

 
<p>Box, G.E.P., Hunter, J.S. and Hunter, W.G. (2005, 2nd ed.). <em>Statistics for Experimenters</em>. 
Wiley, New York.
</p>
<p>Box, G.E.P. and Wilson, K.B. (1951). On the Experimental Attainment of Optimum Conditions. 
<em>J. Royal Statistical Society</em>, <b>B13</b>, 1-45.
</p>
<p>NIST/SEMATECH e-Handbook of Statistical Methods, 
<a href="http://www.itl.nist.gov/div898/handbook/pri/section3/pri3361.htm">http://www.itl.nist.gov/div898/handbook/pri/section3/pri3361.htm</a>, 
accessed August 20th, 2009.
</p>
<p>Myers, R.H., Montgomery, D.C. and Anderson-Cook, C.M. (2009). <em>Response Surface Methodology. 
Process and Product Optimization Using Designed Experiments</em>. Wiley, New York.
</p>


<h3>See Also</h3>

<p> See also <code>ccd.design</code>, <code>FrF2</code>, 
<code>lhs-package</code>, <code>rsm</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">  ## purely technical examples for the sequential design creation process
    ## start with a fractional factorial with center points
    plan &lt;- FrF2(16,5,default.levels=c(10,30),ncenter=6)
    ## collect data and add them to the design
    y &lt;- rexp(22)
    plan &lt;- add.response(plan,y)
    ## assuming that an analysis has created the suspicion that a second order 
    ## model should be fitted (not to be expected for the above random numbers):
    plan.augmented &lt;- ccd.augment(plan, ncenter=4)
    ## add new responses to the design
    y &lt;- c(y, rexp(14))  ## append responses for the 14=5*2 + 4 star points
    r.plan.augmented &lt;- add.response(plan.augmented, y, replace=TRUE)

  ## for info: how to analyse results from such a desgin
    lm.result &lt;- lm(y~Block.ccd+(.-Block.ccd)^2+I(A^2)+I(B^2)+I(C^2)+I(D^2)+I(E^2), 
                      r.plan.augmented)
    summary(lm.result)
    ## analysis with function rsm
    rsm.result &lt;- rsm(y~Block.ccd+SO(A,B,C,D,E), r.plan.augmented)
    summary(rsm.result)  ## provides more information than lm.result
    loftest(rsm.result)  ## separate lack of fit test
    ## graphical analysis 
    ## (NOTE: purely for demo purposes, the model is meaningless here)
    ## individual contour plot
    contour(rsm.result,B~A)
    ## several contour plots
    par(mfrow=c(1,2))
    contour(rsm.result,list(B~A, C~E))
    ## many contourplots, all pairs of some factors
    par(mfrow=c(2,3))
    contour(rsm.result,~A+B+C+D)
</code></pre>


</div>