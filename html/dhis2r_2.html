<div class="container">

<table style="width: 100%;"><tr>
<td>Dhis2r</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Connect and pull/get data from a DHIS2 instance</h2>

<h3>Description</h3>

<p>To create a DHIS2 connection, you need a DHIS2 base URL, username, password, and an API version
The R6 Class called 'Dhis2r' representing a DHIS2 instance connection
</p>


<h3>Format</h3>

<p>An R6 class called Dhis2r.
</p>


<h3>Details</h3>

<p>You can use a DHIS2 instance connection to get data several times without needing to manually supply your user credentials on each API call.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>request_sent</code></dt>
<dd>
<p>The request used to perform an API call</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>Name of the user</p>
</dd>
<dt><code>access_rights</code></dt>
<dd>
<p>The access rights the user has on the DHIS2 instance</p>
</dd>
<dt><code>account_info</code></dt>
<dd>
<p>Information of the logged account credentials</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Dhis2r-new"><code>Dhis2r$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Dhis2r-get_user_info"><code>Dhis2r$get_user_info()</code></a>
</p>
</li>
<li> <p><a href="#method-Dhis2r-get_metadata"><code>Dhis2r$get_metadata()</code></a>
</p>
</li>
<li> <p><a href="#method-Dhis2r-get_metadata_fields"><code>Dhis2r$get_metadata_fields()</code></a>
</p>
</li>
<li> <p><a href="#method-Dhis2r-get_analytics"><code>Dhis2r$get_analytics()</code></a>
</p>
</li>
<li> <p><a href="#method-Dhis2r-clone"><code>Dhis2r$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Dhis2r-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a connection to a DHIS2 instance using basic authentication
</p>


<h5>Usage</h5>

<div class="r"><pre>Dhis2r$new(
  base_url,
  username,
  password,
  api_version = NULL,
  api_version_position = c("after", "before")
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>base_url</code></dt>
<dd>
<p>Base url e.g https://play.dhis2.org/</p>
</dd>
<dt><code>username</code></dt>
<dd>
<p>Registered username e.g "admin"</p>
</dd>
<dt><code>password</code></dt>
<dd>
<p>Registered password e.g "district"</p>
</dd>
<dt><code>api_version</code></dt>
<dd>
<p>The api version e.g "33"</p>
</dd>
<dt><code>api_version_position</code></dt>
<dd>
<p>position where the api_version is after or before in web API url i.e /api/</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new 'Dhis2r' object
</p>


<hr>
<a id="method-Dhis2r-get_user_info"></a>



<h4>Method <code>get_user_info()</code>
</h4>

<p>Get information of the logged in user
</p>


<h5>Usage</h5>

<div class="r"><pre>Dhis2r$get_user_info()</pre></div>



<h5>Returns</h5>

<p>A vector
</p>


<hr>
<a id="method-Dhis2r-get_metadata"></a>



<h4>Method <code>get_metadata()</code>
</h4>

<p>Get metadata about any available resource from a DHIS2 instance e.g "dataElements",
"organisationUnits", "indicators", "periodTypes"
</p>


<h5>Usage</h5>

<div class="r"><pre>Dhis2r$get_metadata(endpoint = NULL, fields = c("name", "id"))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>endpoint</code></dt>
<dd>
<p>a resource, get the available resources using 'get_metadata()' without any arguments</p>
</dd>
<dt><code>fields</code></dt>
<dd>
<p>The specific columns to be return in the dataframe e.g c("name","id")</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A data frame
</p>


<hr>
<a id="method-Dhis2r-get_metadata_fields"></a>



<h4>Method <code>get_metadata_fields()</code>
</h4>

<p>Get all possible fields for a specific metadata resource from a DHIS2 instance
</p>


<h5>Usage</h5>

<div class="r"><pre>Dhis2r$get_metadata_fields(endpoint = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>endpoint</code></dt>
<dd>
<p>a resource, get the available resources using 'get_metadata()' without any arguments</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A vector of all possible fields for a specific metadata
</p>


<hr>
<a id="method-Dhis2r-get_analytics"></a>



<h4>Method <code>get_analytics()</code>
</h4>

<p>Get all possible analytics resources from a DHIS2 instance i.e
</p>


<h5>Usage</h5>

<div class="r"><pre>Dhis2r$get_analytics(
  analytic,
  org_unit,
  period,
  output_scheme = c("UID", "NAME")
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>analytic</code></dt>
<dd>
<p>vector of ID of specific analytic(s) from a DHIS2 instance</p>
</dd>
<dt><code>org_unit</code></dt>
<dd>
<p>vector of ID of specific organisation unit(s) from a DHIS2 instance</p>
</dd>
<dt><code>period</code></dt>
<dd>
<p>vector of relative or fixed periods from a DHIS2 instance</p>
</dd>
<dt><code>output_scheme</code></dt>
<dd>
<p>Output type ID or Names of fields</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A vector of all possible fields for a specific metadata
</p>


<hr>
<a id="method-Dhis2r-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Dhis2r$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# connect to the DHIS2 instance
dhis2_play_connection &lt;- Dhis2r$new(base_url = "https://play.dhis2.org/",
 username = "admin",  password = "district",api_version = "2.39.0.1")

# get all the available resources
dhis2_play_connection$get_metadata()

# get organisation Units with the default fields i.e c("name","id")

dhis2_play_connection$get_metadata(endpoint = "organisationUnits")

# get a vector of all possible fields of a organisation unit resource
dhis2_play_connection$get_metadata_fields(endpoint = "organisationUnits")

# get organisation Units with additional fields i.e c("name","id", "level")

dhis2_play_connection$get_metadata(endpoint = "organisationUnits",
fields =  c("name","id", "level"))

dhis2_play_connection$get_analytics(analytic = c("Uvn6LCg7dVU"),
org_unit =   c("O6uvpzGd5pu", "fdc6uOvgoji"),
period = "LAST_12_MONTHS",
 output_scheme = "NAME")


## End(Not run)
</code></pre>


</div>