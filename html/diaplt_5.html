<div class="container">

<table style="width: 100%;"><tr>
<td>beadsplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Beads Summary Plot
</h2>

<h3>Description</h3>

<p>Visualize one-factor data frame.  Look over a data frame
with many numeric columns and a factor column.
Beads plot consists of diamonds of each factor of each 
data series.  A diamond indicates average and range.
</p>


<h3>Usage</h3>

<pre><code class="language-R">beadsplot(x, ...)

## Default S3 method:
beadsplot(x, index=NULL, horizontal=FALSE,
               col=NULL, sheer=NULL, shading=NA, shading.angle=NA,
               bw=0.2, lwd=1, lwd.center=lwd, 
               legend=TRUE, label.factor=TRUE, label.range=TRUE, 
               drift.label.factor=c(0.2,2), drift.label.range=c(0,0),
               S=min, E=mean, N=max, summary.labels=NULL,
               plot=TRUE, verbose=FALSE, ...)

## S3 method for class 'data.frame'
beadsplot(x, index=NULL, horizontal=FALSE,
               col=NULL, sheer=NULL, shading=NA, shading.angle=NA,
               bw=0.2, lwd=1, lwd.center=lwd, 
               legend=TRUE, label.factor=TRUE, label.range=TRUE, 
               drift.label.factor=c(0.2,2), drift.label.range=c(0,0),
               S=min, E=mean, N=max, summary.labels=NULL,
               plot=TRUE, verbose=FALSE, ...)

## S3 method for class 'numeric'
beadsplot(x, index=NULL, horizontal=FALSE,
               col=NULL, sheer=NULL, shading=NA, shading.angle=NA,
               bw=0.2, lwd=1, lwd.center=lwd, 
               legend=TRUE, label.factor=TRUE, label.range=TRUE, 
               drift.label.factor=c(0.2,2), drift.label.range=c(0,0),
               S=min, E=mean, N=max, summary.labels=NULL,
               plot=TRUE, verbose=FALSE, ...)

## S3 method for class 'character'
beadsplot(x, data, horizontal=FALSE,
               col=NULL, sheer=NULL, shading=NA, shading.angle=NA,
               bw=0.2, lwd=1, lwd.center=lwd, 
               legend=TRUE, label.factor=TRUE, label.range=TRUE, 
               drift.label.factor=c(0.2,2), drift.label.range=c(0,0),
               S=min, E=mean, N=max, summary.labels=NULL,
               plot=TRUE, verbose=FALSE, ...)

## S3 method for class 'formula'
beadsplot(formula, data, horizontal=FALSE,
               col=NULL, sheer=NULL, shading=NA, shading.angle=NA,
               bw=0.2, lwd=1, lwd.center=lwd, 
               legend=TRUE, label.factor=TRUE, label.range=TRUE, 
               drift.label.factor=c(0.2,2), drift.label.range=c(0,0),
               S=min, E=mean, N=max, summary.labels=NULL,
               plot=TRUE, verbose=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>data frame, 
contains observation columns 
(for <code>beadsplot.default</code>, that is,  = <code>beadsplot.data.frame</code>). <br>
numeric vector, 
as a single observation data (for <code>beadsplot.numeric</code>). <br>
character, as a column name of factor 
(for <code>beadsplot.character</code>). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>

<p>factor to separate rows. 
default (<code>NULL</code>) is to plot without factors. <br>
character vector, or data frame with a single column,
as a factor to separate rows 
(for <code>beadsplot.default</code> and <code>beadsplot.numeric</code>). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>formula, a model formula, eg. <code>factor ~ obs1 + obs2 + obs3</code> 
(for <code>beadsplot.formula</code>). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>data.frame, contains variables in formula
(for <code>beadsplot.formula</code>), 
or observation columns with a factor column 
(for <code>beadsplot.character</code>). <br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>

<p>if TRUE is given, diamond beads are plotted horizontally. 
default is FALSE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>

<p>character vector, as colors by factor. 
default is <code>NULL</code> to select colors automatically.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sheer</code></td>
<td>

<p>numeric vector of four items, as trasparencies, 
that is, alpha levels of colors. 
each item must be between <code>0</code> and <code>1</code>, 
<code>1</code> is for solid colors. 
items are in sequence of legend, label, border and diamond. 
default is <code>NULL</code>, same as <code>c(1, 0.9, 0.6, 0.2)</code>, 
legneds use solid colors, labels almost solid, borders sheer, 
and diamods are most sheer. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shading</code></td>
<td>

<p>numeric vector, as shading density to draw inside of beads. 
default is <code>NA</code> to draw automatic, usually no shadings. 
the density value means lines per inch. 
the generator depends the vector length. 
</p>

<dl>
<dt>1</dt>
<dd>
<p>a sigle value is used to all densities</p>
</dd>
<dt>2</dt>
<dd>
<p>values are generated between the pair</p>
</dd>
<dt>k</dt>
<dd>
<p>when k is number of factor levels, values are used to each level</p>
</dd>
</dl>
<p>logical value TRUE has a special meaning to enable shading with automatic densities.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shading.angle</code></td>
<td>

<p>numeric vector, as shading angle to draw inside of beads. 
default is <code>NA</code> to draw automatic, usually no shadings. 
the angle value means degree of line direction to horizon. 
the generator depends the vector length with same manner of density.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>

<p>numeric value, as half of bead width relative to series distance,
default is <code>0.2</code>, is 40% width.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>

<p>numeric value, as line width of bead border,
default is <code>1</code>. 
set <code>NULL</code> to disable border line. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.center</code></td>
<td>

<p>numeric value, as line width of bead center,
default is <code>lwd</code>, same width as border.
set <code>NULL</code> to disable center line. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>

<p>logical value, to control the display of legned located at top. 
set FALSE to disable the legend.
default is TRUE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.factor</code></td>
<td>

<p>logical value, to control the display of labels located at each bead. 
set FALSE to disable the labels.
default is TRUE. <br>
character vector, as alternative labels can be also specified. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.range</code></td>
<td>

<p>logical value, to control the display of whole range values. 
set FALSE to disable showing range values. 
default is TRUE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drift.label.factor</code></td>
<td>

<p>numeric vector, as <code>(value, cycle)</code> 
to give small drifts to factor label location.
default is <code>c(0.2, 2)</code>, to generate <code>0.2, 0, 0.2, 0, ...</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drift.label.range</code></td>
<td>

<p>numeric vector, as <code>(value, cycle)</code> 
to give small drifts to range label location.
default is <code>c(0, 0)</code>, to generate no drifts. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>

<p>function, to calculate summary for bottom vertex. 
default is <code>min</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>E</code></td>
<td>

<p>function, to calculate summary for center diagonal.
default is <code>mean</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>

<p>function, to calculate summary for top vertex. 
default is <code>max</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.labels</code></td>
<td>

<p>character vector, as names of summary functions S, E and N.
eg. <code>c('Minimum','Mean','Maximum')</code>.
default is <code>NULL</code>, no explicit names.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>

<p>if FALSE is given, it disable to plot and print a summary.  
default is TRUE.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>if TRUE is given, it print verbose debugging information. 
default is FALSE.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>plot parameters and scale parameters are acceptable.  
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is designed to visualize an overview of a data frame
with one factor. 
Such as, soil chemical components of several sites. <br>
When you have recommended values or critical limits for upper and lower 
which you want to compare with the data, scale parameter arguments 
<code>scale.data.center</code> and <code>scale.data.border</code> can be used. 
Eg. setting critical values of pH, Nitrogen and Phosphorus 
and draw horizontal grids as these critical values. 
</p>


<h3>Value</h3>

<p>A summary list is explicitly printed when plot=FALSE is given, 
and is invisibly returned when plot=TRUE.  
</p>
<table>
<tr style="vertical-align: top;">
<td><code>scaled</code></td>
<td>

<p>scaled summary of three-dimensional array (series, factors, summaries)
</p>

<dl>
<dt>series</dt>
<dd>
<p> each column of data </p>
</dd>
<dt>factors</dt>
<dd>
<p> each index </p>
</dd>
<dt>summaries</dt>
<dd>
<p> S/min, E/mean, N/max </p>
</dd>
</dl>
<p>for one-dimensional vector data, series=1 is used.
for one-level index=NULL, factors=1 is used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>

<p>unscaled summary of three-dimensional array (series, factors, summaries)
data structure is same as scaled item.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>

<p>scaling parameters
</p>
</td>
</tr>
</table>
<h3>Scale parameters</h3>


<dl>
<dt>scale.range</dt>
<dd>
<p>Numeric value with default=1.
Width between center and border grids.
NULL turns off scaling.
</p>
</dd>
<dt>scale.mean</dt>
<dd>
<p>Numeric value with default=0.
Location of center grid.
NULL turns off centering.
</p>
</dd>
<dt>scale.log</dt>
<dd>
<p>Logical value with default=FALSE.
TRUE enables log10 scaling.
</p>
</dd>
<dt>scale.data.center</dt>
<dd>
<p>Numeric vector with default=NULL.
Give center value vector from outside.
See section Details and Examples. 
</p>
</dd>
<dt>scale.data.border</dt>
<dd>
<p>Numeric matrix with default=NULL.
Give border value matrix from outside.
See section Details and Examples. 
</p>
</dd>
<dt>scale.grid.center</dt>
<dd>
<p>Character value with default=NA.
Color of center grid. 
NULL turns off drawing the grid.
</p>
</dd>
<dt>scale.grid.border</dt>
<dd>
<p>Character value with default=NA.
Color of border grids. 
NULL turns off drawing the grids.
</p>
</dd>
<dt>cex.axis</dt>
<dd>
<p>Numeric value with default=1.
Font size of grid label.
</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Shinichiro Tomizono
</p>


<h3>References</h3>

<p>Beads Summary Plot of Ranges: <a href="https://tomizonor.wordpress.com/2013/11/12/beads-plot/">https://tomizonor.wordpress.com/2013/11/12/beads-plot/</a>
</p>


<h3>See Also</h3>

<p><code>range</code>,
<code>min</code>,
<code>max</code>,
<code>mean</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># iris data, by Species
beadsplot(Species~., iris)
beadsplot('Species', iris)
beadsplot(iris[1:4], iris[5])
beadsplot(iris[1:4], iris[,5])

# iris data, Petal.Length by Species
beadsplot(iris[,'Petal.Length'], iris[,'Species'], drift.label.factor=-0.2)

# horizontal
beadsplot(Species~., iris, horizontal=TRUE)

# color, sheer and shading
beadsplot(Species~., iris, 
          col=c('tomato1','tomato4','tomato3'), sheer=c(1,0.3,0.6,0.05))
beadsplot(Species~., iris, bw=0.5, label.factor=FALSE,
          sheer=c(1,0.9,0.6,0.4), lwd=NULL)
beadsplot(Species~., iris, shading=c(3,5))

# labels
beadsplot(Species~., iris, label.factor=FALSE)
beadsplot(Species~., iris, label.factor=c('a','b','c'), 
          drift.label.factor=0.05)
beadsplot(Species~., iris, legend=FALSE)

# scale grids
## disable grids
beadsplot(Species~., iris, scale.grid.center=FALSE, scale.grid.border=FALSE)
## color grids
beadsplot(Species~., iris, scale.grid.center='red', scale.grid.border='tan')

# scaling
beadsplot(Species~., iris, scale.range=50, scale.mean=50)
## no centering by mean
beadsplot(Species~., iris, scale.mean=NULL)
## plot raw values
beadsplot(Species~., iris, scale.range=NULL, scale.mean=NULL)
beadsplot(Species~., iris, scale.range=NULL, scale.mean=NULL, scale.log=TRUE)
## custom value scaling

### critical matrix as ranges of versicolor,
###   in sequeence of Sep.Len, Sep.Wid, Pet.Len, Pet.Wid
criticals &lt;- matrix(c(4.9,7.0, 2.0,3.4, 3.0,5.1, 1.0,1.8), nrow=2, ncol=4)
beadsplot(Species~., iris, scale.data.border=criticals)

### recommend vector as mean of versicolor, in sequeence of 
###            S.Len, S.Wid, P.Len, P.Wid
recommend &lt;- c(5.936, 2.770, 4.260, 1.326)
beadsplot(Species~., iris, scale.data.border=criticals, scale.data.center=recommend)
### when both of center and border is specified,
### center is dominance, border is adjusted to indicate  
### the width between lower and upper grids. 
### in this case, criticals can be simplified as follows,
### criticals &lt;- matrix(c(0,2.1, 0,1.4, 0,2.1, 0,0.8), nrow=2, ncol=4)
### because differences each are used. 

### recommend vector as mean of setosa, in sequeence of 
###             S.Len, S.Wid, P.Len, P.Wid
recommend2 &lt;- c(5.006, 3.428, 1.462, 0.246)
beadsplot(Species~., iris, scale.data.border=criticals, scale.data.center=recommend2)
### center grid is on setosa mean, 
### lower and upper grids indicate versicolor range width.

beadsplot(Species~., iris, scale.data.center=recommend2)
### center grid is on setosa mean, 
### lower and upper grids indicate whole range width.

# using median and IQR
q1 &lt;- function(x) fivenum(x)[2]
q3 &lt;- function(x) fivenum(x)[4]
q2 &lt;- median
beadsplot(Species~., iris, S=q1, E=q2, N=q3)

# graphic parameters
beadsplot(Species~., iris, cex=0.7, cex.axis=0.7)

# print summary
beadsplot(Species~., iris, plot=FALSE)
</code></pre>


</div>