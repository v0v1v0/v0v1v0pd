<div class="container">

<table style="width: 100%;"><tr>
<td>difference_in_time</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Difference in time</h2>

<h3>Description</h3>

<p>Financial implementation of
<code>base::difftime</code>, that takes into account
trading day horizons (including pre and after market hours.)
</p>


<h3>Usage</h3>

<pre><code class="language-R">difftime_financial(
  from,
  to,
  pre_market = 8,
  after_market = 22,
  units = "hours"
)

difftime_compare(from, to, time_threshold = "0 mins")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>POSIXct for the initial date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>POSIXct for the final date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_market</code></td>
<td>
<p>numeric or character representing the hour of the day at
which the pre-market begins.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>after_market</code></td>
<td>
<p>numeric or character representing the hour of the day at
which the after-market ends.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>Character string specifying a time unit.
(See <code>base::difftime</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_threshold</code></td>
<td>
<p>Character in the format "value units" indicating the
time threshold at which the computed financial difftime has to be evaluated
(for instance "05 mins" or "20 hours").
The allowed units are "secs", "mins", "hours", "days" and "weeks"
(See <code>base::difftime</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>


<dl>
<dt><code>difftime_financial</code></dt>
<dd>
<p>returns a numeric value in hours.
To convert in a different time unit use
<code>base::as.numeric</code> and specify the
<code>units</code> argument (units = c("secs", "mins", "hours", "days",
"weeks")).</p>
</dd>
<dt><code>difftime_compare</code></dt>
<dd>
<p>returns a character string whose possible
values are "greater" or "smaller", indicating whether the
<code>difftime_financial</code> evaluated between the two dates is greater or
smaller than the chosen threshold.</p>
</dd>
</dl>
<h3>Functions</h3>


<ul>
<li> <p><code>difftime_financial</code>: Extension of the
<code>base::difftime</code> function to calculate the
actual financial difftime taking into account pre and after market
moments and financial markets closing days.
</p>
</li>
<li> <p><code>difftime_compare</code>: Comparison of the <code>difftime_financial</code>
with respect to a given time threshold.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>base::difftime</code>
</p>


</div>