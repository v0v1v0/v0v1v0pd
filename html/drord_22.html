<div class="container">

<table style="width: 100%;"><tr>
<td>estimate_pmf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get a treatment-specific estimate of the conditional PMF. 
Essentially this is a wrapper function for <code>fit_trt_spec_reg</code>, which
fits the proportion odds model in a given treatment arm.</h2>

<h3>Description</h3>

<p>Get a treatment-specific estimate of the conditional PMF. 
Essentially this is a wrapper function for <code>fit_trt_spec_reg</code>, which
fits the proportion odds model in a given treatment arm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">estimate_pmf(
  out,
  treat,
  covar,
  out_levels,
  out_form = NULL,
  out_model,
  treat_prob_est,
  stratify = FALSE,
  return_models = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>out</code></td>
<td>
<p>A <code>numeric</code> vector containing the outcomes. Missing outcomes are 
allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat</code></td>
<td>
<p>A <code>numeric</code> vector containing treatment status. Missing
values are not allowed unless the corresponding entry in <code>out</code> is also missing. 
Only values of 0 or 1 are treated as actual treatment levels. Any other value is assumed 
to encode a value for which the outcome is missing and the corresponding outcome value is 
ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covar</code></td>
<td>
<p>A <code>data.frame</code> containing the covariates to include in the working
proportional odds model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_levels</code></td>
<td>
<p>A <code>numeric</code> vector containing all ordered levels of the 
outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_form</code></td>
<td>
<p>The right-hand side of a regression formula for the working proportional 
odds model. NOTE: THIS FORMULA MUST NOT SUPPRESS THE INTERCEPT.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_model</code></td>
<td>
<p>Which R function should be used to fit the proportional odds 
model. Options are <code>"polr"</code> (from the <code>MASS</code> package), 
"vglm" (from the <code>VGAM</code> package), or <code>"clm"</code> (from the <code>ordinal</code> package).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat_prob_est</code></td>
<td>
<p>Estimated probability of treatments, output from call
to <code>estimate_treat_prob</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratify</code></td>
<td>
<p>Boolean indicating whether to use nonparametric maximum likelihood
(i.e., a stratified estimator). If <code>out_form = "1"</code>, then a covariate-unadjusted
estimate is computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_models</code></td>
<td>
<p>If <code>TRUE</code> the fitted working proportional odds models
and treatment probability models are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other options (not used).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with <code>fm</code> the fitted model for treatment 1 and 0 (or, if 
<code>!return_models</code> then <code>NULL</code>) and <code>pmf</code> the estimated PMF 
under treatment 1 and 0 evaluated on each observation.
</p>


</div>