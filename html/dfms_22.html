<div class="container">

<table style="width: 100%;"><tr>
<td>residuals.dfm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>DFM Residuals and Fitted Values</h2>

<h3>Description</h3>

<p>The residuals <code class="reqn">\textbf{e}_t = \textbf{x}_t - \textbf{C} \textbf{F}_t</code> or fitted values <code class="reqn">\textbf{C} \textbf{F}_t</code> of the DFM observation equation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'dfm'
residuals(
  object,
  method = switch(object$em.method, none = "2s", "qml"),
  orig.format = FALSE,
  standardized = FALSE,
  na.keep = TRUE,
  ...
)

## S3 method for class 'dfm'
fitted(
  object,
  method = switch(object$em.method, none = "2s", "qml"),
  orig.format = FALSE,
  standardized = FALSE,
  na.keep = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class 'dfm'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character. The factor estimates to use: one of <code>"qml"</code>, <code>"2s"</code> or <code>"pca"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orig.format</code></td>
<td>
<p>logical. <code>TRUE</code> returns residuals/fitted values in a data format similar to <code>X</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardized</code></td>
<td>
<p>logical. <code>FALSE</code> will put residuals/fitted values on the original data scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.keep</code></td>
<td>
<p>logical. <code>TRUE</code> inserts missing values where <code>X</code> is missing (default <code>TRUE</code> as residuals/fitted values are only defined for observed data). <code>FALSE</code> returns the raw prediction, which can be used to interpolate data based on the DFM. For residuals, <code>FALSE</code> returns the difference between the prediction and the initial imputed version of <code>X</code> use for PCA to initialize the Kalman Filter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix of DFM residuals or fitted values. If <code>orig.format = TRUE</code> the format may be different, e.g. a data frame.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(xts)
# Fit DFM with 3 factors and 3 lags in the transition equation
mod = DFM(diff(BM14_M), r = 3, p = 3)

# Residuals
head(resid(mod))
plot(resid(mod, orig.format = TRUE)) # this is an xts object

# Fitted values
head(fitted(mod))
head(fitted(mod, orig.format = TRUE)) # this is an xts object


</code></pre>


</div>