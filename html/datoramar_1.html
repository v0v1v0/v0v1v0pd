<div class="container">

<table style="width: 100%;"><tr>
<td>datorama_query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A query constructor for the Datorama API</h2>

<h3>Description</h3>

<p>A query constructor for the Datorama API
</p>


<h3>Usage</h3>

<pre><code class="language-R">datorama_query(token = NULL, brandId = NULL, dateRange = c("CUSTOM",
  "CUSTOM_ON_GOING", "YESTERDAY", "WEEK_TO_DATE", "BI_WEEK_TO_DATE",
  "MONTH_TO_DATE", "QUARTER_TO_DATE", "YEAR_TO_DATE", "WEEK_TO_DATE_CUSTOM",
  "BI_WEEK_TO_DATE_CUSTOM", "MONTH_TO_DATE_CUSTOM", "QUARTER_TO_DATE_CUSTOM",
  "YEAR_TO_DATE_CUSTOM", "PREV_WEEK", "PREV_BI_WEEK", "PREV_MONTH",
  "PREV_QUARTER", "PREV_YEAR", "PREV_WEEK_CUSTOM", "PREV_BI_WEEK_CUSTOM",
  "PREV_MONTH_CUSTOM", "PREV_QUARTER_CUSTOM", "PREV_YEAR_CUSTOM", "LAST_WEEK",
  "LAST_BI_WEEK", "LAST_MONTH", "LAST_3_MONTHS", "THIS_WEEK",     
  "THIS_BI_WEEK", "THIS_MONTH", "THIS_QUARTER", "THIS_YEAR", "THIS_WEEK_CUSTOM",
  "THIS_BI_WEEK_CUSTOM", "THIS_MONTH_CUSTOM", "THIS_QUARTER_CUSTOM",
  "THIS_YEAR_CUSTOM"), startDate = NULL, endDate = NULL,
  measurements = NULL, dimensions = NULL, groupDimensionFilters = NULL,
  stringDimensionFilters = NULL, stringDimensionFiltersOperator = NULL,
  numberMeasurementFilter = NULL, sortBy = NULL, sortOrder = NULL,
  topResults = NULL, groupOthers = NULL, topPerDimension = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>A string containing your token for authentication. Get in <code>datorama_auth</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brandId</code></td>
<td>
<p>A string containing the Brand ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dateRange</code></td>
<td>
<p>A string containing date range for query</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startDate</code></td>
<td>
<p>A string -&gt; format YYYY-MM-DD</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endDate</code></td>
<td>
<p>A string -&gt; format YYYY-MM-DD</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurements</code></td>
<td>
<p>A list of lists including attributes to include -&gt; list(list(name = "Investment"))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimensions</code></td>
<td>
<p>A list of dimensions to be included -&gt; list("Day", "Site Name")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupDimensionFilters</code></td>
<td>
<p>A list of lists including dimension, operator -&gt; "IN", "NOT IN", and vals for filtering</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stringDimensionFilters</code></td>
<td>
<p>A list of lists including dimension, operator -&gt; "EQUALS", "NOT_EQUALS", "NOT_EQUALS_CASE_SENSITIVE", "CONTAINS", "NOT_CONTAINS", "STARTS_WITH", "ENDS_WITH", "IS_EMPTY", "IS_NOT_EMPTY", and val for filtering</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stringDimensionFiltersOperator</code></td>
<td>
<p>A string for string dimension filtering -&gt; "AND", "OR"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numberMeasurementFilter</code></td>
<td>
<p>A list of lists including filedName (measurement name), operator -&gt; "EQUALS", "NOT_EQUALS", "GREATER", "GREATER_EQUALS", "LESS", "LESS_EQUALS", "IS_NULL", "IS_NOT_NULL", "IS_NAN", "IS_NOT_NAN" and val for filtering</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortBy</code></td>
<td>
<p>A string including name of dimension/measurement to sort by</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortOrder</code></td>
<td>
<p>A string containing the order of the sort -&gt; "ASC", "DESC"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topResults</code></td>
<td>
<p>A string containing the number of results to return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupOthers</code></td>
<td>
<p>Boolean determining whether to group all results not in topResults</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topPerDimension</code></td>
<td>
<p>Boolean determining whether to return topResults per dimension</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble with the query's response
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
datorama_query(token = "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
               brandId = "271",
               dateRange = "CUSTOM",
               startDate = "2017-11-01",
               endDate = "2017-11-20",
               measurements = list(list(name = "Clicks"),
                              list(name = "Impressions")),
               dimensions = list("Day", "Site Name")
)

## End(Not run)
</code></pre>


</div>