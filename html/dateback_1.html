<div class="container">

<table style="width: 100%;"><tr>
<td>install</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Collect and install source packages on a specified date with dependencies</h2>

<h3>Description</h3>

<p>Collect and install source packages on a specified date with dependencies.
</p>
<p><code>install()</code> automatically downloads and installs <code>tar.gz</code> files
with dependencies, all of which were available on a specific day.
</p>
<p>Downloaded contents are saved in <code>outdir</code> (if set) which can be
used as a local repository for <code>install.packages()</code>.
</p>
<p>Use <code>collect()</code> to create a local repository without installation.
See the example for details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">install(pkgs, date,
        lib = .libPaths()[1],
        repos = "https://cloud.r-project.org",
        dependencies = c("Depends", "Imports", "LinkingTo"),
        skip_installed = TRUE,
        skip_recommended = FALSE,
        outdir = NULL,
        overwrite = FALSE,
        ...
  )

collect(pkgs, date, outdir,
        repos = "https://cloud.r-project.org",
        dependencies = c("Depends", "Imports", "LinkingTo"),
        skip_installed = FALSE,
        skip_recommended = TRUE,
        overwrite = FALSE
  )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pkgs</code></td>
<td>
<p>character vector of the names of packages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date</code></td>
<td>
<p>character specifying a date in <code>YYYY-MM-DD</code> format.
It tries to find the latest version of source packages on this date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outdir</code></td>
<td>
<p>character specifying the output directory path.
In <code>install()</code> it can be <code>NULL</code> to use a temporary directory.
It will contain downloaded source packages, and can be used as
a local package repository. See the example for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repos</code></td>
<td>
<p>CRAN mirror URL such as <code>https://cloud.r-project.org</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lib</code></td>
<td>
<p>character vector of the library directories used in
<code>install.packages()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dependencies</code></td>
<td>
<p>character vector of the dependency level
for additional downloads. It can include
<code>c("Depends", "Imports", "LinkingTo", "Suggests")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_installed</code></td>
<td>
<p>logical. If <code>TRUE</code> it does not collect files for
packages already installed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_recommended</code></td>
<td>
<p>logical. If <code>TRUE</code> it does not collet files for
"recommended" packages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>logical. If <code>TRUE</code> it overwrites existing files in
<code>outdir</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to <code>install.packages()</code></p>
</td>
</tr>
</table>
<p>.
</p>


<h3>Value</h3>

<p><code>data.frame</code> containing information about collected packages.
Please notice that it is intended for logging, and the structure of
this object may change in future releases.</p>


<h3>Note</h3>

<p>This package was originally developed to (partially) substitute the
"CRAN Time Machine" (or "MRAN Time Machine"), which retired in July 2023
(<a href="https://blog.revolutionanalytics.com/2023/01/mran-time-machine-retired.html">https://blog.revolutionanalytics.com/2023/01/mran-time-machine-retired.html</a>).
</p>
<p>Posit Package Manager (<a href="https://packagemanager.posit.co/">https://packagemanager.posit.co/</a>) has a snapshot
feature, so can be used as a direct replacement for CRAN Time Machine.
Windows/Mac users would greatly benefit from it since binary packages are also
available.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Install 'ranger' package and its dependecies on the date 2023-03-01
dateback::install(pkgs = "ranger", date = "2023-03-01")

# Collect packages and install them later (maybe on another system)
dateback::collect(pkgs = "ranger", date = "2023-03-01", outdir = "local_repo")
install.packages(pkgs = "ranger", repos = "file:local_repo")

## End(Not run)
</code></pre>


</div>