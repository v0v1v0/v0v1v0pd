<div class="container">

<table style="width: 100%;"><tr>
<td>random_spec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Additional Specifications for the Group-level Random Effects of the DMPM</h2>

<h3>Description</h3>

<p>This function can be used as part of <code>dynamiteformula()</code> to define
whether the group-level random effects should be modeled as correlated or
not.
</p>


<h3>Usage</h3>

<pre><code class="language-R">random_spec(correlated = TRUE, noncentered = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>correlated</code></td>
<td>
<p>[<code>logical(1)</code>]<br> If <code>TRUE</code> (the default), correlations
of random effects are modeled as multivariate normal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noncentered</code></td>
<td>
<p>[<code>logical(1)</code>]<br> If <code>TRUE</code> (the default), use a
noncentered parameterization for random effects. Try changing this if
you encounter divergences or other problems in sampling.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With a large number of time points random intercepts can become challenging
sample with default priors. This is because with large group sizes the
group-level intercepts tend to be behave similarly to fixed group-factor
variable so the model becomes overparameterized given these and the common
intercept term. Another potential cause for sampling problems is relatively
large variation in the intercepts (large sigma_nu) compared to the sampling
variation (sigma) in the Gaussian case.
</p>


<h3>Value</h3>

<p>An object of class <code>random_spec</code>.
</p>


<h3>See Also</h3>

<p>Model formula construction
<code>dynamite()</code>,
<code>dynamiteformula()</code>,
<code>lags()</code>,
<code>lfactor()</code>,
<code>splines()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data.table::setDTthreads(1) # For CRAN
# two channel model with correlated random effects for responses x and y
obs(y ~ 1 + random(~1), family = "gaussian") +
  obs(x ~ 1 + random(~1 + z), family = "poisson") +
  random_spec(correlated = TRUE)

</code></pre>


</div>