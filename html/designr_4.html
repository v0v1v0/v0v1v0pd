<div class="container">

<table style="width: 100%;"><tr>
<td>design.contrasts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve contrast codes for a design</h2>

<h3>Description</h3>

<p>This function can be used to retrieve contrast codes based on experimental codes / planned observations.
</p>
<p>Use this function to retrieve the names for contrasts in an experimental design, such as used by lm, lmer and many other regression models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">design.contrasts(
  design,
  factors = names(fixed.factors(design)),
  contrasts = NULL,
  expand = TRUE,
  rename_contrasts = "%1$s%2$s",
  intercept = FALSE,
  interactions = FALSE,
  include_random_levels = FALSE
)

contrast.names(design, ranfac = NULL, as_symbols = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>A design object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factors</code></td>
<td>
<p>Which fixed factors to include in the output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts</code></td>
<td>
<p>Contrasts to use for each categorical factor. Should be a list named after the fixed effects and containing contrast matrices, such as the ones generated by the standard contrast functions. If NULL or the fixed factor is not found in the list, default contrasts are used (typically, treatment contrasts).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand</code></td>
<td>
<p>If TRUE, a design matrix is returned. If FALSE, all factors (and interactions) with their respective levels are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rename_contrasts</code></td>
<td>
<p>This is the pattern after which columns in the design matrix are named. By default, this is a direct concatenation of factor name and contrast name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>If TRUE, an intercept is added to the matrix. Its value is 1 for all observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interactions</code></td>
<td>
<p>If TRUE, interactions of fixed factors are included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_random_levels</code></td>
<td>
<p>If TRUE, levels of random factors are included in the matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranfac</code></td>
<td>
<p>Return random-effects contrast names for a given random factor. If NULL, return fixed-effects contrast names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_symbols</code></td>
<td>
<p>Return contrast names as symbols rather than strings (character vectors).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to pass on to design.contrasts()</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A design matrix (if expand==TRUE, default) or a list of factor levels (if expand==FALSE) for design.contrasts or contrast names for contrast.names.
</p>


<h3>Functions</h3>


<ul><li> <p><code>contrast.names()</code>: Retrieve contrast names for a design
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">

des &lt;- fixed.factor("Factor1", c("1A","1B")) +
       fixed.factor("Factor2", c("2A","2B")) +
       random.factor("Subject", c("Factor1"))

              
design.contrasts(des)

contrast.names(des)

stopifnot(contrast.names(des) == c("Factor11B", "Factor22B"))

contrast.names(des, as_symbols = TRUE)

design.contrasts(des, contrasts = list(Factor2 = contr.sum))

contrast.names(des, contrasts = list(Factor2 = contr.sum))

</code></pre>


</div>