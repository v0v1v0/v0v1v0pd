<div class="container">

<table style="width: 100%;"><tr>
<td>nth_day</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute Reference Dates
</h2>

<h3>Description</h3>

<p>Compute sequences of reference dates, such as last
day of month or first day of quarter.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nth_day(timestamps, period = "month", n,
        start, end, business.days = FALSE,
        missing = "previous", index = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>timestamps</code></td>
<td>

<p>timestamps: a sorted vector of Dates
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>

<p>numeric or character: supported are <code>"week"</code>,
<code>"month"</code>, <code>"quarter"</code>,
<code>"halfyear"</code>, <code>"year"</code>.  If numeric,
period is interpreted as a month number, with
January being 1.  Also possible are month names,
either English as in <code>month.name</code> or
<code>month.abb</code>, or as defined in the
current locale (see <code>strftime</code> format
specification <code>"%b"</code> and <code>"%B"</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>numeric or character: currently supported are
<code>"first"</code> and <code>"last"</code>. If numeric, it
will be interpreted as the <em>n</em>-th day of the
period.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>

<p><code>Date</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>

<p><code>Date</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>business.days</code></td>
<td>

<p>logical
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing</code></td>
<td>

<p>character. Not supported yet.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>

<p>logical. If <code>TRUE</code>, the indices (instead of
actual timestamps) are returned.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function computes sequences of dates that are
often used as reference dates, for instance in
financial reporting: last day of the month or of the
year, or a particular day of the month.
</p>
<p>The function takes a vector of timestamps and returns
a subset of these timestamps. Alternatively, a
sequence of calendar days may be constructed by
specifying <code>start</code> and <code>end</code>.
</p>


<h3>Value</h3>

<p>A vector of timestamps or, if <code>index</code> is
<code>TRUE</code>, a vector of integers.
</p>


<h3>Author(s)</h3>

<p>Enrico Schumann
</p>


<h3>See Also</h3>

<p><code>nth_weekday</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">timestamps &lt;- seq(from = as.Date("2001-01-01"),
                  to   = as.Date("2001-04-15"),
                  by   = "1 day")

nth_day(timestamps, period = "quarter", n = "last")
## [1] "2001-03-31" "2001-04-15"

nth_day(timestamps, period = "quarter", n = 10)
## [1] "2001-01-10" "2001-04-10"

nth_day(timestamps, period = "quarter", n = 1:2)
## [1] "2001-01-01" "2001-01-02" "2001-04-01" "2001-04-02"

nth_day(timestamps, period = "month", n = "last")
## [1] "2001-01-31" "2001-02-28" "2001-03-31" "2001-04-15"


nth_day(start = as.Date("2016-06-03"),
        end   = as.Date("2017-08-01"),
        period = c(6, 12), n = 3)
## [1] "2016-06-05" "2016-12-03" "2017-06-03"

nth_day(start = as.Date("2016-06-03"),
        end   = as.Date("2017-08-01"),
        period = c("Jun", "Dec"), n = c(3, 5))
## [1] "2016-06-05" "2016-06-07" "2016-12-03" "2016-12-05"
## [5] "2017-06-03" "2017-06-05"

</code></pre>


</div>